   1               		.file	"ServerTDMARedundante.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  11               		.section	.progmem.data.baudctrl_1mhz,"a",@progbits
  14               	baudctrl_1mhz:
  15 0000 3300      		.word	51
  16 0002 1900      		.word	25
  17 0004 0C00      		.word	12
  18 0006 0600      		.word	6
  19 0008 0300      		.word	3
  20 000a 0200      		.word	2
  21 000c 0100      		.word	1
  22 000e FF00      		.word	255
  23               		.section	.progmem.data.baudctrl_8mhz,"a",@progbits
  26               	baudctrl_8mhz:
  27 0000 A001      		.word	416
  28 0002 CF00      		.word	207
  29 0004 6700      		.word	103
  30 0006 3300      		.word	51
  31 0008 1900      		.word	25
  32 000a 0C00      		.word	12
  33 000c 0700      		.word	7
  34 000e 0800      		.word	8
  35               		.section	.progmem.data.baudctrl_16mhz,"a",@progbits
  38               	baudctrl_16mhz:
  39 0000 4003      		.word	832
  40 0002 A001      		.word	416
  41 0004 CF00      		.word	207
  42 0006 6700      		.word	103
  43 0008 3300      		.word	51
  44 000a 1900      		.word	25
  45 000c 1000      		.word	16
  46 000e 1000      		.word	16
  47               		.text
  49               	usart_serial_init:
  50               	.LFB104:
  51               		.file 1 "../../../platform/common/services/serial/megarf_usart/usart_serial.h"
   1:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /**
   2:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \file
   3:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
   4:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \brief This file defines a useful set of functions for the Serial interface on 
   5:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * AVR MEGARF devices.
   6:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
   7:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * Copyright (c) 2013 Atmel Corporation. All rights reserved.
   8:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
   9:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \asf_license_start
  10:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  11:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \page License
  12:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  13:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * Redistribution and use in source and binary forms, with or without
  14:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * modification, are permitted provided that the following conditions are met:
  15:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  16:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *    this list of conditions and the following disclaimer.
  18:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  19:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  20:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *    this list of conditions and the following disclaimer in the documentation
  21:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *    and/or other materials provided with the distribution.
  22:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  23:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  24:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *    from this software without specific prior written permission.
  25:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  26:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * 4. This software may only be redistributed and used in connection with an
  27:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *    Atmel microcontroller product.
  28:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  29:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  30:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  31:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  32:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  33:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  34:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  35:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  36:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  37:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  38:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  39:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * POSSIBILITY OF SUCH DAMAGE.
  40:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  41:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \asf_license_stop
  42:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  43:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  */
  44:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #ifndef _USART_SERIAL_H_
  45:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #define _USART_SERIAL_H_
  46:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  47:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #ifdef __cplusplus
  48:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** extern "C" {
  49:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #endif
  50:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  51:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #include "compiler.h"
  52:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #include "sysclk.h"
  53:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #include "status_codes.h"
  54:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #include "usart_megarf.h"
  55:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  56:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /*! \name Serial Management Configuration
  57:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  */
  58:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /* ! @{ */
  59:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** #include "conf_usart_serial.h"
  60:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /* ! @} */
  61:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  62:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** typedef usart_rs232_options_t usart_serial_options_t;
  63:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  64:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** typedef USART_t *usart_if;
  65:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  66:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /*! \brief Initializes the Usart in master mode.
  67:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  68:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param usart       Base address of the USART instance.
  69:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param options     Options needed to set up RS232 communication (see \ref
  70:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * usart_serial_options_t).
  71:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  72:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \retval true if the initialization was successful
  73:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \retval false if initialization failed (error in baud rate calculation)
  74:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  */
  75:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** static inline bool usart_serial_init(usart_if usart, const
  76:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 		usart_serial_options_t *options)
  77:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** {
  52               		.loc 1 77 0
  53               		.cfi_startproc
  54 0000 CF93      		push r28
  55               	.LCFI0:
  56               		.cfi_def_cfa_offset 3
  57               		.cfi_offset 28, -2
  58 0002 DF93      		push r29
  59               	.LCFI1:
  60               		.cfi_def_cfa_offset 4
  61               		.cfi_offset 29, -3
  62 0004 CDB7      		in r28,__SP_L__
  63 0006 DEB7      		in r29,__SP_H__
  64               	.LCFI2:
  65               		.cfi_def_cfa_register 28
  66 0008 2B97      		sbiw r28,11
  67               	.LCFI3:
  68               		.cfi_def_cfa_offset 15
  69 000a 0FB6      		in __tmp_reg__,__SREG__
  70 000c F894      		cli
  71 000e DEBF      		out __SP_H__,r29
  72 0010 0FBE      		out __SREG__,__tmp_reg__
  73 0012 CDBF      		out __SP_L__,r28
  74               	/* prologue: function */
  75               	/* frame size = 11 */
  76               	/* stack size = 13 */
  77               	.L__stack_usage = 13
  78 0014 9987      		std Y+9,r25
  79 0016 8887      		std Y+8,r24
  80 0018 7B87      		std Y+11,r23
  81 001a 6A87      		std Y+10,r22
  78:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	/* USART options. */
  79:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	usart_rs232_options_t usart_rs232_options;
  80:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	usart_rs232_options.charlength   = options->charlength;
  82               		.loc 1 80 0
  83 001c 8A85      		ldd r24,Y+10
  84 001e 9B85      		ldd r25,Y+11
  85 0020 FC01      		movw r30,r24
  86 0022 8481      		ldd r24,Z+4
  87 0024 8D83      		std Y+5,r24
  81:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	usart_rs232_options.paritytype   = options->paritytype;
  88               		.loc 1 81 0
  89 0026 8A85      		ldd r24,Y+10
  90 0028 9B85      		ldd r25,Y+11
  91 002a FC01      		movw r30,r24
  92 002c 8581      		ldd r24,Z+5
  93 002e 8E83      		std Y+6,r24
  82:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	usart_rs232_options.stopbits     = options->stopbits;
  94               		.loc 1 82 0
  95 0030 8A85      		ldd r24,Y+10
  96 0032 9B85      		ldd r25,Y+11
  97 0034 FC01      		movw r30,r24
  98 0036 8681      		ldd r24,Z+6
  99 0038 8F83      		std Y+7,r24
  83:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	usart_rs232_options.baudrate     = options->baudrate;
 100               		.loc 1 83 0
 101 003a 8A85      		ldd r24,Y+10
 102 003c 9B85      		ldd r25,Y+11
 103 003e FC01      		movw r30,r24
 104 0040 8081      		ld r24,Z
 105 0042 9181      		ldd r25,Z+1
 106 0044 A281      		ldd r26,Z+2
 107 0046 B381      		ldd r27,Z+3
 108 0048 8983      		std Y+1,r24
 109 004a 9A83      		std Y+2,r25
 110 004c AB83      		std Y+3,r26
 111 004e BC83      		std Y+4,r27
  84:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  85:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	if (usart_init_rs232(usart, &usart_rs232_options)) {
 112               		.loc 1 85 0
 113 0050 8885      		ldd r24,Y+8
 114 0052 9985      		ldd r25,Y+9
 115 0054 9E01      		movw r18,r28
 116 0056 2F5F      		subi r18,-1
 117 0058 3F4F      		sbci r19,-1
 118 005a B901      		movw r22,r18
 119 005c 0E94 0000 		call usart_init_rs232
 120 0060 8823      		tst r24
 121 0062 01F0      		breq .L2
  86:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 		return true;
 122               		.loc 1 86 0
 123 0064 81E0      		ldi r24,lo8(1)
 124 0066 00C0      		rjmp .L4
 125               	.L2:
  87:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	} else {
  88:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 		return false;
 126               		.loc 1 88 0
 127 0068 80E0      		ldi r24,0
 128               	.L4:
 129               	/* epilogue start */
  89:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	}
  90:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** }
 130               		.loc 1 90 0 discriminator 1
 131 006a 2B96      		adiw r28,11
 132 006c 0FB6      		in __tmp_reg__,__SREG__
 133 006e F894      		cli
 134 0070 DEBF      		out __SP_H__,r29
 135 0072 0FBE      		out __SREG__,__tmp_reg__
 136 0074 CDBF      		out __SP_L__,r28
 137 0076 DF91      		pop r29
 138 0078 CF91      		pop r28
 139 007a 0895      		ret
 140               		.cfi_endproc
 141               	.LFE104:
 144               	usart_serial_putchar:
 145               	.LFB105:
  91:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
  92:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /*! \brief Sends a character with the USART.
  93:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  94:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param usart   Base address of the USART instance.
  95:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param c       Character to write.
  96:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
  97:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \return Status code
  98:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  */
  99:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** static inline status_code_t usart_serial_putchar(usart_if usart, uint8_t c)
 100:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** {
 146               		.loc 1 100 0
 147               		.cfi_startproc
 148 007c CF93      		push r28
 149               	.LCFI4:
 150               		.cfi_def_cfa_offset 3
 151               		.cfi_offset 28, -2
 152 007e DF93      		push r29
 153               	.LCFI5:
 154               		.cfi_def_cfa_offset 4
 155               		.cfi_offset 29, -3
 156 0080 00D0      		rcall .
 157 0082 1F92      		push __zero_reg__
 158               	.LCFI6:
 159               		.cfi_def_cfa_offset 7
 160 0084 CDB7      		in r28,__SP_L__
 161 0086 DEB7      		in r29,__SP_H__
 162               	.LCFI7:
 163               		.cfi_def_cfa_register 28
 164               	/* prologue: function */
 165               	/* frame size = 3 */
 166               	/* stack size = 5 */
 167               	.L__stack_usage = 5
 168 0088 9A83      		std Y+2,r25
 169 008a 8983      		std Y+1,r24
 170 008c 6B83      		std Y+3,r22
 101:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	return usart_putchar(usart, c);
 171               		.loc 1 101 0
 172 008e 8981      		ldd r24,Y+1
 173 0090 9A81      		ldd r25,Y+2
 174 0092 6B81      		ldd r22,Y+3
 175 0094 0E94 0000 		call usart_putchar
 176               	/* epilogue start */
 102:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** }
 177               		.loc 1 102 0
 178 0098 0F90      		pop __tmp_reg__
 179 009a 0F90      		pop __tmp_reg__
 180 009c 0F90      		pop __tmp_reg__
 181 009e DF91      		pop r29
 182 00a0 CF91      		pop r28
 183 00a2 0895      		ret
 184               		.cfi_endproc
 185               	.LFE105:
 188               	usart_serial_getchar:
 189               	.LFB106:
 103:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 
 104:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** /*! \brief Waits until a character is received, and returns it.
 105:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
 106:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param usart   Base address of the USART instance.
 107:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  * \param data   Data to read
 108:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  *
 109:../../../platform/common/services/serial/megarf_usart/usart_serial.h ****  */
 110:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** static inline void usart_serial_getchar(usart_if usart, uint8_t *data)
 111:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** {
 190               		.loc 1 111 0
 191               		.cfi_startproc
 192 00a4 CF93      		push r28
 193               	.LCFI8:
 194               		.cfi_def_cfa_offset 3
 195               		.cfi_offset 28, -2
 196 00a6 DF93      		push r29
 197               	.LCFI9:
 198               		.cfi_def_cfa_offset 4
 199               		.cfi_offset 29, -3
 200 00a8 00D0      		rcall .
 201 00aa 00D0      		rcall .
 202               	.LCFI10:
 203               		.cfi_def_cfa_offset 8
 204 00ac CDB7      		in r28,__SP_L__
 205 00ae DEB7      		in r29,__SP_H__
 206               	.LCFI11:
 207               		.cfi_def_cfa_register 28
 208               	/* prologue: function */
 209               	/* frame size = 4 */
 210               	/* stack size = 6 */
 211               	.L__stack_usage = 6
 212 00b0 9A83      		std Y+2,r25
 213 00b2 8983      		std Y+1,r24
 214 00b4 7C83      		std Y+4,r23
 215 00b6 6B83      		std Y+3,r22
 112:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** 	*data = usart_getchar(usart);
 216               		.loc 1 112 0
 217 00b8 8981      		ldd r24,Y+1
 218 00ba 9A81      		ldd r25,Y+2
 219 00bc 0E94 0000 		call usart_getchar
 220 00c0 282F      		mov r18,r24
 221 00c2 8B81      		ldd r24,Y+3
 222 00c4 9C81      		ldd r25,Y+4
 223 00c6 FC01      		movw r30,r24
 224 00c8 2083      		st Z,r18
 113:../../../platform/common/services/serial/megarf_usart/usart_serial.h **** }
 225               		.loc 1 113 0
 226 00ca 0000      		nop
 227               	/* epilogue start */
 228 00cc 0F90      		pop __tmp_reg__
 229 00ce 0F90      		pop __tmp_reg__
 230 00d0 0F90      		pop __tmp_reg__
 231 00d2 0F90      		pop __tmp_reg__
 232 00d4 DF91      		pop r29
 233 00d6 CF91      		pop r28
 234 00d8 0895      		ret
 235               		.cfi_endproc
 236               	.LFE106:
 239               	stdio_serial_init:
 240               	.LFB107:
 241               		.file 2 "../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h"
   1:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** /**
   2:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
   3:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \file
   4:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
   5:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \brief Common Standard I/O Serial Management.
   6:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
   7:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * This file defines a useful set of functions for the Stdio Serial interface on AVR
   8:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * and SAM devices.
   9:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  10:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * Copyright (c) 2009-2013 Atmel Corporation. All rights reserved.
  11:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  12:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \asf_license_start
  13:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  14:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \page License
  15:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  16:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * Redistribution and use in source and binary forms, with or without
  17:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * modification, are permitted provided that the following conditions are met:
  18:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  19:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * 1. Redistributions of source code must retain the above copyright notice,
  20:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *    this list of conditions and the following disclaimer.
  21:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  22:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  23:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *    this list of conditions and the following disclaimer in the documentation
  24:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *    and/or other materials provided with the distribution.
  25:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  26:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  27:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *    from this software without specific prior written permission.
  28:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  29:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * 4. This software may only be redistributed and used in connection with an
  30:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *    Atmel microcontroller product.
  31:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  32:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  33:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  34:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  35:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  36:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  37:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  38:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  39:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  40:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  41:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  42:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * POSSIBILITY OF SUCH DAMAGE.
  43:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  44:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \asf_license_stop
  45:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  46:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  ******************************************************************************/
  47:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  48:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  49:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #ifndef _STDIO_SERIAL_H_
  50:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #define _STDIO_SERIAL_H_
  51:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  52:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** /**
  53:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \defgroup group_common_utils_stdio_stdio_serial Standard serial I/O (stdio)
  54:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \ingroup group_common_utils_stdio
  55:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  56:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * Common standard serial I/O management driver that
  57:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * implements a stdio serial interface on AVR and SAM devices.
  58:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  59:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \{
  60:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  */
  61:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  62:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #include <stdio.h>
  63:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #include "compiler.h"
  64:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #ifndef SAMD20
  65:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # include "sysclk.h"
  66:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #endif
  67:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #include "serial.h"
  68:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  69:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #if (XMEGA || MEGA_RF) && defined(__GNUC__)
  70:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	extern int _write (char c, int *f);
  71:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	extern int _read (int *f);
  72:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #endif
  73:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  74:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  75:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** //! Pointer to the base of the USART module instance to use for stdio.
  76:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** extern volatile void *volatile stdio_base;
  77:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** //! Pointer to the external low level write function.
  78:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** extern int (*ptr_put)(void volatile*, char);
  79:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  80:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** //! Pointer to the external low level read function.
  81:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** extern void (*ptr_get)(void volatile*, char*);
  82:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
  83:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** /*! \brief Initializes the stdio in Serial Mode.
  84:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  85:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \param usart       Base address of the USART instance.
  86:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  * \param opt         Options needed to set up RS232 communication (see \ref usart_options_t).
  87:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  *
  88:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h ****  */
  89:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** static inline void stdio_serial_init(volatile void *usart, const usart_serial_options_t *opt)
  90:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** {
 242               		.loc 2 90 0
 243               		.cfi_startproc
 244 00da CF93      		push r28
 245               	.LCFI12:
 246               		.cfi_def_cfa_offset 3
 247               		.cfi_offset 28, -2
 248 00dc DF93      		push r29
 249               	.LCFI13:
 250               		.cfi_def_cfa_offset 4
 251               		.cfi_offset 29, -3
 252 00de 00D0      		rcall .
 253 00e0 00D0      		rcall .
 254               	.LCFI14:
 255               		.cfi_def_cfa_offset 8
 256 00e2 CDB7      		in r28,__SP_L__
 257 00e4 DEB7      		in r29,__SP_H__
 258               	.LCFI15:
 259               		.cfi_def_cfa_register 28
 260               	/* prologue: function */
 261               	/* frame size = 4 */
 262               	/* stack size = 6 */
 263               	.L__stack_usage = 6
 264 00e6 9A83      		std Y+2,r25
 265 00e8 8983      		std Y+1,r24
 266 00ea 7C83      		std Y+4,r23
 267 00ec 6B83      		std Y+3,r22
  91:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	stdio_base = (void *)usart;
 268               		.loc 2 91 0
 269 00ee 8981      		ldd r24,Y+1
 270 00f0 9A81      		ldd r25,Y+2
 271 00f2 9093 0000 		sts stdio_base+1,r25
 272 00f6 8093 0000 		sts stdio_base,r24
  92:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	ptr_put = (int (*)(void volatile*,char))&usart_serial_putchar;
 273               		.loc 2 92 0
 274 00fa 80E0      		ldi r24,lo8(gs(usart_serial_putchar))
 275 00fc 90E0      		ldi r25,hi8(gs(usart_serial_putchar))
 276 00fe 9093 0000 		sts ptr_put+1,r25
 277 0102 8093 0000 		sts ptr_put,r24
  93:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	ptr_get = (void (*)(void volatile*,char*))&usart_serial_getchar;
 278               		.loc 2 93 0
 279 0106 80E0      		ldi r24,lo8(gs(usart_serial_getchar))
 280 0108 90E0      		ldi r25,hi8(gs(usart_serial_getchar))
 281 010a 9093 0000 		sts ptr_get+1,r25
 282 010e 8093 0000 		sts ptr_get,r24
  94:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # if (XMEGA || MEGA_RF)
  95:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	usart_serial_init((USART_t *)usart,opt);
 283               		.loc 2 95 0
 284 0112 2B81      		ldd r18,Y+3
 285 0114 3C81      		ldd r19,Y+4
 286 0116 8981      		ldd r24,Y+1
 287 0118 9A81      		ldd r25,Y+2
 288 011a B901      		movw r22,r18
 289 011c 0E94 0000 		call usart_serial_init
  96:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # elif UC3
  97:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	usart_serial_init(usart,(usart_serial_options_t *)opt);
  98:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # elif SAM
  99:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	usart_serial_init((Usart *)usart,(usart_serial_options_t *)opt);
 100:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # else
 101:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #  error Unsupported chip type
 102:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # endif
 103:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 
 104:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # if defined(__GNUC__)
 105:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #  if (XMEGA || MEGA_RF)
 106:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// For AVR GCC libc print redirection uses fdevopen.
 107:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	fdevopen((int (*)(char, FILE*))(_write),(int (*)(FILE*))(_read));
 290               		.loc 2 107 0
 291 0120 60E0      		ldi r22,lo8(gs(_read))
 292 0122 70E0      		ldi r23,hi8(gs(_read))
 293 0124 80E0      		ldi r24,lo8(gs(_write))
 294 0126 90E0      		ldi r25,hi8(gs(_write))
 295 0128 0E94 0000 		call fdevopen
 108:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #  endif
 109:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #  if UC3 || SAM
 110:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// For AVR32 and SAM GCC
 111:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// Specify that stdout and stdin should not be buffered.
 112:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	setbuf(stdout, NULL);
 113:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	setbuf(stdin, NULL);
 114:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// Note: Already the case in IAR's Normal DLIB default configuration
 115:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// and AVR GCC library:
 116:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// - printf() emits one character at a time.
 117:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** 	// - getchar() requests only 1 byte to exit.
 118:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** #  endif
 119:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** # endif
 120:../../../platform/common/utils/stdio/stdio_serial/stdio_serial.h **** }
 296               		.loc 2 120 0
 297 012c 0000      		nop
 298               	/* epilogue start */
 299 012e 0F90      		pop __tmp_reg__
 300 0130 0F90      		pop __tmp_reg__
 301 0132 0F90      		pop __tmp_reg__
 302 0134 0F90      		pop __tmp_reg__
 303 0136 DF91      		pop r29
 304 0138 CF91      		pop r28
 305 013a 0895      		ret
 306               		.cfi_endproc
 307               	.LFE107:
 310               	macsc_enable_manual_bts:
 311               	.LFB121:
 312               		.file 3 "../../../platform/mega_rf/drivers/macsc/macsc_megarf.h"
   1:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
   2:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \file
   3:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
   4:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief AVR MEGARF MAC Symbol Counter Driver Definitions
   5:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
   6:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * Copyright (c) 2013 Atmel Corporation. All rights reserved.
   7:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
   8:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \asf_license_start
   9:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  10:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \page License
  11:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  12:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * Redistribution and use in source and binary forms, with or without
  13:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * modification, are permitted provided that the following conditions are met:
  14:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  15:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *    this list of conditions and the following disclaimer.
  17:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  18:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *    this list of conditions and the following disclaimer in the documentation
  20:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *    and/or other materials provided with the distribution.
  21:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  22:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *    from this software without specific prior written permission.
  24:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  25:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * 4. This software may only be redistributed and used in connection with an
  26:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *    Atmel microcontroller product.
  27:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  28:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * POSSIBILITY OF SUCH DAMAGE.
  39:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  40:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \asf_license_stop
  41:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  42:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
  43:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #ifndef MACSC_MEGARF_H
  44:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define MACSC_MEGARF_H
  45:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
  46:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #include <compiler.h>
  47:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #include <parts.h>
  48:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #include "status_codes.h"
  49:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
  50:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #ifdef __cplusplus
  51:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** extern "C" {
  52:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #endif
  53:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
  54:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
  55:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \defgroup macsc_group MAC Symbol Counter Driver(MACSC)
  56:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  57:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * See \ref megarf_macsc_quickstart
  58:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  59:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This is a driver for the AVR MEGARF MAC Symbol Counter Driver(MACSC).
  60:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * It provides functions for enabling, disabling and configuring the module.
  61:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  62:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \section dependencies Dependencies
  63:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This driver depends on the following modules:
  64:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * - \ref interrupt_group for ISR definition and disabling interrupts during
  65:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * critical code sections.
  66:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @{
  67:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
  68:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
  69:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
  70:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Interrupt event callback function type
  71:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  72:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * The interrupt handler can be configured to do a function callback,
  73:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * the callback function must match the macsc_callback_t type.
  74:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  75:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
  76:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** typedef void (*macsc_callback_t)(void);
  77:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
  78:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /* ! MAC symbol counter compare Channel index */
  79:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** enum macsc_cc_channel {
  80:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	/* ! Channel 1 */
  81:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_CC1 = 1,
  82:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	/* ! Channel 2 */
  83:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_CC2 = 2,
  84:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	/* ! Channel 3 */
  85:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_CC3 = 3,
  86:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** };
  87:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
  88:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief MAC SC clock source select
  89:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  90:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * uses the SCCKSEL bit in SSCR register to select macsc clk src
  91:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
  92:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * If the bit is one,the RTC clock from TOSC1 is selected, otherwise the symbol
  93:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * counter operates with the clock from XTAL1.
  94:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * During transceiver sleep modes the clock falls back to the RTC clock source,
  95:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * regardless of the selected clock. After wakeup, it switches back to the
  96:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * previosly
  97:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * selected clock source.
  98:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
  99:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 100:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** enum macsc_xtal {
 101:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	/* ! 16MHz as macsc clock */
 102:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_16MHz = 0,
 103:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_32KHz = 1,
 104:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** };
 105:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 106:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 107:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @brief Reads the 32-bit timer register in the required order of bytes
 108:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 109:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @param hh hh octet of 32-bit register
 110:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @param hl hl octet of 32-bit register
 111:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @param lh lh octet of 32-bit register
 112:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @param ll ll octet of 32-bit register
 113:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 114:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @returns uint32_t Value of timer register
 115:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 116:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline uint32_t macsc_read32(volatile uint8_t *hh,
 117:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		volatile uint8_t *hl,
 118:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		volatile uint8_t *lh,
 119:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		volatile uint8_t *ll)
 120:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 121:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	union {
 122:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		uint8_t a[4];
 123:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		uint32_t rv;
 124:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	}
 125:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	x;
 126:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 127:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	x.a[0] = *ll;
 128:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	x.a[1] = *lh;
 129:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	x.a[2] = *hl;
 130:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	x.a[3] = *hh;
 131:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 132:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return x.rv;
 133:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 134:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 135:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /* ! compare modes */
 136:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define MACSC_ABSOLUTE_CMP 0
 137:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define MACSC_RELATIVE_CMP 1
 138:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 139:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /** String concatenation by preprocessor used to create proper register names.
 140:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  **/
 141:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define CONCAT(a, b) a ## b
 142:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 143:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /** Creates proper subregister names and reads the corresponding values. */
 144:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define MACSC_READ32(reg)                  macsc_read32(&CONCAT(reg, HH), \
 145:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		&CONCAT(reg, HL), \
 146:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		&CONCAT(reg, LH), \
 147:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		&CONCAT(reg, LL))
 148:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 149:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** #define MACSC_WRITE32(reg, val)	\
 150:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	do { \
 151:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		union { uint8_t a[4]; uint32_t v; } \
 152:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		x; \
 153:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		x.v = val; \
 154:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		CONCAT(reg, HH) = x.a[3]; \
 155:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		CONCAT(reg, HL) = x.a[2]; \
 156:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		CONCAT(reg, LH) = x.a[1]; \
 157:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		CONCAT(reg, LL) = x.a[0]; \
 158:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	} \
 159:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	while (0)
 160:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 161:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 162:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Enable MAC SC
 163:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 164:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * Enables the SC
 165:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 166:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param clk_src selection of clk source,avalable options in macsc_xtal,fixed
 167:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *  prescalar
 168:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param sleep_enable enable RTC as clock source during sleep
 169:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param auto_ts enable automatic timestamping
 170:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 171:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 172:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_enable(void);
 173:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 174:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 175:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Check if MACSC is enabled
 176:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 177:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * check if the MACSC is enabled.
 178:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 179:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 180:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 181:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 182:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** bool is_macsc_enable(void);
 183:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 184:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 185:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Disable MAC SC
 186:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 187:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * Disables the MAC SC
 188:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 189:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 190:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 191:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 192:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_disable(void);
 193:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 194:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 195:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Check if back-off slot counter is enabled
 196:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 197:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * check if the back-off slot counter is enabled.
 198:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 199:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 200:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 201:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 202:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** bool is_macsc_backoff_enable(void);
 203:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 204:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 205:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Enables compare interrupts of the MACSC
 206:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 207:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param channel Compare channel
 208:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 209:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_enable_cmp_int(enum macsc_cc_channel channel);
 210:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 211:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 212:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Disables compare interrupts of the MACSC
 213:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 214:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param channel Compare channel
 215:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */void macsc_disable_cmp_int(enum macsc_cc_channel channel);
 216:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 217:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 218:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Usage of Absolute compare mode of the MACSC
 219:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 220:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param abs_rel  0 for absoulte cmp;1 for relative cmp
 221:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param cmp compare value for SCOCRx register
 222:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param channel Compare channel
 223:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 224:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_use_cmp(bool abs_rel, uint32_t cmp,enum macsc_cc_channel channel);
 225:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 226:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 227:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \ingroup macsc_group
 228:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \defgroup macsc_interrupt_group MAC Symbol Counter (MACSC) interrupt
 229:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * management
 230:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This group provides functions to configure MACSC module interrupts
 231:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 232:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * @{
 233:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 234:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 235:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 236:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Set MACSC overflow interrupt callback function
 237:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 238:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This function allows the caller to set and change the interrupt callback
 239:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * function. Without setting a callback function the interrupt handler in the
 240:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * driver will only clear the interrupt flags.
 241:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 242:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param callback Reference to a callback function
 243:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 244:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_set_ovf_int_cb(macsc_callback_t callback);
 245:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 246:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 247:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Set MACSC Compare Channel 1 interrupt callback function
 248:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 249:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This function allows the caller to set and change the interrupt callback
 250:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * function. Without setting a callback function the interrupt handler in the
 251:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * driver will only clear the interrupt flags.
 252:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 253:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param callback Reference to a callback function
 254:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 255:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_set_cmp1_int_cb(macsc_callback_t callback);
 256:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 257:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 258:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Set MACSC Compare Channel 2 interrupt callback function
 259:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 260:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This function allows the caller to set and change the interrupt callback
 261:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * function. Without setting a callback function the interrupt handler in the
 262:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * driver will only clear the interrupt flags.
 263:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 264:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param callback Reference to a callback function
 265:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 266:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_set_cmp2_int_cb(macsc_callback_t callback);
 267:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 268:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 269:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Set MACSC Compare Channel 3 interrupt callback function
 270:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 271:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This function allows the caller to set and change the interrupt callback
 272:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * function. Without setting a callback function the interrupt handler in the
 273:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * driver will only clear the interrupt flags.
 274:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 275:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param callback Reference to a callback function
 276:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 277:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_set_cmp3_int_cb(macsc_callback_t callback);
 278:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 279:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 280:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Set MACSC backoff slot counter interrupt callback function
 281:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 282:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * This function allows the caller to set and change the interrupt callback
 283:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * function. Without setting a callback function the interrupt handler in the
 284:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * driver will only clear the interrupt flags.
 285:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 286:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param callback Reference to a callback function
 287:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 288:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** void macsc_set_backoff_slot_cntr_int_cb(macsc_callback_t callback);
 289:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** //@}
 290:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 291:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 292:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Enable 32.768KHz clk using timer 2 async register
 293:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 294:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 295:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 296:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 297:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_sleep_clk_enable(void)
 298:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 299:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	ASSR |= (1 << AS2);
 300:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 301:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 302:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 303:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Disable 32.768KHz clk using timer 2 async register
 304:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 305:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 306:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 307:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_sleep_clk_disable(void)
 308:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 309:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	ASSR &= ~(1 << AS2);
 310:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 311:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 312:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /* @} */
 313:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 314:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 315:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Configure MAC Symbol Counter Clock Source
 316:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 317:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param macsc macsc clk src
 318:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 319:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_write_clock_source(enum macsc_xtal source)
 320:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 321:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	if (source == MACSC_16MHz) {
 322:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		SCCR0 |= (source << SCCKSEL);
 323:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	} else if (source == MACSC_32KHz) {
 324:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		SCCR0 &= ~(1 << SCCKSEL);
 325:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	}
 326:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 327:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 328:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 329:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Read MAC SC Clock Source
 330:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 331:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 332:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \return macsc_xtal enum Clock source selection
 333:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 334:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline enum macsc_xtal macsc_read_clock_source(void)
 335:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 336:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return (enum macsc_xtal)(SCCR0 & (1 << SCCKSEL));
 337:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 338:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 339:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 340:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Write the Counter value of the MAC Symbol counter
 341:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 342:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param cnt_value Counter value
 343:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 344:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_write_count(uint32_t cnt_value)
 345:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 346:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	MACSC_WRITE32(SCCNT, cnt_value);
 347:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 348:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 349:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 350:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Reads the Counter value of the MAC Symbol counter
 351:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 352:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note Output the Counter value
 353:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 354:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline uint32_t macsc_read_count(void)
 355:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 356:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return (MACSC_READ32(SCCNT));
 357:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 358:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 359:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 360:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief enable back-off slot counter
 361:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 362:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 363:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note  Enables interrupt as well	.
 364:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note This counter works only if transceiver clock is running.So check Trx
 365:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * state in app before using this function in IEEE802.15.4 applications.
 366:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 367:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline bool macsc_backoff_slot_cnt_enable(void)
 368:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 369:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	if (!(PRR1 & (1 << PRTRX24))) {
 370:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		SCCR1 = (1 << SCENBO);
 371:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		SCIRQS |= (1 << IRQSBO);
 372:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		SCIRQM |= (1 << IRQMBO);
 373:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 		return true;
 374:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	}
 375:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	else return false;
 376:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 377:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 378:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 379:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Disable back-off slot counter
 380:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 381:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \param none
 382:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note    Disables interrupt as well	.
 383:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note This counter works only if transceiver clock is running.So check Trx
 384:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * state in app before using this function in IEEE802.15.4 applications.
 385:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 386:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_backoff_slot_cnt_disable(void)
 387:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 388:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	SCCR1 &= ~(1 << SCENBO);
 389:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	SCIRQM &= ~(1 << IRQMBO);
 390:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 391:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 392:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 393:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Tests if the Backoff slot cntr interrupt flag is set
 394:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 395:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \return  backoff slot cntr interrupt has occurred or not : IRQSBO
 396:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 397:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline bool macsc_is_slot_cntr_interrupt_flag_set(void)
 398:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 399:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return (SCIRQS & (1 << IRQSBO));
 400:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 401:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 402:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 403:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Clears the Backoff Slot cntr interrupt flag
 404:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 405:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \note  IRQSBO is cleared
 406:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 407:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_clear_slot_cntr_interrupt_flag(void)
 408:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 409:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	SCIRQS |= (1 << IRQSBO);
 410:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 411:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 412:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 413:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Reads the SFD Timestamp register
 414:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 415:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \return Timestamp of last received frame :SCTSR(read-only register)
 416:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 417:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline uint32_t macsc_read_ts(void)
 418:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 419:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return (MACSC_READ32(SCTSR));
 420:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 421:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 422:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 423:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Reads the Beacon Timestamp register
 424:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 425:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \return Timestamp of last received beacon frame :SCBTSR
 426:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 427:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline uint32_t macsc_read_bts(void)
 428:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 429:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	return (MACSC_READ32(SCBTSR));
 430:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 431:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 
 432:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** /**
 433:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * \brief Write the Beacon Timestamp register of the MAC Symbol counter
 434:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * The manual beacon timestamping can be used in conjunction with the
 435:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * relative compare mode of the three compare units to generate compare match
 436:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * interrupts without having a beacon frame received
 437:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 438:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * If set to 1, the current symbol counter value is stored into the beacon
 439:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * timestamp register.
 440:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  * The bit is cleared afterwards.
 441:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  *
 442:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h ****  */
 443:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** static inline void macsc_enable_manual_bts(void)
 444:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** {
 313               		.loc 3 444 0
 314               		.cfi_startproc
 315 013c CF93      		push r28
 316               	.LCFI16:
 317               		.cfi_def_cfa_offset 3
 318               		.cfi_offset 28, -2
 319 013e DF93      		push r29
 320               	.LCFI17:
 321               		.cfi_def_cfa_offset 4
 322               		.cfi_offset 29, -3
 323 0140 CDB7      		in r28,__SP_L__
 324 0142 DEB7      		in r29,__SP_H__
 325               	.LCFI18:
 326               		.cfi_def_cfa_register 28
 327               	/* prologue: function */
 328               	/* frame size = 0 */
 329               	/* stack size = 2 */
 330               	.L__stack_usage = 2
 445:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	SCCR0 |= (1 << SCMBTS);
 331               		.loc 3 445 0
 332 0144 8CED      		ldi r24,lo8(-36)
 333 0146 90E0      		ldi r25,0
 334 0148 2CED      		ldi r18,lo8(-36)
 335 014a 30E0      		ldi r19,0
 336 014c F901      		movw r30,r18
 337 014e 2081      		ld r18,Z
 338 0150 2064      		ori r18,lo8(64)
 339 0152 FC01      		movw r30,r24
 340 0154 2083      		st Z,r18
 446:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** 	SCCR0 &= ~(1 << SCTSE);
 341               		.loc 3 446 0
 342 0156 8CED      		ldi r24,lo8(-36)
 343 0158 90E0      		ldi r25,0
 344 015a 2CED      		ldi r18,lo8(-36)
 345 015c 30E0      		ldi r19,0
 346 015e F901      		movw r30,r18
 347 0160 2081      		ld r18,Z
 348 0162 277F      		andi r18,lo8(-9)
 349 0164 FC01      		movw r30,r24
 350 0166 2083      		st Z,r18
 447:../../../platform/mega_rf/drivers/macsc/macsc_megarf.h **** }
 351               		.loc 3 447 0
 352 0168 0000      		nop
 353               	/* epilogue start */
 354 016a DF91      		pop r29
 355 016c CF91      		pop r28
 356 016e 0895      		ret
 357               		.cfi_endproc
 358               	.LFE121:
 360               		.section	.bss.appState,"aw",@nobits
 363               	appState:
 364 0000 00        		.zero	1
 365               		.section	.bss.tmrBlinkData,"aw",@nobits
 368               	tmrBlinkData:
 369 0000 0000 0000 		.zero	13
 369      0000 0000 
 369      0000 0000 
 369      00
 370               		.section	.bss.msgReq,"aw",@nobits
 373               	msgReq:
 374 0000 0000 0000 		.zero	19
 374      0000 0000 
 374      0000 0000 
 374      0000 0000 
 374      0000 00
 375               		.section	.bss.msgFrame,"aw",@nobits
 378               	msgFrame:
 379 0000 0000 0000 		.zero	80
 379      0000 0000 
 379      0000 0000 
 379      0000 0000 
 379      0000 0000 
 380               		.section	.bss.msgReqConnection,"aw",@nobits
 383               	msgReqConnection:
 384 0000 0000 0000 		.zero	19
 384      0000 0000 
 384      0000 0000 
 384      0000 0000 
 384      0000 00
 385               		.section	.bss.msgFrameConnection,"aw",@nobits
 388               	msgFrameConnection:
 389 0000 0000 0000 		.zero	80
 389      0000 0000 
 389      0000 0000 
 389      0000 0000 
 389      0000 0000 
 390               		.section	.data.server_turn,"aw",@progbits
 393               	server_turn:
 394 0000 0100      		.word	1
 395               		.section	.bss.statistics_buffer,"aw",@nobits
 398               	statistics_buffer:
 399 0000 0000 0000 		.zero	130
 399      0000 0000 
 399      0000 0000 
 399      0000 0000 
 399      0000 0000 
 400               		.section	.bss.aux_buffer,"aw",@nobits
 403               	aux_buffer:
 404 0000 0000 0000 		.zero	65
 404      0000 0000 
 404      0000 0000 
 404      0000 0000 
 404      0000 0000 
 405               		.text
 407               	tmrBlinkDataHandler:
 408               	.LFB130:
 409               		.file 4 "ServerTDMARedundante.c"
   1:ServerTDMARedundante.c **** /*
   2:ServerTDMARedundante.c ****  * ServerTDMA.c
   3:ServerTDMARedundante.c ****  *
   4:ServerTDMARedundante.c ****  * Created: 07/09/2014 16:50:52
   5:ServerTDMARedundante.c ****  *  Author: nando
   6:ServerTDMARedundante.c ****  */ 
   7:ServerTDMARedundante.c **** 
   8:ServerTDMARedundante.c **** #include <stdlib.h>
   9:ServerTDMARedundante.c **** #include <stdio.h>
  10:ServerTDMARedundante.c **** #include <string.h>
  11:ServerTDMARedundante.c **** #include "config.h"
  12:ServerTDMARedundante.c **** #include "sys.h"
  13:ServerTDMARedundante.c **** #include "phy.h"
  14:ServerTDMARedundante.c **** #include "sys.h"
  15:ServerTDMARedundante.c **** #include "nwk.h"
  16:ServerTDMARedundante.c **** #include "sysclk.h"
  17:ServerTDMARedundante.c **** #include "sysTimer.h"
  18:ServerTDMARedundante.c **** #include "sleep_mgr.h"
  19:ServerTDMARedundante.c **** #include "sleepmgr.h"
  20:ServerTDMARedundante.c **** #include "led.h"
  21:ServerTDMARedundante.c **** #include "ioport.h"
  22:ServerTDMARedundante.c **** #include "conf_sleepmgr.h"
  23:ServerTDMARedundante.c **** #include "board.h"
  24:ServerTDMARedundante.c **** #include "Solver.h"
  25:ServerTDMARedundante.c **** #include "Energy.h"
  26:ServerTDMARedundante.c **** #include "platform.h"
  27:ServerTDMARedundante.c **** 
  28:ServerTDMARedundante.c **** #if APP_COORDINATOR
  29:ServerTDMARedundante.c **** 	#if (SIO2HOST_CHANNEL == SIO_USB)
  30:ServerTDMARedundante.c **** 		/* Only ARM */
  31:ServerTDMARedundante.c **** 		#include "stdio_usb.h"
  32:ServerTDMARedundante.c **** 		#define MASTER_MACSC	0
  33:ServerTDMARedundante.c **** 	#else
  34:ServerTDMARedundante.c **** 		/* Only megarf series */
  35:ServerTDMARedundante.c **** 		#include "conf_sio2host.h"
  36:ServerTDMARedundante.c **** 		#define MASTER_MACSC	1
  37:ServerTDMARedundante.c **** 	#endif
  38:ServerTDMARedundante.c **** #else
  39:ServerTDMARedundante.c **** 	/* Only megarf series */
  40:ServerTDMARedundante.c **** 	#define MASTER_MACSC		1
  41:ServerTDMARedundante.c **** #endif
  42:ServerTDMARedundante.c **** 
  43:ServerTDMARedundante.c **** #if (MASTER_MACSC == 1)
  44:ServerTDMARedundante.c **** 	#include "macsc_megarf.h"
  45:ServerTDMARedundante.c **** #else
  46:ServerTDMARedundante.c **** static SYS_Timer_t				tmrBeaconInterval;			// Beacon
  47:ServerTDMARedundante.c **** static SYS_Timer_t				tmrComputeData;				// Compute data
  48:ServerTDMARedundante.c **** #endif
  49:ServerTDMARedundante.c **** 
  50:ServerTDMARedundante.c **** static volatile AppState_t		appState					= APP_STATE_INITIAL;
  51:ServerTDMARedundante.c **** static SYS_Timer_t				tmrBlinkData;				// Feedback
  52:ServerTDMARedundante.c **** static NWK_DataReq_t			msgReq;
  53:ServerTDMARedundante.c **** static AppMessageFrame_t		msgFrame;
  54:ServerTDMARedundante.c **** 
  55:ServerTDMARedundante.c **** static NWK_DataReq_t			msgReqConnection;
  56:ServerTDMARedundante.c **** static AppMessageFrame_t		msgFrameConnection;
  57:ServerTDMARedundante.c **** 
  58:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
  59:ServerTDMARedundante.c **** 	static uint16_t				server_turn					= 1;
  60:ServerTDMARedundante.c **** 	static uint8_t				statistics_buffer[(MSG_SIZE_MAX + 1) * 2];
  61:ServerTDMARedundante.c **** 	static uint8_t				aux_buffer[(MSG_SIZE_MAX + 1)];
  62:ServerTDMARedundante.c **** #endif
  63:ServerTDMARedundante.c **** #if (APP_ENDDEVICE)
  64:ServerTDMARedundante.c **** 	static bool					connected;
  65:ServerTDMARedundante.c **** #endif
  66:ServerTDMARedundante.c **** 
  67:ServerTDMARedundante.c **** static void tmrBlinkDataHandler(SYS_Timer_t *timer)
  68:ServerTDMARedundante.c **** {
 410               		.loc 4 68 0
 411               		.cfi_startproc
 412 0170 CF93      		push r28
 413               	.LCFI19:
 414               		.cfi_def_cfa_offset 3
 415               		.cfi_offset 28, -2
 416 0172 DF93      		push r29
 417               	.LCFI20:
 418               		.cfi_def_cfa_offset 4
 419               		.cfi_offset 29, -3
 420 0174 CDB7      		in r28,__SP_L__
 421 0176 DEB7      		in r29,__SP_H__
 422               	.LCFI21:
 423               		.cfi_def_cfa_register 28
 424 0178 2B97      		sbiw r28,11
 425               	.LCFI22:
 426               		.cfi_def_cfa_offset 15
 427 017a 0FB6      		in __tmp_reg__,__SREG__
 428 017c F894      		cli
 429 017e DEBF      		out __SP_H__,r29
 430 0180 0FBE      		out __SREG__,__tmp_reg__
 431 0182 CDBF      		out __SP_L__,r28
 432               	/* prologue: function */
 433               	/* frame size = 11 */
 434               	/* stack size = 13 */
 435               	.L__stack_usage = 13
 436 0184 9B87      		std Y+11,r25
 437 0186 8A87      		std Y+10,r24
 438 0188 84E2      		ldi r24,lo8(36)
 439 018a 8983      		std Y+1,r24
 440 018c 81E0      		ldi r24,lo8(1)
 441 018e 8A83      		std Y+2,r24
 442 0190 8981      		ldd r24,Y+1
 443 0192 8B83      		std Y+3,r24
 444 0194 8A81      		ldd r24,Y+2
 445 0196 8C83      		std Y+4,r24
 446               	.LBB72:
 447               	.LBB73:
 448               	.LBB74:
 449               	.LBB75:
 450               		.file 5 "../../../platform/common/services/ioport/mega_rf/ioport.h"
   1:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
   2:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \file
   3:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
   4:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief MEGA and MEGA_RF architecture specific IOPORT service implementation
   5:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * header file.
   6:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
   7:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * Copyright (c) 2012 - 2013 Atmel Corporation. All rights reserved.
   8:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
   9:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \asf_license_start
  10:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  11:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \page License
  12:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  13:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * Redistribution and use in source and binary forms, with or without
  14:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * modification, are permitted provided that the following conditions are met:
  15:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  16:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * 1. Redistributions of source code must retain the above copyright notice,
  17:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *    this list of conditions and the following disclaimer.
  18:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  19:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  20:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *    this list of conditions and the following disclaimer in the documentation
  21:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *    and/or other materials provided with the distribution.
  22:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  23:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  24:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *    from this software without specific prior written permission.
  25:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  26:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * 4. This software may only be redistributed and used in connection with an
  27:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *    Atmel microcontroller product.
  28:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  29:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  30:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  31:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  32:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  33:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  34:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  35:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  36:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  37:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  38:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  39:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * POSSIBILITY OF SUCH DAMAGE.
  40:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  41:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \asf_license_stop
  42:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  43:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
  44:../../../platform/common/services/ioport/mega_rf/ioport.h **** #ifndef IOPORT_MEGA_RF_H
  45:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_MEGA_RF_H
  46:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  47:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_CREATE_PIN(port, pin) ((IOPORT_ ## port) * 8 + (pin))
  48:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_BASE_ADDRESS 0x20
  49:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORT_OFFSET  0x03
  50:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  51:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** \name IOPORT port numbers */
  52:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @{ */
  53:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  54:../../../platform/common/services/ioport/mega_rf/ioport.h **** #if MEGA_XX0_1 || MEGA_RF || MEGA_UNSPECIFIED || MEGA_XX4 || MEGA_XX4_A
  55:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTA    0 /* not connected to pins for megaRF*/
  56:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
  57:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  58:../../../platform/common/services/ioport/mega_rf/ioport.h **** #if MEGA_XX0_1 || MEGA_RF || MEGA_UNSPECIFIED || MEGA_XX8 || MEGA_XX8_A || \
  59:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	MEGA_XX4 || MEGA_XX4_A
  60:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTB    1
  61:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTC    2 /* not connected to pins for megaRF*/
  62:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTD    3
  63:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
  64:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  65:../../../platform/common/services/ioport/mega_rf/ioport.h **** #if MEGA_XX0_1 || MEGA_RF
  66:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTE    4
  67:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTF    5
  68:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTG    6
  69:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
  70:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  71:../../../platform/common/services/ioport/mega_rf/ioport.h **** #if MEGA_XX0
  72:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTH    7
  73:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTI    8
  74:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTJ    9
  75:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTK    10
  76:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PORTL    11
  77:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
  78:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @} */
  79:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  80:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
  81:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \weakgroup ioport_service_group
  82:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \section ioport_modes IOPORT Modes
  83:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  84:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * For details on these please see the megaRF Manual.
  85:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
  86:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * @{
  87:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
  88:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  89:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** \name IOPORT Mode bit definitions */
  90:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @{ */
  91:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_MODE_PULLDOWN        (0x01) /*!< Pull-down */
  92:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_MODE_PULLUP          (0x00) /*!< Pull-up */
  93:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @} */
  94:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
  95:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t ioport_mode_t;
  96:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t ioport_pin_t;
  97:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t ioport_port_t;
  98:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t ioport_port_mask_t;
  99:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 100:../../../platform/common/services/ioport/mega_rf/ioport.h **** /* I/O Ports */
 101:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef struct PORT_struct {
 102:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	volatile uint8_t PINCRL;         /* I/O Port PIN DATA READ ONLY */
 103:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	volatile uint8_t DIR;            /* I/O Port Data Direction Set */
 104:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	volatile uint8_t PORTDATA;       /* I/O Port DATA register */
 105:../../../platform/common/services/ioport/mega_rf/ioport.h **** } PORT_t;
 106:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 107:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 108:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief A pin mask
 109:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 110:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * This type is used to describe the port pin mask on the part.
 111:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 112:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t pin_mask_t;
 113:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 114:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 115:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief A PORT pin
 116:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 117:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * This type is used to describe the PORT pins on the part.
 118:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 119:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t port_pin_t;
 120:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 121:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 122:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief Pin configuration flags
 123:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 124:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * This is a bitmask containing configuration flags for the pins that shall be
 125:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * configured.
 126:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 127:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint16_t port_pin_flags_t;
 128:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 129:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 130:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief A port id
 131:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 132:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * This type is used to describe the port id on the part (0 is PORTA).
 133:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 134:../../../platform/common/services/ioport/mega_rf/ioport.h **** typedef uint8_t port_id_t;
 135:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 136:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** \name Initial Output State Flags */
 137:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 138:../../../platform/common/services/ioport/mega_rf/ioport.h **** /*With Port as input port the initial status is either tri state
 139:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * or pulled high, based on PORTX value, and check the PUD value to make
 140:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * sure pull up resistance is not disabled*/
 141:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @{ */
 142:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_INIT_LOW           0 << 1  /*!< Initial Output State Low */
 143:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_INIT_HIGH          1 << 1 /*!< Initial Output State High */
 144:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 145:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @} */
 146:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 147:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** \name Output and Pull Configuration Flags */
 148:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @{ */
 149:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PULL_DOWN          (0 << 2) /*!< Pull-Down (when input) */
 150:../../../platform/common/services/ioport/mega_rf/ioport.h **** #define IOPORT_PULL_UP            (1 << 2) /*!< Pull-Up (when input) */
 151:../../../platform/common/services/ioport/mega_rf/ioport.h **** /** @} */
 152:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 153:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 154:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief: To get the port number from pin nuber
 155:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 156:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 157:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static inline ioport_port_t arch_ioport_pin_to_port_id(
 158:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		uint8_t pin)
 159:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 160:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return pin >> 3;
 161:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 162:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 163:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 164:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief: To get the base address of port number
 165:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: port number e.g. IOPORT_PORTB
 166:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 167:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static PORT_t *arch_ioport_port_to_base(uint8_t port)
 168:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 169:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return (PORT_t *)((uintptr_t)(IOPORT_BASE_ADDRESS +
 170:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	       (port * IOPORT_PORT_OFFSET)));
 171:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 172:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 173:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 174:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief: To get the base address of port number from defined pin
 175:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 176:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 177:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static PORT_t *arch_ioport_pin_to_base(ioport_pin_t pin)
 178:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 179:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return arch_ioport_port_to_base(pin >> 3);
 180:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 181:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 182:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 183:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief: To get the 8-bit pin mask for pin
 184:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 185:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 186:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static ioport_port_mask_t arch_ioport_pin_to_mask
 187:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	(ioport_pin_t pin)
 188:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return 1U << (pin & 0x07);
 190:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 191:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 192:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 193:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief Set multiple pin modes in a single GPIO port, such as pull-up,
 194:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * pull-down, etc. configuration.
 195:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 196:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param port GPIO port to configure  e.g. IOPORT_PORTB
 197:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mask Pin mask of pins to configure
 198:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mode Mode masks to configure for the specified pins (\ref
 199:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * ioport_modes)
 200:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 201:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_port_mode(ioport_port_t port,
 202:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		ioport_port_mask_t mask, ioport_mode_t mode)
 203:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 204:../../../platform/common/services/ioport/mega_rf/ioport.h **** #ifdef MEGA_RF
 205:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_port_to_base(port);
 206:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (mode == IOPORT_MODE_PULLUP) {
 207:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA = mask;
 208:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else if (mode == IOPORT_MODE_PULLDOWN) {
 209:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA = ~mask;
 210:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 211:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
 212:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 213:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 214:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 215:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief Set multiple pin modes in a single GPIO port, such as pull-up,
 216:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * pull-down, etc. configuration.
 217:../../../platform/common/services/ioport/mega_rf/ioport.h ****  *
 218:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 219:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mask Pin mask of pins to configure
 220:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mode Mode masks to configure for the specified pins (\ref
 221:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * ioport_modes)
 222:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 223:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_pin_mode(ioport_pin_t pin,
 224:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		ioport_mode_t mode)
 225:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 226:../../../platform/common/services/ioport/mega_rf/ioport.h **** #ifdef MEGA_RF
 227:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_pin_to_base(pin);
 228:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	ioport_pin_t mask_pin = arch_ioport_pin_to_mask(pin);
 229:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (mode == IOPORT_MODE_PULLUP) {
 230:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA |=  mask_pin;
 231:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else if (mode == IOPORT_MODE_PULLDOWN) {
 232:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA &= ~mask_pin;
 233:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 234:../../../platform/common/services/ioport/mega_rf/ioport.h **** #endif
 235:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 236:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 237:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 238:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Set port direction as input or output.
 239:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param port GPIO port to configure  e.g. IOPORT_PORTB
 240:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mask Pin mask of pins to configure
 241:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mode dir, \refer ioport_direction
 242:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 243:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_port_dir(ioport_port_t port,
 244:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		ioport_port_mask_t mask, enum ioport_direction dir)
 245:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 246:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_port_to_base(port);
 247:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 248:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (dir == IOPORT_DIR_OUTPUT) {
 249:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->DIR = mask;
 250:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else if (dir == IOPORT_DIR_INPUT) {
 251:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->DIR = ~mask;
 252:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 253:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 254:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 255:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 256:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Set pin direction as input or output.
 257:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 258:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mask Pin mask of pins to configure
 259:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mode dir, \refer ioport_direction
 260:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 261:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_pin_dir(ioport_pin_t pin,
 262:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		enum ioport_direction dir)
 263:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 264:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_pin_to_base(pin);
 265:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 266:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (dir == IOPORT_DIR_OUTPUT) {
 267:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->DIR |= arch_ioport_pin_to_mask(pin);
 268:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else if (dir == IOPORT_DIR_INPUT) {
 269:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->DIR &=  ~arch_ioport_pin_to_mask(pin);
 270:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 271:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 272:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 273:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 274:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Set pin level to high or low.
 275:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 276:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: level high/low
 277:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 278:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_pin_level(ioport_pin_t pin,
 279:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		bool level)
 280:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 281:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base_add = arch_ioport_port_to_base(pin >> 3);
 451               		.loc 5 281 0
 452 0198 8B81      		ldd r24,Y+3
 453 019a 8695      		lsr r24
 454 019c 8695      		lsr r24
 455 019e 8695      		lsr r24
 456 01a0 8D83      		std Y+5,r24
 457               	.LBB76:
 458               	.LBB77:
 170:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 459               		.loc 5 170 0
 460 01a2 8D81      		ldd r24,Y+5
 461 01a4 282F      		mov r18,r24
 462 01a6 30E0      		ldi r19,0
 463 01a8 C901      		movw r24,r18
 464 01aa 880F      		lsl r24
 465 01ac 991F      		rol r25
 466 01ae 820F      		add r24,r18
 467 01b0 931F      		adc r25,r19
 169:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	       (port * IOPORT_PORT_OFFSET)));
 468               		.loc 5 169 0
 469 01b2 8096      		adiw r24,32
 470               	.LBE77:
 471               	.LBE76:
 472               		.loc 5 281 0
 473 01b4 9F83      		std Y+7,r25
 474 01b6 8E83      		std Y+6,r24
 282:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 283:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (level) {
 475               		.loc 5 283 0
 476 01b8 8C81      		ldd r24,Y+4
 477 01ba 8823      		tst r24
 478 01bc 01F0      		breq .L12
 284:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base_add->PORTDATA
 285:../../../platform/common/services/ioport/mega_rf/ioport.h **** 			= (base_add->PORTDATA  | arch_ioport_pin_to_mask
 479               		.loc 5 285 0
 480 01be 8E81      		ldd r24,Y+6
 481 01c0 9F81      		ldd r25,Y+7
 482 01c2 FC01      		movw r30,r24
 483 01c4 4281      		ldd r20,Z+2
 484 01c6 8B81      		ldd r24,Y+3
 485 01c8 8887      		std Y+8,r24
 486               	.LBB78:
 487               	.LBB79:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 488               		.loc 5 189 0
 489 01ca 8885      		ldd r24,Y+8
 490 01cc 882F      		mov r24,r24
 491 01ce 90E0      		ldi r25,0
 492 01d0 9C01      		movw r18,r24
 493 01d2 2770      		andi r18,7
 494 01d4 3327      		clr r19
 495 01d6 81E0      		ldi r24,lo8(1)
 496 01d8 90E0      		ldi r25,0
 497 01da 00C0      		rjmp 2f
 498               		1:
 499 01dc 880F      		lsl r24
 500 01de 991F      		rol r25
 501               		2:
 502 01e0 2A95      		dec r18
 503 01e2 02F4      		brpl 1b
 504               	.LBE79:
 505               	.LBE78:
 506               		.loc 5 285 0
 507 01e4 242F      		mov r18,r20
 508 01e6 282B      		or r18,r24
 509 01e8 8E81      		ldd r24,Y+6
 510 01ea 9F81      		ldd r25,Y+7
 511 01ec FC01      		movw r30,r24
 512 01ee 2283      		std Z+2,r18
 513               	.LBE75:
 514               	.LBE74:
 515               	.LBE73:
 516               	.LBE72:
  69:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
  70:ServerTDMARedundante.c **** 	LED_Off(LED_DATA);
  71:ServerTDMARedundante.c **** #endif
  72:ServerTDMARedundante.c **** 
  73:ServerTDMARedundante.c **** 	(void)timer;
  74:ServerTDMARedundante.c **** }
 517               		.loc 4 74 0
 518 01f0 00C0      		rjmp .L16
 519               	.L12:
 520               	.LBB85:
 521               	.LBB84:
 522               	.LBB83:
 523               	.LBB82:
 286:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin));
 287:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else {
 288:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base_add->PORTDATA
 289:../../../platform/common/services/ioport/mega_rf/ioport.h **** 			= (base_add->PORTDATA  & (~arch_ioport_pin_to_mask
 524               		.loc 5 289 0
 525 01f2 8E81      		ldd r24,Y+6
 526 01f4 9F81      		ldd r25,Y+7
 527 01f6 FC01      		movw r30,r24
 528 01f8 8281      		ldd r24,Z+2
 529 01fa 482F      		mov r20,r24
 530 01fc 8B81      		ldd r24,Y+3
 531 01fe 8987      		std Y+9,r24
 532               	.LBB80:
 533               	.LBB81:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 534               		.loc 5 189 0
 535 0200 8985      		ldd r24,Y+9
 536 0202 882F      		mov r24,r24
 537 0204 90E0      		ldi r25,0
 538 0206 9C01      		movw r18,r24
 539 0208 2770      		andi r18,7
 540 020a 3327      		clr r19
 541 020c 81E0      		ldi r24,lo8(1)
 542 020e 90E0      		ldi r25,0
 543 0210 00C0      		rjmp 2f
 544               		1:
 545 0212 880F      		lsl r24
 546 0214 991F      		rol r25
 547               		2:
 548 0216 2A95      		dec r18
 549 0218 02F4      		brpl 1b
 550               	.LBE81:
 551               	.LBE80:
 552               		.loc 5 289 0
 553 021a 8095      		com r24
 554 021c 8423      		and r24,r20
 555 021e 282F      		mov r18,r24
 556 0220 8E81      		ldd r24,Y+6
 557 0222 9F81      		ldd r25,Y+7
 558 0224 FC01      		movw r30,r24
 559 0226 2283      		std Z+2,r18
 560               	.L16:
 561               	.LBE82:
 562               	.LBE83:
 563               	.LBE84:
 564               	.LBE85:
 565               		.loc 4 74 0
 566 0228 0000      		nop
 567               	/* epilogue start */
 568 022a 2B96      		adiw r28,11
 569 022c 0FB6      		in __tmp_reg__,__SREG__
 570 022e F894      		cli
 571 0230 DEBF      		out __SP_H__,r29
 572 0232 0FBE      		out __SREG__,__tmp_reg__
 573 0234 CDBF      		out __SP_L__,r28
 574 0236 DF91      		pop r29
 575 0238 CF91      		pop r28
 576 023a 0895      		ret
 577               		.cfi_endproc
 578               	.LFE130:
 580               		.section	.rodata
 581               	.LC1:
 582 0000 2530 3258 		.string	"%02X"
 582      00
 583               		.text
 585               	toHexBuffer:
 586               	.LFB131:
  75:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
  76:ServerTDMARedundante.c **** static void toHexBuffer(uint8_t* out, uint8_t* in, uint16_t size)
  77:ServerTDMARedundante.c **** {
 587               		.loc 4 77 0
 588               		.cfi_startproc
 589 023c CF93      		push r28
 590               	.LCFI23:
 591               		.cfi_def_cfa_offset 3
 592               		.cfi_offset 28, -2
 593 023e DF93      		push r29
 594               	.LCFI24:
 595               		.cfi_def_cfa_offset 4
 596               		.cfi_offset 29, -3
 597 0240 CDB7      		in r28,__SP_L__
 598 0242 DEB7      		in r29,__SP_H__
 599               	.LCFI25:
 600               		.cfi_def_cfa_register 28
 601 0244 2A97      		sbiw r28,10
 602               	.LCFI26:
 603               		.cfi_def_cfa_offset 14
 604 0246 0FB6      		in __tmp_reg__,__SREG__
 605 0248 F894      		cli
 606 024a DEBF      		out __SP_H__,r29
 607 024c 0FBE      		out __SREG__,__tmp_reg__
 608 024e CDBF      		out __SP_L__,r28
 609               	/* prologue: function */
 610               	/* frame size = 10 */
 611               	/* stack size = 12 */
 612               	.L__stack_usage = 12
 613 0250 9E83      		std Y+6,r25
 614 0252 8D83      		std Y+5,r24
 615 0254 7887      		std Y+8,r23
 616 0256 6F83      		std Y+7,r22
 617 0258 5A87      		std Y+10,r21
 618 025a 4987      		std Y+9,r20
  78:ServerTDMARedundante.c **** 	uint16_t		pos			= 0;
 619               		.loc 4 78 0
 620 025c 1A82      		std Y+2,__zero_reg__
 621 025e 1982      		std Y+1,__zero_reg__
 622               	.LBB86:
  79:ServerTDMARedundante.c **** 	for(uint16_t i = 0; i < size; ++i)
 623               		.loc 4 79 0
 624 0260 1C82      		std Y+4,__zero_reg__
 625 0262 1B82      		std Y+3,__zero_reg__
 626 0264 00C0      		rjmp .L18
 627               	.L19:
  80:ServerTDMARedundante.c **** 	{
  81:ServerTDMARedundante.c **** 		pos						+= sprintf(out + pos, "%02X", in[i]);
 628               		.loc 4 81 0 discriminator 3
 629 0266 2F81      		ldd r18,Y+7
 630 0268 3885      		ldd r19,Y+8
 631 026a 8B81      		ldd r24,Y+3
 632 026c 9C81      		ldd r25,Y+4
 633 026e 820F      		add r24,r18
 634 0270 931F      		adc r25,r19
 635 0272 FC01      		movw r30,r24
 636 0274 8081      		ld r24,Z
 637 0276 482F      		mov r20,r24
 638 0278 50E0      		ldi r21,0
 639 027a 2D81      		ldd r18,Y+5
 640 027c 3E81      		ldd r19,Y+6
 641 027e 8981      		ldd r24,Y+1
 642 0280 9A81      		ldd r25,Y+2
 643 0282 820F      		add r24,r18
 644 0284 931F      		adc r25,r19
 645 0286 252F      		mov r18,r21
 646 0288 2F93      		push r18
 647 028a 242F      		mov r18,r20
 648 028c 2F93      		push r18
 649 028e 20E0      		ldi r18,lo8(.LC1)
 650 0290 30E0      		ldi r19,hi8(.LC1)
 651 0292 232F      		mov r18,r19
 652 0294 2F93      		push r18
 653 0296 20E0      		ldi r18,lo8(.LC1)
 654 0298 30E0      		ldi r19,hi8(.LC1)
 655 029a 2F93      		push r18
 656 029c 292F      		mov r18,r25
 657 029e 2F93      		push r18
 658 02a0 8F93      		push r24
 659 02a2 0E94 0000 		call sprintf
 660 02a6 0F90      		pop __tmp_reg__
 661 02a8 0F90      		pop __tmp_reg__
 662 02aa 0F90      		pop __tmp_reg__
 663 02ac 0F90      		pop __tmp_reg__
 664 02ae 0F90      		pop __tmp_reg__
 665 02b0 0F90      		pop __tmp_reg__
 666 02b2 9C01      		movw r18,r24
 667 02b4 8981      		ldd r24,Y+1
 668 02b6 9A81      		ldd r25,Y+2
 669 02b8 820F      		add r24,r18
 670 02ba 931F      		adc r25,r19
 671 02bc 9A83      		std Y+2,r25
 672 02be 8983      		std Y+1,r24
  79:ServerTDMARedundante.c **** 	for(uint16_t i = 0; i < size; ++i)
 673               		.loc 4 79 0 discriminator 3
 674 02c0 8B81      		ldd r24,Y+3
 675 02c2 9C81      		ldd r25,Y+4
 676 02c4 0196      		adiw r24,1
 677 02c6 9C83      		std Y+4,r25
 678 02c8 8B83      		std Y+3,r24
 679               	.L18:
  79:ServerTDMARedundante.c **** 	for(uint16_t i = 0; i < size; ++i)
 680               		.loc 4 79 0 is_stmt 0 discriminator 1
 681 02ca 2B81      		ldd r18,Y+3
 682 02cc 3C81      		ldd r19,Y+4
 683 02ce 8985      		ldd r24,Y+9
 684 02d0 9A85      		ldd r25,Y+10
 685 02d2 2817      		cp r18,r24
 686 02d4 3907      		cpc r19,r25
 687 02d6 00F0      		brlo .L19
 688               	.LBE86:
  82:ServerTDMARedundante.c **** 	}
  83:ServerTDMARedundante.c **** 	out[pos]					= NULL;
 689               		.loc 4 83 0 is_stmt 1
 690 02d8 2D81      		ldd r18,Y+5
 691 02da 3E81      		ldd r19,Y+6
 692 02dc 8981      		ldd r24,Y+1
 693 02de 9A81      		ldd r25,Y+2
 694 02e0 820F      		add r24,r18
 695 02e2 931F      		adc r25,r19
 696 02e4 FC01      		movw r30,r24
 697 02e6 1082      		st Z,__zero_reg__
  84:ServerTDMARedundante.c **** }
 698               		.loc 4 84 0
 699 02e8 0000      		nop
 700               	/* epilogue start */
 701 02ea 2A96      		adiw r28,10
 702 02ec 0FB6      		in __tmp_reg__,__SREG__
 703 02ee F894      		cli
 704 02f0 DEBF      		out __SP_H__,r29
 705 02f2 0FBE      		out __SREG__,__tmp_reg__
 706 02f4 CDBF      		out __SP_L__,r28
 707 02f6 DF91      		pop r29
 708 02f8 CF91      		pop r28
 709 02fa 0895      		ret
 710               		.cfi_endproc
 711               	.LFE131:
 714               	tdma_server_beacon:
 715               	.LFB132:
  85:ServerTDMARedundante.c **** #if (MASTER_MACSC == 1)
  86:ServerTDMARedundante.c **** static void tdma_server_beacon(void)
  87:ServerTDMARedundante.c **** {
 716               		.loc 4 87 0
 717               		.cfi_startproc
 718 02fc CF93      		push r28
 719               	.LCFI27:
 720               		.cfi_def_cfa_offset 3
 721               		.cfi_offset 28, -2
 722 02fe DF93      		push r29
 723               	.LCFI28:
 724               		.cfi_def_cfa_offset 4
 725               		.cfi_offset 29, -3
 726 0300 CDB7      		in r28,__SP_L__
 727 0302 DEB7      		in r29,__SP_H__
 728               	.LCFI29:
 729               		.cfi_def_cfa_register 28
 730               	/* prologue: function */
 731               	/* frame size = 0 */
 732               	/* stack size = 2 */
 733               	.L__stack_usage = 2
  88:ServerTDMARedundante.c **** 	macsc_enable_manual_bts();
 734               		.loc 4 88 0
 735 0304 0E94 0000 		call macsc_enable_manual_bts
  89:ServerTDMARedundante.c **** 
  90:ServerTDMARedundante.c **** 	appState					= APP_STATE_SEND;
 736               		.loc 4 90 0
 737 0308 83E0      		ldi r24,lo8(3)
 738 030a 8093 0000 		sts appState,r24
  91:ServerTDMARedundante.c **** }
 739               		.loc 4 91 0
 740 030e 0000      		nop
 741               	/* epilogue start */
 742 0310 DF91      		pop r29
 743 0312 CF91      		pop r28
 744 0314 0895      		ret
 745               		.cfi_endproc
 746               	.LFE132:
 749               	tdma_server_statistics:
 750               	.LFB133:
  92:ServerTDMARedundante.c **** static void tdma_server_statistics(void)
  93:ServerTDMARedundante.c **** {
 751               		.loc 4 93 0
 752               		.cfi_startproc
 753 0316 CF93      		push r28
 754               	.LCFI30:
 755               		.cfi_def_cfa_offset 3
 756               		.cfi_offset 28, -2
 757 0318 DF93      		push r29
 758               	.LCFI31:
 759               		.cfi_def_cfa_offset 4
 760               		.cfi_offset 29, -3
 761 031a CDB7      		in r28,__SP_L__
 762 031c DEB7      		in r29,__SP_H__
 763               	.LCFI32:
 764               		.cfi_def_cfa_register 28
 765               	/* prologue: function */
 766               	/* frame size = 0 */
 767               	/* stack size = 2 */
 768               	.L__stack_usage = 2
  94:ServerTDMARedundante.c **** 	appState					= APP_STATE_SERVER_STATISTICS;
 769               		.loc 4 94 0
 770 031e 8FE0      		ldi r24,lo8(15)
 771 0320 8093 0000 		sts appState,r24
  95:ServerTDMARedundante.c **** }
 772               		.loc 4 95 0
 773 0324 0000      		nop
 774               	/* epilogue start */
 775 0326 DF91      		pop r29
 776 0328 CF91      		pop r28
 777 032a 0895      		ret
 778               		.cfi_endproc
 779               	.LFE133:
 781               		.section	.rodata
 782               	.LC2:
 783 0005 523A 2025 		.string	"R: %d, C: %d, S: %d\n"
 783      642C 2043 
 783      3A20 2564 
 783      2C20 533A 
 783      2025 640A 
 784               	.LC3:
 785 001a 5200      		.string	"R"
 786               	.LC4:
 787 001c 5300      		.string	"S"
 788               	.LC5:
 789 001e 2573 3A20 		.string	"%s: Node[%02d]: \n"
 789      4E6F 6465 
 789      5B25 3032 
 789      645D 3A20 
 789      0A00 
 790               		.text
 792               	server_statistics:
 793               	.LFB134:
  96:ServerTDMARedundante.c **** #else
  97:ServerTDMARedundante.c **** static void tmr_tdma_server_beacon(SYS_Timer_t *timer)
  98:ServerTDMARedundante.c **** {
  99:ServerTDMARedundante.c **** 	(void) timer;
 100:ServerTDMARedundante.c **** 
 101:ServerTDMARedundante.c **** 	SYS_TimerStart(&tmrComputeData);
 102:ServerTDMARedundante.c **** 	
 103:ServerTDMARedundante.c **** 	appState					= APP_STATE_SEND;
 104:ServerTDMARedundante.c **** }
 105:ServerTDMARedundante.c **** static void tmr_tdma_server_statistics(SYS_Timer_t *timer)
 106:ServerTDMARedundante.c **** {
 107:ServerTDMARedundante.c **** 	(void) timer;
 108:ServerTDMARedundante.c **** 
 109:ServerTDMARedundante.c **** 	appState					= APP_STATE_SERVER_STATISTICS;
 110:ServerTDMARedundante.c **** }
 111:ServerTDMARedundante.c **** #endif
 112:ServerTDMARedundante.c **** static void server_statistics(void)
 113:ServerTDMARedundante.c **** {
 794               		.loc 4 113 0
 795               		.cfi_startproc
 796 032c CF93      		push r28
 797               	.LCFI33:
 798               		.cfi_def_cfa_offset 3
 799               		.cfi_offset 28, -2
 800 032e DF93      		push r29
 801               	.LCFI34:
 802               		.cfi_def_cfa_offset 4
 803               		.cfi_offset 29, -3
 804 0330 CDB7      		in r28,__SP_L__
 805 0332 DEB7      		in r29,__SP_H__
 806               	.LCFI35:
 807               		.cfi_def_cfa_register 28
 808 0334 2897      		sbiw r28,8
 809               	.LCFI36:
 810               		.cfi_def_cfa_offset 12
 811 0336 0FB6      		in __tmp_reg__,__SREG__
 812 0338 F894      		cli
 813 033a DEBF      		out __SP_H__,r29
 814 033c 0FBE      		out __SREG__,__tmp_reg__
 815 033e CDBF      		out __SP_L__,r28
 816               	/* prologue: function */
 817               	/* frame size = 8 */
 818               	/* stack size = 10 */
 819               	.L__stack_usage = 10
 114:ServerTDMARedundante.c **** 	int	n_decoded				= solver_solve_system();
 820               		.loc 4 114 0
 821 0340 0E94 0000 		call solver_solve_system
 822 0344 9A83      		std Y+2,r25
 823 0346 8983      		std Y+1,r24
 115:ServerTDMARedundante.c **** 	int n_received				= solver_get_n_received();
 824               		.loc 4 115 0
 825 0348 0E94 0000 		call solver_get_n_received
 826 034c 882F      		mov r24,r24
 827 034e 90E0      		ldi r25,0
 828 0350 9E83      		std Y+6,r25
 829 0352 8D83      		std Y+5,r24
 116:ServerTDMARedundante.c **** 	printf("R: %d, C: %d, S: %d\n", n_received, solver_get_n_colaborative(), n_decoded);
 830               		.loc 4 116 0
 831 0354 0E94 0000 		call solver_get_n_colaborative
 832 0358 882F      		mov r24,r24
 833 035a 90E0      		ldi r25,0
 834 035c 2A81      		ldd r18,Y+2
 835 035e 2F93      		push r18
 836 0360 2981      		ldd r18,Y+1
 837 0362 2F93      		push r18
 838 0364 292F      		mov r18,r25
 839 0366 2F93      		push r18
 840 0368 8F93      		push r24
 841 036a 8E81      		ldd r24,Y+6
 842 036c 8F93      		push r24
 843 036e 8D81      		ldd r24,Y+5
 844 0370 8F93      		push r24
 845 0372 80E0      		ldi r24,lo8(.LC2)
 846 0374 90E0      		ldi r25,hi8(.LC2)
 847 0376 892F      		mov r24,r25
 848 0378 8F93      		push r24
 849 037a 80E0      		ldi r24,lo8(.LC2)
 850 037c 90E0      		ldi r25,hi8(.LC2)
 851 037e 8F93      		push r24
 852 0380 0E94 0000 		call printf
 853 0384 8DB7      		in r24,__SP_L__
 854 0386 9EB7      		in r25,__SP_H__
 855 0388 0896      		adiw r24,8
 856 038a 0FB6      		in __tmp_reg__,__SREG__
 857 038c F894      		cli
 858 038e DEBF      		out __SP_H__,r29
 859 0390 0FBE      		out __SREG__,__tmp_reg__
 860 0392 CDBF      		out __SP_L__,r28
 861               	.LBB87:
 117:ServerTDMARedundante.c **** 	
 118:ServerTDMARedundante.c **** 	for(uint8_t j = SOLVER_MSG_RECEIVED; j < SOLVER_MSG_MAX; ++j)
 862               		.loc 4 118 0
 863 0394 81E0      		ldi r24,lo8(1)
 864 0396 8B83      		std Y+3,r24
 865 0398 00C0      		rjmp .L23
 866               	.L29:
 867               	.LBB88:
 119:ServerTDMARedundante.c **** 	{
 120:ServerTDMARedundante.c **** 		for(uint8_t i = 0; i < N_MOTES_COLLAB_MAX; ++i)
 868               		.loc 4 120 0
 869 039a 1C82      		std Y+4,__zero_reg__
 870 039c 00C0      		rjmp .L24
 871               	.L28:
 872               	.LBB89:
 121:ServerTDMARedundante.c **** 		{
 122:ServerTDMARedundante.c **** 			uint8_t* buffer			= solver_get_data(i, j);
 873               		.loc 4 122 0
 874 039e 6B81      		ldd r22,Y+3
 875 03a0 8C81      		ldd r24,Y+4
 876 03a2 0E94 0000 		call solver_get_data
 877 03a6 9887      		std Y+8,r25
 878 03a8 8F83      		std Y+7,r24
 123:ServerTDMARedundante.c **** 			if(buffer)
 879               		.loc 4 123 0
 880 03aa 8F81      		ldd r24,Y+7
 881 03ac 9885      		ldd r25,Y+8
 882 03ae 892B      		or r24,r25
 883 03b0 01F0      		breq .L25
 124:ServerTDMARedundante.c **** 			{
 125:ServerTDMARedundante.c **** 				--n_decoded;
 884               		.loc 4 125 0
 885 03b2 8981      		ldd r24,Y+1
 886 03b4 9A81      		ldd r25,Y+2
 887 03b6 0197      		sbiw r24,1
 888 03b8 9A83      		std Y+2,r25
 889 03ba 8983      		std Y+1,r24
 126:ServerTDMARedundante.c **** 				//toHexBuffer(statistics_buffer, buffer, MSG_SIZE_MAX);
 127:ServerTDMARedundante.c **** 				//printf("%s: Node[%02d]: %s\n", (j == SOLVER_MSG_RECEIVED ? "R" : "S"), i + 1, statistics_buff
 128:ServerTDMARedundante.c **** 				printf("%s: Node[%02d]: \n", (j == SOLVER_MSG_RECEIVED ? "R" : "S"), i + 1);
 890               		.loc 4 128 0
 891 03bc 8C81      		ldd r24,Y+4
 892 03be 882F      		mov r24,r24
 893 03c0 90E0      		ldi r25,0
 894 03c2 9C01      		movw r18,r24
 895 03c4 2F5F      		subi r18,-1
 896 03c6 3F4F      		sbci r19,-1
 897 03c8 8B81      		ldd r24,Y+3
 898 03ca 8130      		cpi r24,lo8(1)
 899 03cc 01F4      		brne .L26
 900               		.loc 4 128 0 is_stmt 0 discriminator 1
 901 03ce 80E0      		ldi r24,lo8(.LC3)
 902 03d0 90E0      		ldi r25,hi8(.LC3)
 903 03d2 00C0      		rjmp .L27
 904               	.L26:
 905               		.loc 4 128 0 discriminator 2
 906 03d4 80E0      		ldi r24,lo8(.LC4)
 907 03d6 90E0      		ldi r25,hi8(.LC4)
 908               	.L27:
 909               		.loc 4 128 0 discriminator 4
 910 03d8 432F      		mov r20,r19
 911 03da 4F93      		push r20
 912 03dc 2F93      		push r18
 913 03de 292F      		mov r18,r25
 914 03e0 2F93      		push r18
 915 03e2 8F93      		push r24
 916 03e4 80E0      		ldi r24,lo8(.LC5)
 917 03e6 90E0      		ldi r25,hi8(.LC5)
 918 03e8 892F      		mov r24,r25
 919 03ea 8F93      		push r24
 920 03ec 80E0      		ldi r24,lo8(.LC5)
 921 03ee 90E0      		ldi r25,hi8(.LC5)
 922 03f0 8F93      		push r24
 923 03f2 0E94 0000 		call printf
 924 03f6 0F90      		pop __tmp_reg__
 925 03f8 0F90      		pop __tmp_reg__
 926 03fa 0F90      		pop __tmp_reg__
 927 03fc 0F90      		pop __tmp_reg__
 928 03fe 0F90      		pop __tmp_reg__
 929 0400 0F90      		pop __tmp_reg__
 930               	.L25:
 931               	.LBE89:
 120:ServerTDMARedundante.c **** 		{
 932               		.loc 4 120 0 is_stmt 1 discriminator 2
 933 0402 8C81      		ldd r24,Y+4
 934 0404 8F5F      		subi r24,lo8(-(1))
 935 0406 8C83      		std Y+4,r24
 936               	.L24:
 120:ServerTDMARedundante.c **** 		{
 937               		.loc 4 120 0 is_stmt 0 discriminator 1
 938 0408 8C81      		ldd r24,Y+4
 939 040a 8E30      		cpi r24,lo8(14)
 940 040c 00F0      		brlo .L28
 941               	.LBE88:
 118:ServerTDMARedundante.c **** 	{
 942               		.loc 4 118 0 is_stmt 1 discriminator 2
 943 040e 8B81      		ldd r24,Y+3
 944 0410 8F5F      		subi r24,lo8(-(1))
 945 0412 8B83      		std Y+3,r24
 946               	.L23:
 118:ServerTDMARedundante.c **** 	{
 947               		.loc 4 118 0 is_stmt 0 discriminator 1
 948 0414 8B81      		ldd r24,Y+3
 949 0416 8330      		cpi r24,lo8(3)
 950 0418 00F4      		brsh .+2
 951 041a 00C0      		rjmp .L29
 952               	.LBE87:
 129:ServerTDMARedundante.c **** 			}
 130:ServerTDMARedundante.c **** 		}
 131:ServerTDMARedundante.c **** 	}
 132:ServerTDMARedundante.c **** 	
 133:ServerTDMARedundante.c **** 	appState					= APP_STATE_IDLE;
 953               		.loc 4 133 0 is_stmt 1
 954 041c 81E0      		ldi r24,lo8(1)
 955 041e 8093 0000 		sts appState,r24
 134:ServerTDMARedundante.c **** }
 956               		.loc 4 134 0
 957 0422 0000      		nop
 958               	/* epilogue start */
 959 0424 2896      		adiw r28,8
 960 0426 0FB6      		in __tmp_reg__,__SREG__
 961 0428 F894      		cli
 962 042a DEBF      		out __SP_H__,r29
 963 042c 0FBE      		out __SREG__,__tmp_reg__
 964 042e CDBF      		out __SP_L__,r28
 965 0430 DF91      		pop r29
 966 0432 CF91      		pop r28
 967 0434 0895      		ret
 968               		.cfi_endproc
 969               	.LFE134:
 971               		.section	.rodata
 972               	.LC6:
 973 0030 0A0A 5475 		.string	"\n\nTurn: %04d\n"
 973      726E 3A20 
 973      2530 3464 
 973      0A00 
 974               	.LC7:
 975 003e 436F 6E6E 		.string	"Connected: %02d, %s\n"
 975      6563 7465 
 975      643A 2025 
 975      3032 642C 
 975      2025 730A 
 976               	.LC8:
 977 0053 436F 6C6C 		.string	"Collab Buffer: %s\n"
 977      6162 2042 
 977      7566 6665 
 977      723A 2025 
 977      730A 00
 978               		.text
 980               	appSendData:
 981               	.LFB135:
 135:ServerTDMARedundante.c **** #else
 136:ServerTDMARedundante.c **** static void tdma_client_turn(void)
 137:ServerTDMARedundante.c **** {
 138:ServerTDMARedundante.c **** 	appState					= APP_STATE_WAKEUP_AND_WAIT;
 139:ServerTDMARedundante.c **** }
 140:ServerTDMARedundante.c **** static void tdma_client_job(void)
 141:ServerTDMARedundante.c **** {
 142:ServerTDMARedundante.c **** 	appState					= APP_STATE_WAKEUP_AND_SEND;
 143:ServerTDMARedundante.c **** }
 144:ServerTDMARedundante.c **** static void tdma_job_conf(NWK_DataReq_t *req)
 145:ServerTDMARedundante.c **** {
 146:ServerTDMARedundante.c **** 	(void) req;
 147:ServerTDMARedundante.c **** 
 148:ServerTDMARedundante.c **** 	appState					= APP_STATE_SLEEP_PREPARE;
 149:ServerTDMARedundante.c **** }
 150:ServerTDMARedundante.c **** static bool appBeaconInd(NWK_DataInd_t *ind)
 151:ServerTDMARedundante.c **** {
 152:ServerTDMARedundante.c **** 	(void) ind;
 153:ServerTDMARedundante.c **** 
 154:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 155:ServerTDMARedundante.c **** 	//LED_Toggle(LED_BLINK);
 156:ServerTDMARedundante.c **** 	//LED_Off(LED_DATA);
 157:ServerTDMARedundante.c **** #endif
 158:ServerTDMARedundante.c **** 
 159:ServerTDMARedundante.c **** 	AppMessageFrame_t*	frame_struct= (AppMessageFrame_t*) ind->data;
 160:ServerTDMARedundante.c **** 
 161:ServerTDMARedundante.c **** 	if(frame_struct->frameType == MSG_STATE_BEACON)
 162:ServerTDMARedundante.c **** 	{
 163:ServerTDMARedundante.c **** 		appState						= APP_STATE_SEND_PREPARE;
 164:ServerTDMARedundante.c **** 	}
 165:ServerTDMARedundante.c **** 
 166:ServerTDMARedundante.c **** 	return true;
 167:ServerTDMARedundante.c **** }
 168:ServerTDMARedundante.c **** static void appSendPrepare(void)
 169:ServerTDMARedundante.c **** {
 170:ServerTDMARedundante.c **** 	for(uint8_t i = 0; i < MSG_SIZE_MAX; ++i)
 171:ServerTDMARedundante.c **** 	{
 172:ServerTDMARedundante.c **** 		msgFrame.data.data_vector[i]	= rand();
 173:ServerTDMARedundante.c **** 	}
 174:ServerTDMARedundante.c **** }
 175:ServerTDMARedundante.c **** #endif
 176:ServerTDMARedundante.c **** static void appSendData(void)
 177:ServerTDMARedundante.c **** {
 982               		.loc 4 177 0
 983               		.cfi_startproc
 984 0436 CF93      		push r28
 985               	.LCFI37:
 986               		.cfi_def_cfa_offset 3
 987               		.cfi_offset 28, -2
 988 0438 DF93      		push r29
 989               	.LCFI38:
 990               		.cfi_def_cfa_offset 4
 991               		.cfi_offset 29, -3
 992 043a CDB7      		in r28,__SP_L__
 993 043c DEB7      		in r29,__SP_H__
 994               	.LCFI39:
 995               		.cfi_def_cfa_register 28
 996 043e 2A97      		sbiw r28,10
 997               	.LCFI40:
 998               		.cfi_def_cfa_offset 14
 999 0440 0FB6      		in __tmp_reg__,__SREG__
 1000 0442 F894      		cli
 1001 0444 DEBF      		out __SP_H__,r29
 1002 0446 0FBE      		out __SREG__,__tmp_reg__
 1003 0448 CDBF      		out __SP_L__,r28
 1004               	/* prologue: function */
 1005               	/* frame size = 10 */
 1006               	/* stack size = 12 */
 1007               	.L__stack_usage = 12
 1008 044a 84E2      		ldi r24,lo8(36)
 1009 044c 8A83      		std Y+2,r24
 1010 044e 1B82      		std Y+3,__zero_reg__
 1011 0450 8A81      		ldd r24,Y+2
 1012 0452 8C83      		std Y+4,r24
 1013 0454 8B81      		ldd r24,Y+3
 1014 0456 8D83      		std Y+5,r24
 1015               	.LBB90:
 1016               	.LBB91:
 1017               	.LBB92:
 1018               	.LBB93:
 281:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 1019               		.loc 5 281 0
 1020 0458 8C81      		ldd r24,Y+4
 1021 045a 8695      		lsr r24
 1022 045c 8695      		lsr r24
 1023 045e 8695      		lsr r24
 1024 0460 8E83      		std Y+6,r24
 1025               	.LBB94:
 1026               	.LBB95:
 170:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1027               		.loc 5 170 0
 1028 0462 8E81      		ldd r24,Y+6
 1029 0464 282F      		mov r18,r24
 1030 0466 30E0      		ldi r19,0
 1031 0468 C901      		movw r24,r18
 1032 046a 880F      		lsl r24
 1033 046c 991F      		rol r25
 1034 046e 820F      		add r24,r18
 1035 0470 931F      		adc r25,r19
 169:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	       (port * IOPORT_PORT_OFFSET)));
 1036               		.loc 5 169 0
 1037 0472 8096      		adiw r24,32
 1038               	.LBE95:
 1039               	.LBE94:
 281:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 1040               		.loc 5 281 0
 1041 0474 9887      		std Y+8,r25
 1042 0476 8F83      		std Y+7,r24
 283:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base_add->PORTDATA
 1043               		.loc 5 283 0
 1044 0478 8D81      		ldd r24,Y+5
 1045 047a 8823      		tst r24
 1046 047c 01F0      		breq .L32
 285:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin));
 1047               		.loc 5 285 0
 1048 047e 8F81      		ldd r24,Y+7
 1049 0480 9885      		ldd r25,Y+8
 1050 0482 FC01      		movw r30,r24
 1051 0484 4281      		ldd r20,Z+2
 1052 0486 8C81      		ldd r24,Y+4
 1053 0488 8987      		std Y+9,r24
 1054               	.LBB96:
 1055               	.LBB97:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1056               		.loc 5 189 0
 1057 048a 8985      		ldd r24,Y+9
 1058 048c 882F      		mov r24,r24
 1059 048e 90E0      		ldi r25,0
 1060 0490 9C01      		movw r18,r24
 1061 0492 2770      		andi r18,7
 1062 0494 3327      		clr r19
 1063 0496 81E0      		ldi r24,lo8(1)
 1064 0498 90E0      		ldi r25,0
 1065 049a 00C0      		rjmp 2f
 1066               		1:
 1067 049c 880F      		lsl r24
 1068 049e 991F      		rol r25
 1069               		2:
 1070 04a0 2A95      		dec r18
 1071 04a2 02F4      		brpl 1b
 1072               	.LBE97:
 1073               	.LBE96:
 285:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin));
 1074               		.loc 5 285 0
 1075 04a4 242F      		mov r18,r20
 1076 04a6 282B      		or r18,r24
 1077 04a8 8F81      		ldd r24,Y+7
 1078 04aa 9885      		ldd r25,Y+8
 1079 04ac FC01      		movw r30,r24
 1080 04ae 2283      		std Z+2,r18
 1081 04b0 00C0      		rjmp .L34
 1082               	.L32:
 1083               		.loc 5 289 0
 1084 04b2 8F81      		ldd r24,Y+7
 1085 04b4 9885      		ldd r25,Y+8
 1086 04b6 FC01      		movw r30,r24
 1087 04b8 8281      		ldd r24,Z+2
 1088 04ba 482F      		mov r20,r24
 1089 04bc 8C81      		ldd r24,Y+4
 1090 04be 8A87      		std Y+10,r24
 1091               	.LBB98:
 1092               	.LBB99:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1093               		.loc 5 189 0
 1094 04c0 8A85      		ldd r24,Y+10
 1095 04c2 882F      		mov r24,r24
 1096 04c4 90E0      		ldi r25,0
 1097 04c6 9C01      		movw r18,r24
 1098 04c8 2770      		andi r18,7
 1099 04ca 3327      		clr r19
 1100 04cc 81E0      		ldi r24,lo8(1)
 1101 04ce 90E0      		ldi r25,0
 1102 04d0 00C0      		rjmp 2f
 1103               		1:
 1104 04d2 880F      		lsl r24
 1105 04d4 991F      		rol r25
 1106               		2:
 1107 04d6 2A95      		dec r18
 1108 04d8 02F4      		brpl 1b
 1109               	.LBE99:
 1110               	.LBE98:
 1111               		.loc 5 289 0
 1112 04da 8095      		com r24
 1113 04dc 8423      		and r24,r20
 1114 04de 282F      		mov r18,r24
 1115 04e0 8F81      		ldd r24,Y+7
 1116 04e2 9885      		ldd r25,Y+8
 1117 04e4 FC01      		movw r30,r24
 1118 04e6 2283      		std Z+2,r18
 1119               	.L34:
 1120               	.LBE93:
 1121               	.LBE92:
 1122               	.LBE91:
 1123               	.LBE90:
 178:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 179:ServerTDMARedundante.c **** 	LED_On(LED_DATA);
 180:ServerTDMARedundante.c **** 	#if (APP_COORDINATOR)
 181:ServerTDMARedundante.c **** 		SYS_TimerStart(&tmrBlinkData);
 1124               		.loc 4 181 0
 1125 04e8 80E0      		ldi r24,lo8(tmrBlinkData)
 1126 04ea 90E0      		ldi r25,hi8(tmrBlinkData)
 1127 04ec 0E94 0000 		call SYS_TimerStart
 182:ServerTDMARedundante.c **** 	#endif
 183:ServerTDMARedundante.c **** #endif
 184:ServerTDMARedundante.c **** 
 185:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
 186:ServerTDMARedundante.c **** 	printf("\n\nTurn: %04d\n", server_turn++);
 1128               		.loc 4 186 0
 1129 04f0 8091 0000 		lds r24,server_turn
 1130 04f4 9091 0000 		lds r25,server_turn+1
 1131 04f8 9C01      		movw r18,r24
 1132 04fa 2F5F      		subi r18,-1
 1133 04fc 3F4F      		sbci r19,-1
 1134 04fe 3093 0000 		sts server_turn+1,r19
 1135 0502 2093 0000 		sts server_turn,r18
 1136 0506 292F      		mov r18,r25
 1137 0508 2F93      		push r18
 1138 050a 8F93      		push r24
 1139 050c 80E0      		ldi r24,lo8(.LC6)
 1140 050e 90E0      		ldi r25,hi8(.LC6)
 1141 0510 892F      		mov r24,r25
 1142 0512 8F93      		push r24
 1143 0514 80E0      		ldi r24,lo8(.LC6)
 1144 0516 90E0      		ldi r25,hi8(.LC6)
 1145 0518 8F93      		push r24
 1146 051a 0E94 0000 		call printf
 1147 051e 0F90      		pop __tmp_reg__
 1148 0520 0F90      		pop __tmp_reg__
 1149 0522 0F90      		pop __tmp_reg__
 1150 0524 0F90      		pop __tmp_reg__
 187:ServerTDMARedundante.c **** 	energy_prepare_next_turn();
 1151               		.loc 4 187 0
 1152 0526 0E94 0000 		call energy_prepare_next_turn
 188:ServerTDMARedundante.c **** 	solver_prepare_next_turn();
 1153               		.loc 4 188 0
 1154 052a 0E94 0000 		call solver_prepare_next_turn
 189:ServerTDMARedundante.c **** 	energy_get_collab_vector(msgFrame.beacon.collab_vector);
 1155               		.loc 4 189 0
 1156 052e 80E0      		ldi r24,lo8(msgFrame+1)
 1157 0530 90E0      		ldi r25,hi8(msgFrame+1)
 1158 0532 0E94 0000 		call energy_get_collab_vector
 190:ServerTDMARedundante.c **** 	uint8_t aux_connected = energy_get_connected_vector(aux_buffer);
 1159               		.loc 4 190 0
 1160 0536 80E0      		ldi r24,lo8(aux_buffer)
 1161 0538 90E0      		ldi r25,hi8(aux_buffer)
 1162 053a 0E94 0000 		call energy_get_connected_vector
 1163 053e 8983      		std Y+1,r24
 191:ServerTDMARedundante.c **** 	toHexBuffer(statistics_buffer, aux_buffer, N_MOTES_COLLAB_MAX);
 1164               		.loc 4 191 0
 1165 0540 4EE0      		ldi r20,lo8(14)
 1166 0542 50E0      		ldi r21,0
 1167 0544 60E0      		ldi r22,lo8(aux_buffer)
 1168 0546 70E0      		ldi r23,hi8(aux_buffer)
 1169 0548 80E0      		ldi r24,lo8(statistics_buffer)
 1170 054a 90E0      		ldi r25,hi8(statistics_buffer)
 1171 054c 0E94 0000 		call toHexBuffer
 192:ServerTDMARedundante.c **** 	printf("Connected: %02d, %s\n", aux_connected, statistics_buffer);
 1172               		.loc 4 192 0
 1173 0550 8981      		ldd r24,Y+1
 1174 0552 882F      		mov r24,r24
 1175 0554 90E0      		ldi r25,0
 1176 0556 20E0      		ldi r18,lo8(statistics_buffer)
 1177 0558 30E0      		ldi r19,hi8(statistics_buffer)
 1178 055a 232F      		mov r18,r19
 1179 055c 2F93      		push r18
 1180 055e 20E0      		ldi r18,lo8(statistics_buffer)
 1181 0560 30E0      		ldi r19,hi8(statistics_buffer)
 1182 0562 2F93      		push r18
 1183 0564 292F      		mov r18,r25
 1184 0566 2F93      		push r18
 1185 0568 8F93      		push r24
 1186 056a 80E0      		ldi r24,lo8(.LC7)
 1187 056c 90E0      		ldi r25,hi8(.LC7)
 1188 056e 892F      		mov r24,r25
 1189 0570 8F93      		push r24
 1190 0572 80E0      		ldi r24,lo8(.LC7)
 1191 0574 90E0      		ldi r25,hi8(.LC7)
 1192 0576 8F93      		push r24
 1193 0578 0E94 0000 		call printf
 1194 057c 0F90      		pop __tmp_reg__
 1195 057e 0F90      		pop __tmp_reg__
 1196 0580 0F90      		pop __tmp_reg__
 1197 0582 0F90      		pop __tmp_reg__
 1198 0584 0F90      		pop __tmp_reg__
 1199 0586 0F90      		pop __tmp_reg__
 193:ServerTDMARedundante.c **** 
 194:ServerTDMARedundante.c **** 	toHexBuffer(statistics_buffer, msgFrame.beacon.collab_vector, N_COLLAB_VECTOR);
 1200               		.loc 4 194 0
 1201 0588 40E2      		ldi r20,lo8(32)
 1202 058a 50E0      		ldi r21,0
 1203 058c 60E0      		ldi r22,lo8(msgFrame+1)
 1204 058e 70E0      		ldi r23,hi8(msgFrame+1)
 1205 0590 80E0      		ldi r24,lo8(statistics_buffer)
 1206 0592 90E0      		ldi r25,hi8(statistics_buffer)
 1207 0594 0E94 0000 		call toHexBuffer
 195:ServerTDMARedundante.c **** 	printf("Collab Buffer: %s\n", statistics_buffer);
 1208               		.loc 4 195 0
 1209 0598 80E0      		ldi r24,lo8(statistics_buffer)
 1210 059a 90E0      		ldi r25,hi8(statistics_buffer)
 1211 059c 892F      		mov r24,r25
 1212 059e 8F93      		push r24
 1213 05a0 80E0      		ldi r24,lo8(statistics_buffer)
 1214 05a2 90E0      		ldi r25,hi8(statistics_buffer)
 1215 05a4 8F93      		push r24
 1216 05a6 80E0      		ldi r24,lo8(.LC8)
 1217 05a8 90E0      		ldi r25,hi8(.LC8)
 1218 05aa 892F      		mov r24,r25
 1219 05ac 8F93      		push r24
 1220 05ae 80E0      		ldi r24,lo8(.LC8)
 1221 05b0 90E0      		ldi r25,hi8(.LC8)
 1222 05b2 8F93      		push r24
 1223 05b4 0E94 0000 		call printf
 1224 05b8 0F90      		pop __tmp_reg__
 1225 05ba 0F90      		pop __tmp_reg__
 1226 05bc 0F90      		pop __tmp_reg__
 1227 05be 0F90      		pop __tmp_reg__
 196:ServerTDMARedundante.c **** 	
 197:ServerTDMARedundante.c **** 	NWK_DataReq(&msgReq);
 1228               		.loc 4 197 0
 1229 05c0 80E0      		ldi r24,lo8(msgReq)
 1230 05c2 90E0      		ldi r25,hi8(msgReq)
 1231 05c4 0E94 0000 		call NWK_DataReq
 198:ServerTDMARedundante.c **** #else
 199:ServerTDMARedundante.c **** 	if(connected)
 200:ServerTDMARedundante.c **** 	{
 201:ServerTDMARedundante.c **** 		// Utiliza o SLOT do TDMA para enviar dados somente apos conectar com o Coordenador
 202:ServerTDMARedundante.c **** 		NWK_DataReq(&msgReq);
 203:ServerTDMARedundante.c **** 	}
 204:ServerTDMARedundante.c **** 	else
 205:ServerTDMARedundante.c **** 	{
 206:ServerTDMARedundante.c **** 		NWK_DataReq(&msgReqConnection);
 207:ServerTDMARedundante.c **** 	}
 208:ServerTDMARedundante.c **** #endif
 209:ServerTDMARedundante.c **** }
 1232               		.loc 4 209 0
 1233 05c8 0000      		nop
 1234               	/* epilogue start */
 1235 05ca 2A96      		adiw r28,10
 1236 05cc 0FB6      		in __tmp_reg__,__SREG__
 1237 05ce F894      		cli
 1238 05d0 DEBF      		out __SP_H__,r29
 1239 05d2 0FBE      		out __SREG__,__tmp_reg__
 1240 05d4 CDBF      		out __SP_L__,r28
 1241 05d6 DF91      		pop r29
 1242 05d8 CF91      		pop r28
 1243 05da 0895      		ret
 1244               		.cfi_endproc
 1245               	.LFE135:
 1248               	appDataInd:
 1249               	.LFB136:
 210:ServerTDMARedundante.c **** static bool appDataInd(NWK_DataInd_t *ind)
 211:ServerTDMARedundante.c **** {
 1250               		.loc 4 211 0
 1251               		.cfi_startproc
 1252 05dc CF93      		push r28
 1253               	.LCFI41:
 1254               		.cfi_def_cfa_offset 3
 1255               		.cfi_offset 28, -2
 1256 05de DF93      		push r29
 1257               	.LCFI42:
 1258               		.cfi_def_cfa_offset 4
 1259               		.cfi_offset 29, -3
 1260 05e0 CDB7      		in r28,__SP_L__
 1261 05e2 DEB7      		in r29,__SP_H__
 1262               	.LCFI43:
 1263               		.cfi_def_cfa_register 28
 1264 05e4 2B97      		sbiw r28,11
 1265               	.LCFI44:
 1266               		.cfi_def_cfa_offset 15
 1267 05e6 0FB6      		in __tmp_reg__,__SREG__
 1268 05e8 F894      		cli
 1269 05ea DEBF      		out __SP_H__,r29
 1270 05ec 0FBE      		out __SREG__,__tmp_reg__
 1271 05ee CDBF      		out __SP_L__,r28
 1272               	/* prologue: function */
 1273               	/* frame size = 11 */
 1274               	/* stack size = 13 */
 1275               	.L__stack_usage = 13
 1276 05f0 9B87      		std Y+11,r25
 1277 05f2 8A87      		std Y+10,r24
 1278 05f4 85E2      		ldi r24,lo8(37)
 1279 05f6 8B83      		std Y+3,r24
 1280 05f8 8B81      		ldd r24,Y+3
 1281 05fa 8C83      		std Y+4,r24
 1282 05fc 8C81      		ldd r24,Y+4
 1283 05fe 8D83      		std Y+5,r24
 1284               	.LBB100:
 1285               	.LBB101:
 1286               	.LBB102:
 1287               	.LBB103:
 1288               	.LBB104:
 1289               	.LBB105:
 179:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1290               		.loc 5 179 0
 1291 0600 8D81      		ldd r24,Y+5
 1292 0602 8695      		lsr r24
 1293 0604 8695      		lsr r24
 1294 0606 8695      		lsr r24
 1295 0608 8E83      		std Y+6,r24
 1296               	.LBB106:
 1297               	.LBB107:
 170:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1298               		.loc 5 170 0
 1299 060a 8E81      		ldd r24,Y+6
 1300 060c 282F      		mov r18,r24
 1301 060e 30E0      		ldi r19,0
 1302 0610 C901      		movw r24,r18
 1303 0612 880F      		lsl r24
 1304 0614 991F      		rol r25
 1305 0616 820F      		add r24,r18
 1306 0618 931F      		adc r25,r19
 169:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	       (port * IOPORT_PORT_OFFSET)));
 1307               		.loc 5 169 0
 1308 061a 8096      		adiw r24,32
 1309               	.LBE107:
 1310               	.LBE106:
 1311               	.LBE105:
 1312               	.LBE104:
 290:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin)));
 291:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 292:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 293:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 294:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 295:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Set port multiple pins level to high or low.
 296:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param port GPIO port to configure  e.g. IOPORT_PORTB
 297:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: mask Pin mask of pins to configure.
 298:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: level high/low
 299:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 300:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_set_port_level(ioport_port_t port,
 301:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		ioport_port_mask_t mask, ioport_port_mask_t level)
 302:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 303:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_port_to_base(port);
 304:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 305:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	if (level) {
 306:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA |= mask;
 307:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	} else {
 308:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base->PORTDATA &= ~mask;
 309:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	}
 310:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 311:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 312:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 313:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Get pin level of pin.
 314:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 315:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \return: level high/low
 316:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 317:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static bool arch_ioport_get_pin_level(ioport_pin_t pin)
 318:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 319:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_pin_to_base(pin);
 320:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return base->PINCRL & arch_ioport_pin_to_mask(pin);
 321:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 322:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 323:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 324:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : Get multiple pins level of single port.
 325:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param port GPIO port to configure  e.g. IOPORT_PORTB
 326:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param mask Pin mask of pins to read data.
 327:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \return: 8 bit value based on level voltage on pins.
 328:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 329:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static ioport_port_mask_t arch_ioport_get_port_level(
 330:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		ioport_port_t port, ioport_port_mask_t mask)
 331:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 332:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_port_to_base(port);
 333:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 334:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	return (base->PINCRL & mask);
 335:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 336:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 337:../../../platform/common/services/ioport/mega_rf/ioport.h **** /**
 338:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \brief : To toggle the pin
 339:../../../platform/common/services/ioport/mega_rf/ioport.h ****  * \param: pin. the pin number defined by IOPORT_CREATE_PIN
 340:../../../platform/common/services/ioport/mega_rf/ioport.h ****  */
 341:../../../platform/common/services/ioport/mega_rf/ioport.h **** __always_inline static void arch_ioport_toggle_pin_level(ioport_pin_t pin)
 342:../../../platform/common/services/ioport/mega_rf/ioport.h **** {
 343:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	PORT_t *base = arch_ioport_pin_to_base(pin);
 1313               		.loc 5 343 0
 1314 061c 9887      		std Y+8,r25
 1315 061e 8F83      		std Y+7,r24
 1316 0620 8C81      		ldd r24,Y+4
 1317 0622 8987      		std Y+9,r24
 1318               	.LBB108:
 1319               	.LBB109:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1320               		.loc 5 189 0
 1321 0624 8985      		ldd r24,Y+9
 1322 0626 882F      		mov r24,r24
 1323 0628 90E0      		ldi r25,0
 1324 062a 9C01      		movw r18,r24
 1325 062c 2770      		andi r18,7
 1326 062e 3327      		clr r19
 1327 0630 81E0      		ldi r24,lo8(1)
 1328 0632 90E0      		ldi r25,0
 1329 0634 00C0      		rjmp 2f
 1330               		1:
 1331 0636 880F      		lsl r24
 1332 0638 991F      		rol r25
 1333               		2:
 1334 063a 2A95      		dec r18
 1335 063c 02F4      		brpl 1b
 1336 063e 282F      		mov r18,r24
 1337               	.LBE109:
 1338               	.LBE108:
 344:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 345:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	base->PINCRL = arch_ioport_pin_to_mask(pin);
 1339               		.loc 5 345 0
 1340 0640 8F81      		ldd r24,Y+7
 1341 0642 9885      		ldd r25,Y+8
 1342 0644 FC01      		movw r30,r24
 1343 0646 2083      		st Z,r18
 1344               	.LBE103:
 1345               	.LBE102:
 1346               	.LBE101:
 1347               	.LBE100:
 212:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 213:ServerTDMARedundante.c **** 	LED_Toggle(LED_BLINK);
 214:ServerTDMARedundante.c **** 	//LED_Off(LED_DATA);
 215:ServerTDMARedundante.c **** #endif
 216:ServerTDMARedundante.c **** 	energy_receive_statistics(ind);
 1348               		.loc 4 216 0
 1349 0648 8A85      		ldd r24,Y+10
 1350 064a 9B85      		ldd r25,Y+11
 1351 064c 0E94 0000 		call energy_receive_statistics
 217:ServerTDMARedundante.c **** 	solver_received_data_frame(ind);
 1352               		.loc 4 217 0
 1353 0650 8A85      		ldd r24,Y+10
 1354 0652 9B85      		ldd r25,Y+11
 1355 0654 0E94 0000 		call solver_received_data_frame
 218:ServerTDMARedundante.c **** 
 219:ServerTDMARedundante.c **** 	AppMessageFrame_t*	frame_struct	= (AppMessageFrame_t*) ind->data;
 1356               		.loc 4 219 0
 1357 0658 8A85      		ldd r24,Y+10
 1358 065a 9B85      		ldd r25,Y+11
 1359 065c FC01      		movw r30,r24
 1360 065e 8781      		ldd r24,Z+7
 1361 0660 9085      		ldd r25,Z+8
 1362 0662 9A83      		std Y+2,r25
 1363 0664 8983      		std Y+1,r24
 220:ServerTDMARedundante.c **** 
 221:ServerTDMARedundante.c **** 	if(frame_struct->frameType == MSG_STATE_CONNECTION)
 1364               		.loc 4 221 0
 1365 0666 8981      		ldd r24,Y+1
 1366 0668 9A81      		ldd r25,Y+2
 1367 066a FC01      		movw r30,r24
 1368 066c 8081      		ld r24,Z
 1369 066e 8330      		cpi r24,lo8(3)
 1370 0670 01F4      		brne .L40
 222:ServerTDMARedundante.c **** 	{
 223:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
 224:ServerTDMARedundante.c **** 		// No coordenador, responder ao pedido de conexo.
 225:ServerTDMARedundante.c **** 		msgReqConnection.dstAddr = ind->srcAddr;
 1371               		.loc 4 225 0
 1372 0672 8A85      		ldd r24,Y+10
 1373 0674 9B85      		ldd r25,Y+11
 1374 0676 FC01      		movw r30,r24
 1375 0678 8081      		ld r24,Z
 1376 067a 9181      		ldd r25,Z+1
 1377 067c 9093 0000 		sts msgReqConnection+5+1,r25
 1378 0680 8093 0000 		sts msgReqConnection+5,r24
 226:ServerTDMARedundante.c **** 		NWK_DataReq(&msgReqConnection);
 1379               		.loc 4 226 0
 1380 0684 80E0      		ldi r24,lo8(msgReqConnection)
 1381 0686 90E0      		ldi r25,hi8(msgReqConnection)
 1382 0688 0E94 0000 		call NWK_DataReq
 1383               	.L40:
 227:ServerTDMARedundante.c **** #else
 228:ServerTDMARedundante.c **** 		// No cliente, indicao de conexo aceita e que os dados podem ser enviados.
 229:ServerTDMARedundante.c **** 		connected				= true;
 230:ServerTDMARedundante.c **** #endif
 231:ServerTDMARedundante.c **** 	}
 232:ServerTDMARedundante.c **** 
 233:ServerTDMARedundante.c **** 	return true;
 1384               		.loc 4 233 0
 1385 068c 81E0      		ldi r24,lo8(1)
 1386               	/* epilogue start */
 234:ServerTDMARedundante.c **** }
 1387               		.loc 4 234 0
 1388 068e 2B96      		adiw r28,11
 1389 0690 0FB6      		in __tmp_reg__,__SREG__
 1390 0692 F894      		cli
 1391 0694 DEBF      		out __SP_H__,r29
 1392 0696 0FBE      		out __SREG__,__tmp_reg__
 1393 0698 CDBF      		out __SP_L__,r28
 1394 069a DF91      		pop r29
 1395 069c CF91      		pop r28
 1396 069e 0895      		ret
 1397               		.cfi_endproc
 1398               	.LFE136:
 1401               	appInit:
 1402               	.LFB137:
 235:ServerTDMARedundante.c **** static void appInit(void)
 236:ServerTDMARedundante.c **** {
 1403               		.loc 4 236 0
 1404               		.cfi_startproc
 1405 06a0 CF93      		push r28
 1406               	.LCFI45:
 1407               		.cfi_def_cfa_offset 3
 1408               		.cfi_offset 28, -2
 1409 06a2 DF93      		push r29
 1410               	.LCFI46:
 1411               		.cfi_def_cfa_offset 4
 1412               		.cfi_offset 29, -3
 1413 06a4 CDB7      		in r28,__SP_L__
 1414 06a6 DEB7      		in r29,__SP_H__
 1415               	.LCFI47:
 1416               		.cfi_def_cfa_register 28
 1417 06a8 2997      		sbiw r28,9
 1418               	.LCFI48:
 1419               		.cfi_def_cfa_offset 13
 1420 06aa 0FB6      		in __tmp_reg__,__SREG__
 1421 06ac F894      		cli
 1422 06ae DEBF      		out __SP_H__,r29
 1423 06b0 0FBE      		out __SREG__,__tmp_reg__
 1424 06b2 CDBF      		out __SP_L__,r28
 1425               	/* prologue: function */
 1426               	/* frame size = 9 */
 1427               	/* stack size = 11 */
 1428               	.L__stack_usage = 11
 237:ServerTDMARedundante.c **** 	NWK_SetAddr(APP_ADDR);
 1429               		.loc 4 237 0
 1430 06b4 80E0      		ldi r24,0
 1431 06b6 90E0      		ldi r25,0
 1432 06b8 0E94 0000 		call NWK_SetAddr
 238:ServerTDMARedundante.c **** 	NWK_SetPanId(APP_PANID);
 1433               		.loc 4 238 0
 1434 06bc 8EEF      		ldi r24,lo8(-2)
 1435 06be 9AEC      		ldi r25,lo8(-54)
 1436 06c0 0E94 0000 		call NWK_SetPanId
 239:ServerTDMARedundante.c **** 	PHY_SetChannel(APP_CHANNEL);
 1437               		.loc 4 239 0
 1438 06c4 8FE0      		ldi r24,lo8(15)
 1439 06c6 0E94 0000 		call PHY_SetChannel
 240:ServerTDMARedundante.c **** 	PHY_SetRxState(true);
 1440               		.loc 4 240 0
 1441 06ca 81E0      		ldi r24,lo8(1)
 1442 06cc 0E94 0000 		call PHY_SetRxState
 1443 06d0 83E2      		ldi r24,lo8(35)
 1444 06d2 8983      		std Y+1,r24
 1445 06d4 1A82      		std Y+2,__zero_reg__
 1446 06d6 8981      		ldd r24,Y+1
 1447 06d8 8B83      		std Y+3,r24
 1448 06da 8A81      		ldd r24,Y+2
 1449 06dc 8C83      		std Y+4,r24
 1450               	.LBB110:
 1451               	.LBB111:
 1452               	.LBB112:
 1453               	.LBB113:
 281:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 1454               		.loc 5 281 0
 1455 06de 8B81      		ldd r24,Y+3
 1456 06e0 8695      		lsr r24
 1457 06e2 8695      		lsr r24
 1458 06e4 8695      		lsr r24
 1459 06e6 8D83      		std Y+5,r24
 1460               	.LBB114:
 1461               	.LBB115:
 170:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1462               		.loc 5 170 0
 1463 06e8 8D81      		ldd r24,Y+5
 1464 06ea 282F      		mov r18,r24
 1465 06ec 30E0      		ldi r19,0
 1466 06ee C901      		movw r24,r18
 1467 06f0 880F      		lsl r24
 1468 06f2 991F      		rol r25
 1469 06f4 820F      		add r24,r18
 1470 06f6 931F      		adc r25,r19
 169:../../../platform/common/services/ioport/mega_rf/ioport.h **** 	       (port * IOPORT_PORT_OFFSET)));
 1471               		.loc 5 169 0
 1472 06f8 8096      		adiw r24,32
 1473               	.LBE115:
 1474               	.LBE114:
 281:../../../platform/common/services/ioport/mega_rf/ioport.h **** 
 1475               		.loc 5 281 0
 1476 06fa 9F83      		std Y+7,r25
 1477 06fc 8E83      		std Y+6,r24
 283:../../../platform/common/services/ioport/mega_rf/ioport.h **** 		base_add->PORTDATA
 1478               		.loc 5 283 0
 1479 06fe 8C81      		ldd r24,Y+4
 1480 0700 8823      		tst r24
 1481 0702 01F0      		breq .L44
 285:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin));
 1482               		.loc 5 285 0
 1483 0704 8E81      		ldd r24,Y+6
 1484 0706 9F81      		ldd r25,Y+7
 1485 0708 FC01      		movw r30,r24
 1486 070a 4281      		ldd r20,Z+2
 1487 070c 8B81      		ldd r24,Y+3
 1488 070e 8887      		std Y+8,r24
 1489               	.LBB116:
 1490               	.LBB117:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1491               		.loc 5 189 0
 1492 0710 8885      		ldd r24,Y+8
 1493 0712 882F      		mov r24,r24
 1494 0714 90E0      		ldi r25,0
 1495 0716 9C01      		movw r18,r24
 1496 0718 2770      		andi r18,7
 1497 071a 3327      		clr r19
 1498 071c 81E0      		ldi r24,lo8(1)
 1499 071e 90E0      		ldi r25,0
 1500 0720 00C0      		rjmp 2f
 1501               		1:
 1502 0722 880F      		lsl r24
 1503 0724 991F      		rol r25
 1504               		2:
 1505 0726 2A95      		dec r18
 1506 0728 02F4      		brpl 1b
 1507               	.LBE117:
 1508               	.LBE116:
 285:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin));
 1509               		.loc 5 285 0
 1510 072a 242F      		mov r18,r20
 1511 072c 282B      		or r18,r24
 1512 072e 8E81      		ldd r24,Y+6
 1513 0730 9F81      		ldd r25,Y+7
 1514 0732 FC01      		movw r30,r24
 1515 0734 2283      		std Z+2,r18
 1516 0736 00C0      		rjmp .L46
 1517               	.L44:
 289:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin)));
 1518               		.loc 5 289 0
 1519 0738 8E81      		ldd r24,Y+6
 1520 073a 9F81      		ldd r25,Y+7
 1521 073c FC01      		movw r30,r24
 1522 073e 8281      		ldd r24,Z+2
 1523 0740 482F      		mov r20,r24
 1524 0742 8B81      		ldd r24,Y+3
 1525 0744 8987      		std Y+9,r24
 1526               	.LBB118:
 1527               	.LBB119:
 189:../../../platform/common/services/ioport/mega_rf/ioport.h **** }
 1528               		.loc 5 189 0
 1529 0746 8985      		ldd r24,Y+9
 1530 0748 882F      		mov r24,r24
 1531 074a 90E0      		ldi r25,0
 1532 074c 9C01      		movw r18,r24
 1533 074e 2770      		andi r18,7
 1534 0750 3327      		clr r19
 1535 0752 81E0      		ldi r24,lo8(1)
 1536 0754 90E0      		ldi r25,0
 1537 0756 00C0      		rjmp 2f
 1538               		1:
 1539 0758 880F      		lsl r24
 1540 075a 991F      		rol r25
 1541               		2:
 1542 075c 2A95      		dec r18
 1543 075e 02F4      		brpl 1b
 1544               	.LBE119:
 1545               	.LBE118:
 289:../../../platform/common/services/ioport/mega_rf/ioport.h **** 					(pin)));
 1546               		.loc 5 289 0
 1547 0760 8095      		com r24
 1548 0762 8423      		and r24,r20
 1549 0764 282F      		mov r18,r24
 1550 0766 8E81      		ldd r24,Y+6
 1551 0768 9F81      		ldd r25,Y+7
 1552 076a FC01      		movw r30,r24
 1553 076c 2283      		std Z+2,r18
 1554               	.L46:
 1555               	.LBE113:
 1556               	.LBE112:
 1557               	.LBE111:
 1558               	.LBE110:
 241:ServerTDMARedundante.c **** 
 242:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 243:ServerTDMARedundante.c **** 	LED_On(LED_NETWORK);
 244:ServerTDMARedundante.c **** #endif
 245:ServerTDMARedundante.c **** 
 246:ServerTDMARedundante.c **** #ifdef PHY_ENABLE_RANDOM_NUMBER_GENERATOR
 247:ServerTDMARedundante.c **** 	srand(PHY_RandomReq());
 1559               		.loc 4 247 0
 1560 076e 0E94 0000 		call PHY_RandomReq
 1561 0772 0E94 0000 		call srand
 248:ServerTDMARedundante.c **** #endif
 249:ServerTDMARedundante.c **** 
 250:ServerTDMARedundante.c **** 	tmrBlinkData.interval		= 50;
 1562               		.loc 4 250 0
 1563 0776 82E3      		ldi r24,lo8(50)
 1564 0778 90E0      		ldi r25,0
 1565 077a A0E0      		ldi r26,0
 1566 077c B0E0      		ldi r27,0
 1567 077e 8093 0000 		sts tmrBlinkData+6,r24
 1568 0782 9093 0000 		sts tmrBlinkData+6+1,r25
 1569 0786 A093 0000 		sts tmrBlinkData+6+2,r26
 1570 078a B093 0000 		sts tmrBlinkData+6+3,r27
 251:ServerTDMARedundante.c **** 	tmrBlinkData.mode			= SYS_TIMER_INTERVAL_MODE;
 1571               		.loc 4 251 0
 1572 078e 1092 0000 		sts tmrBlinkData+10,__zero_reg__
 252:ServerTDMARedundante.c **** 	tmrBlinkData.handler		= tmrBlinkDataHandler;
 1573               		.loc 4 252 0
 1574 0792 80E0      		ldi r24,lo8(gs(tmrBlinkDataHandler))
 1575 0794 90E0      		ldi r25,hi8(gs(tmrBlinkDataHandler))
 1576 0796 9093 0000 		sts tmrBlinkData+11+1,r25
 1577 079a 8093 0000 		sts tmrBlinkData+11,r24
 253:ServerTDMARedundante.c **** 
 254:ServerTDMARedundante.c **** 	msgFrameConnection.frameType = MSG_STATE_CONNECTION;
 1578               		.loc 4 254 0
 1579 079e 83E0      		ldi r24,lo8(3)
 1580 07a0 8093 0000 		sts msgFrameConnection,r24
 255:ServerTDMARedundante.c **** 
 256:ServerTDMARedundante.c **** 	msgReqConnection.dstAddr	= BROADCAST;
 1581               		.loc 4 256 0
 1582 07a4 8FEF      		ldi r24,lo8(-1)
 1583 07a6 9FEF      		ldi r25,lo8(-1)
 1584 07a8 9093 0000 		sts msgReqConnection+5+1,r25
 1585 07ac 8093 0000 		sts msgReqConnection+5,r24
 257:ServerTDMARedundante.c **** 	msgReqConnection.dstEndpoint = APP_DATA_ENDPOINT;
 1586               		.loc 4 257 0
 1587 07b0 81E0      		ldi r24,lo8(1)
 1588 07b2 8093 0000 		sts msgReqConnection+7,r24
 258:ServerTDMARedundante.c **** 	msgReqConnection.srcEndpoint = APP_DATA_ENDPOINT;
 1589               		.loc 4 258 0
 1590 07b6 81E0      		ldi r24,lo8(1)
 1591 07b8 8093 0000 		sts msgReqConnection+8,r24
 259:ServerTDMARedundante.c **** 	msgReqConnection.options	= NWK_OPT_LINK_LOCAL;
 1592               		.loc 4 259 0
 1593 07bc 88E0      		ldi r24,lo8(8)
 1594 07be 8093 0000 		sts msgReqConnection+9,r24
 260:ServerTDMARedundante.c **** 	msgReqConnection.data		= (uint8_t *)&msgFrameConnection;
 1595               		.loc 4 260 0
 1596 07c2 80E0      		ldi r24,lo8(msgFrameConnection)
 1597 07c4 90E0      		ldi r25,hi8(msgFrameConnection)
 1598 07c6 9093 0000 		sts msgReqConnection+12+1,r25
 1599 07ca 8093 0000 		sts msgReqConnection+12,r24
 261:ServerTDMARedundante.c **** 	msgReqConnection.size		= sizeof(MsgState_t);
 1600               		.loc 4 261 0
 1601 07ce 81E0      		ldi r24,lo8(1)
 1602 07d0 8093 0000 		sts msgReqConnection+14,r24
 262:ServerTDMARedundante.c **** 	msgReqConnection.confirm	= NULL;
 1603               		.loc 4 262 0
 1604 07d4 1092 0000 		sts msgReqConnection+15+1,__zero_reg__
 1605 07d8 1092 0000 		sts msgReqConnection+15,__zero_reg__
 263:ServerTDMARedundante.c **** 
 264:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
 265:ServerTDMARedundante.c **** 	server_turn					= 1;
 1606               		.loc 4 265 0
 1607 07dc 81E0      		ldi r24,lo8(1)
 1608 07de 90E0      		ldi r25,0
 1609 07e0 9093 0000 		sts server_turn+1,r25
 1610 07e4 8093 0000 		sts server_turn,r24
 266:ServerTDMARedundante.c **** 
 267:ServerTDMARedundante.c **** 	NWK_OpenEndpoint(APP_DATA_ENDPOINT, appDataInd);
 1611               		.loc 4 267 0
 1612 07e8 60E0      		ldi r22,lo8(gs(appDataInd))
 1613 07ea 70E0      		ldi r23,hi8(gs(appDataInd))
 1614 07ec 81E0      		ldi r24,lo8(1)
 1615 07ee 0E94 0000 		call NWK_OpenEndpoint
 268:ServerTDMARedundante.c **** 
 269:ServerTDMARedundante.c **** 	msgFrame.frameType			= MSG_STATE_BEACON;
 1616               		.loc 4 269 0
 1617 07f2 1092 0000 		sts msgFrame,__zero_reg__
 270:ServerTDMARedundante.c **** 
 271:ServerTDMARedundante.c **** 	msgReq.dstAddr				= BROADCAST;
 1618               		.loc 4 271 0
 1619 07f6 8FEF      		ldi r24,lo8(-1)
 1620 07f8 9FEF      		ldi r25,lo8(-1)
 1621 07fa 9093 0000 		sts msgReq+5+1,r25
 1622 07fe 8093 0000 		sts msgReq+5,r24
 272:ServerTDMARedundante.c **** 	msgReq.dstEndpoint			= APP_BEACON_ENDPOINT;
 1623               		.loc 4 272 0
 1624 0802 1092 0000 		sts msgReq+7,__zero_reg__
 273:ServerTDMARedundante.c **** 	msgReq.srcEndpoint			= APP_BEACON_ENDPOINT;
 1625               		.loc 4 273 0
 1626 0806 1092 0000 		sts msgReq+8,__zero_reg__
 274:ServerTDMARedundante.c **** 	msgReq.options				= NWK_OPT_BEACON;
 1627               		.loc 4 274 0
 1628 080a 80E2      		ldi r24,lo8(32)
 1629 080c 8093 0000 		sts msgReq+9,r24
 275:ServerTDMARedundante.c **** 	msgReq.data					= (uint8_t *)&msgFrame;
 1630               		.loc 4 275 0
 1631 0810 80E0      		ldi r24,lo8(msgFrame)
 1632 0812 90E0      		ldi r25,hi8(msgFrame)
 1633 0814 9093 0000 		sts msgReq+12+1,r25
 1634 0818 8093 0000 		sts msgReq+12,r24
 276:ServerTDMARedundante.c **** 	msgReq.size					= sizeof(MsgState_t) + sizeof(AppMessageBeacon_t);
 1635               		.loc 4 276 0
 1636 081c 81E2      		ldi r24,lo8(33)
 1637 081e 8093 0000 		sts msgReq+14,r24
 277:ServerTDMARedundante.c **** 	msgReq.confirm				= NULL;
 1638               		.loc 4 277 0
 1639 0822 1092 0000 		sts msgReq+15+1,__zero_reg__
 1640 0826 1092 0000 		sts msgReq+15,__zero_reg__
 278:ServerTDMARedundante.c **** 
 279:ServerTDMARedundante.c **** #if (MASTER_MACSC == 1)
 280:ServerTDMARedundante.c **** 	/*
 281:ServerTDMARedundante.c **** 	 * Configure interrupts callback functions
 282:ServerTDMARedundante.c **** 	 * overflow interrupt, compare 1,2,3 interrupts
 283:ServerTDMARedundante.c **** 	 */
 284:ServerTDMARedundante.c **** 	macsc_set_cmp1_int_cb(tdma_server_beacon);
 1641               		.loc 4 284 0
 1642 082a 80E0      		ldi r24,lo8(gs(tdma_server_beacon))
 1643 082c 90E0      		ldi r25,hi8(gs(tdma_server_beacon))
 1644 082e 0E94 0000 		call macsc_set_cmp1_int_cb
 285:ServerTDMARedundante.c **** 	macsc_set_cmp2_int_cb(tdma_server_statistics);
 1645               		.loc 4 285 0
 1646 0832 80E0      		ldi r24,lo8(gs(tdma_server_statistics))
 1647 0834 90E0      		ldi r25,hi8(gs(tdma_server_statistics))
 1648 0836 0E94 0000 		call macsc_set_cmp2_int_cb
 286:ServerTDMARedundante.c **** 
 287:ServerTDMARedundante.c **** 	/*
 288:ServerTDMARedundante.c **** 	 * Configure MACSC to generate compare interrupts from channels 1,2,3
 289:ServerTDMARedundante.c **** 	 * Set compare mode to absolute, set compare value.
 290:ServerTDMARedundante.c **** 	 */
 291:ServerTDMARedundante.c **** 	macsc_enable_manual_bts();
 1649               		.loc 4 291 0
 1650 083a 0E94 0000 		call macsc_enable_manual_bts
 292:ServerTDMARedundante.c **** 	macsc_enable_cmp_int(MACSC_CC1);
 1651               		.loc 4 292 0
 1652 083e 81E0      		ldi r24,lo8(1)
 1653 0840 0E94 0000 		call macsc_enable_cmp_int
 293:ServerTDMARedundante.c **** 	macsc_use_cmp(MACSC_RELATIVE_CMP, BEACON_INTERVAL_BI, MACSC_CC1);
 1654               		.loc 4 293 0
 1655 0844 21E0      		ldi r18,lo8(1)
 1656 0846 40E0      		ldi r20,0
 1657 0848 50EC      		ldi r21,lo8(-64)
 1658 084a 63E0      		ldi r22,lo8(3)
 1659 084c 70E0      		ldi r23,0
 1660 084e 81E0      		ldi r24,lo8(1)
 1661 0850 0E94 0000 		call macsc_use_cmp
 294:ServerTDMARedundante.c **** 	macsc_enable_cmp_int(MACSC_CC2);
 1662               		.loc 4 294 0
 1663 0854 82E0      		ldi r24,lo8(2)
 1664 0856 0E94 0000 		call macsc_enable_cmp_int
 295:ServerTDMARedundante.c **** 	macsc_use_cmp(MACSC_RELATIVE_CMP, (SUPERFRAME_DURATION_SD * 3), MACSC_CC2);
 1665               		.loc 4 295 0
 1666 085a 22E0      		ldi r18,lo8(2)
 1667 085c 40E8      		ldi r20,lo8(-128)
 1668 085e 52E3      		ldi r21,lo8(50)
 1669 0860 62E0      		ldi r22,lo8(2)
 1670 0862 70E0      		ldi r23,0
 1671 0864 81E0      		ldi r24,lo8(1)
 1672 0866 0E94 0000 		call macsc_use_cmp
 296:ServerTDMARedundante.c **** #else
 297:ServerTDMARedundante.c **** 	tmrBeaconInterval.interval	= (BEACON_INTERVAL_BI * SYMBOL_TIME) * 1000;
 298:ServerTDMARedundante.c **** 	tmrBeaconInterval.mode		= SYS_TIMER_PERIODIC_MODE;
 299:ServerTDMARedundante.c **** 	tmrBeaconInterval.handler	= tmr_tdma_server_beacon;
 300:ServerTDMARedundante.c **** 
 301:ServerTDMARedundante.c **** 	tmrComputeData.interval		= ((SUPERFRAME_DURATION_SD * 3) * SYMBOL_TIME) * 1000;
 302:ServerTDMARedundante.c **** 	tmrComputeData.mode			= SYS_TIMER_INTERVAL_MODE;
 303:ServerTDMARedundante.c **** 	tmrComputeData.handler		= tmr_tdma_server_statistics;
 304:ServerTDMARedundante.c **** 	
 305:ServerTDMARedundante.c **** 	SYS_TimerStart(&tmrBeaconInterval);
 306:ServerTDMARedundante.c **** #endif
 307:ServerTDMARedundante.c **** #else
 308:ServerTDMARedundante.c **** 	connected					= false;
 309:ServerTDMARedundante.c **** 
 310:ServerTDMARedundante.c **** 	NWK_OpenEndpoint(APP_BEACON_ENDPOINT, appBeaconInd);
 311:ServerTDMARedundante.c **** 	NWK_OpenEndpoint(APP_DATA_ENDPOINT, appDataInd);
 312:ServerTDMARedundante.c **** 
 313:ServerTDMARedundante.c **** 	msgFrame.frameType			= MSG_STATE_DATA;
 314:ServerTDMARedundante.c **** 
 315:ServerTDMARedundante.c **** 	msgReq.dstAddr				= BROADCAST;
 316:ServerTDMARedundante.c **** 	msgReq.dstEndpoint			= APP_DATA_ENDPOINT;
 317:ServerTDMARedundante.c **** 	msgReq.srcEndpoint			= APP_DATA_ENDPOINT;
 318:ServerTDMARedundante.c **** 	msgReq.options				= NWK_OPT_LINK_LOCAL;
 319:ServerTDMARedundante.c **** 	msgReq.data					= (uint8_t *)&msgFrame;
 320:ServerTDMARedundante.c **** 	msgReq.size					= sizeof(MsgState_t) + sizeof(AppMessageData_t);
 321:ServerTDMARedundante.c **** 	msgReq.confirm				= tdma_job_conf;
 322:ServerTDMARedundante.c **** 
 323:ServerTDMARedundante.c **** 	/*
 324:ServerTDMARedundante.c **** 	 * Configure interrupts callback functions
 325:ServerTDMARedundante.c **** 	 * overflow interrupt, compare 1,2,3 interrupts
 326:ServerTDMARedundante.c **** 	 */
 327:ServerTDMARedundante.c **** 	macsc_set_cmp1_int_cb(tdma_client_turn);		// Wake-up, wait beacon (synchronize)
 328:ServerTDMARedundante.c **** 	macsc_set_cmp2_int_cb(tdma_client_job);			// Do job & Sleep
 329:ServerTDMARedundante.c **** 	macsc_set_cmp3_int_cb(tdma_client_job);			// Do job & Sleep again
 330:ServerTDMARedundante.c **** 
 331:ServerTDMARedundante.c **** 	/*
 332:ServerTDMARedundante.c **** 	 * Configure MACSC to generate compare interrupts from channels 1,2,3
 333:ServerTDMARedundante.c **** 	 * Set compare mode to absolute,set compare value.
 334:ServerTDMARedundante.c **** 	 */
 335:ServerTDMARedundante.c **** 	macsc_enable_auto_ts();
 336:ServerTDMARedundante.c **** 	macsc_enable_cmp_int(MACSC_CC1);
 337:ServerTDMARedundante.c **** 	macsc_use_cmp(MACSC_RELATIVE_CMP, BEACON_INTERVAL_BI - TDMA_FIRST_SLOT, MACSC_CC1);
 338:ServerTDMARedundante.c **** 	
 339:ServerTDMARedundante.c **** 	macsc_enable_cmp_int(MACSC_CC2);
 340:ServerTDMARedundante.c **** 	macsc_use_cmp(MACSC_RELATIVE_CMP, (TDMA_FIRST_SLOT * APP_ADDR), MACSC_CC2);
 341:ServerTDMARedundante.c **** 
 342:ServerTDMARedundante.c **** 	macsc_enable_cmp_int(MACSC_CC3);
 343:ServerTDMARedundante.c **** 	macsc_use_cmp(MACSC_RELATIVE_CMP, (SUPERFRAME_DURATION_SD * 2) + (TDMA_FIRST_SLOT * APP_ADDR), MAC
 344:ServerTDMARedundante.c **** #endif
 345:ServerTDMARedundante.c **** }
 1673               		.loc 4 345 0
 1674 086a 0000      		nop
 1675               	/* epilogue start */
 1676 086c 2996      		adiw r28,9
 1677 086e 0FB6      		in __tmp_reg__,__SREG__
 1678 0870 F894      		cli
 1679 0872 DEBF      		out __SP_H__,r29
 1680 0874 0FBE      		out __SREG__,__tmp_reg__
 1681 0876 CDBF      		out __SP_L__,r28
 1682 0878 DF91      		pop r29
 1683 087a CF91      		pop r28
 1684 087c 0895      		ret
 1685               		.cfi_endproc
 1686               	.LFE137:
 1689               	APP_TaskHandler:
 1690               	.LFB138:
 346:ServerTDMARedundante.c **** /*************************************************************************//**
 347:ServerTDMARedundante.c **** *****************************************************************************/
 348:ServerTDMARedundante.c **** static void APP_TaskHandler(void)
 349:ServerTDMARedundante.c **** {
 1691               		.loc 4 349 0
 1692               		.cfi_startproc
 1693 087e CF93      		push r28
 1694               	.LCFI49:
 1695               		.cfi_def_cfa_offset 3
 1696               		.cfi_offset 28, -2
 1697 0880 DF93      		push r29
 1698               	.LCFI50:
 1699               		.cfi_def_cfa_offset 4
 1700               		.cfi_offset 29, -3
 1701 0882 CDB7      		in r28,__SP_L__
 1702 0884 DEB7      		in r29,__SP_H__
 1703               	.LCFI51:
 1704               		.cfi_def_cfa_register 28
 1705               	/* prologue: function */
 1706               	/* frame size = 0 */
 1707               	/* stack size = 2 */
 1708               	.L__stack_usage = 2
 350:ServerTDMARedundante.c **** 	switch (appState)
 1709               		.loc 4 350 0
 1710 0886 8091 0000 		lds r24,appState
 1711 088a 882F      		mov r24,r24
 1712 088c 90E0      		ldi r25,0
 1713 088e 8330      		cpi r24,3
 1714 0890 9105      		cpc r25,__zero_reg__
 1715 0892 01F0      		breq .L50
 1716 0894 8F30      		cpi r24,15
 1717 0896 9105      		cpc r25,__zero_reg__
 1718 0898 01F0      		breq .L51
 1719 089a 892B      		or r24,r25
 1720 089c 01F0      		breq .L52
 351:ServerTDMARedundante.c **** 	{
 352:ServerTDMARedundante.c **** #if (APP_COORDINATOR)
 353:ServerTDMARedundante.c **** 		case APP_STATE_SERVER_STATISTICS:
 354:ServerTDMARedundante.c **** 		{
 355:ServerTDMARedundante.c **** 			server_statistics();
 356:ServerTDMARedundante.c **** 			break;
 357:ServerTDMARedundante.c **** 		}
 358:ServerTDMARedundante.c **** #endif
 359:ServerTDMARedundante.c **** 		case APP_STATE_SEND:
 360:ServerTDMARedundante.c **** 		{
 361:ServerTDMARedundante.c **** 			appSendData();
 362:ServerTDMARedundante.c **** 			appState			= APP_STATE_SEND_BUSY_DATA;
 363:ServerTDMARedundante.c **** 			break;
 364:ServerTDMARedundante.c **** 		}
 365:ServerTDMARedundante.c **** #if (APP_ENDDEVICE)
 366:ServerTDMARedundante.c **** 		case APP_STATE_WAKEUP_AND_SEND:
 367:ServerTDMARedundante.c **** 		{
 368:ServerTDMARedundante.c **** 			NWK_WakeupReq();
 369:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 370:ServerTDMARedundante.c **** 			LED_On(LED_NETWORK);
 371:ServerTDMARedundante.c **** #endif
 372:ServerTDMARedundante.c **** 			appState			= APP_STATE_SEND;
 373:ServerTDMARedundante.c **** 			break;
 374:ServerTDMARedundante.c **** 		}
 375:ServerTDMARedundante.c **** 		case APP_STATE_WAKEUP_AND_COLLAB:
 376:ServerTDMARedundante.c **** 		{
 377:ServerTDMARedundante.c **** 			NWK_WakeupReq();
 378:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 379:ServerTDMARedundante.c **** 			LED_On(LED_NETWORK);
 380:ServerTDMARedundante.c **** #endif
 381:ServerTDMARedundante.c **** 			appState			= APP_STATE_DO_COMPRESS;
 382:ServerTDMARedundante.c **** 			break;
 383:ServerTDMARedundante.c **** 		}
 384:ServerTDMARedundante.c **** 		case APP_STATE_WAKEUP_AND_SEND_COLLAB:
 385:ServerTDMARedundante.c **** 		{
 386:ServerTDMARedundante.c **** 			NWK_WakeupReq();
 387:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 388:ServerTDMARedundante.c **** 			LED_On(LED_NETWORK);
 389:ServerTDMARedundante.c **** #endif
 390:ServerTDMARedundante.c **** 			appState			= APP_STATE_SEND_COLLAB;
 391:ServerTDMARedundante.c **** 			break;
 392:ServerTDMARedundante.c **** 		}
 393:ServerTDMARedundante.c **** 		case APP_STATE_WAKEUP_AND_WAIT:
 394:ServerTDMARedundante.c **** 		{
 395:ServerTDMARedundante.c **** 			NWK_WakeupReq();
 396:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 397:ServerTDMARedundante.c **** 	LED_On(LED_NETWORK);
 398:ServerTDMARedundante.c **** #endif
 399:ServerTDMARedundante.c **** 			appState			= APP_STATE_IDLE;
 400:ServerTDMARedundante.c **** 			break;
 401:ServerTDMARedundante.c **** 		}
 402:ServerTDMARedundante.c **** 		case APP_STATE_SEND_PREPARE:
 403:ServerTDMARedundante.c **** 		{
 404:ServerTDMARedundante.c **** 			appSendPrepare();
 405:ServerTDMARedundante.c **** 			appState			= APP_STATE_SLEEP_PREPARE;
 406:ServerTDMARedundante.c **** 			break;
 407:ServerTDMARedundante.c **** 		}
 408:ServerTDMARedundante.c **** 		case APP_STATE_SLEEP_PREPARE:
 409:ServerTDMARedundante.c **** 		{
 410:ServerTDMARedundante.c **** 			if(!NWK_Busy())
 411:ServerTDMARedundante.c **** 			{
 412:ServerTDMARedundante.c **** 				irqflags_t flags = cpu_irq_save();
 413:ServerTDMARedundante.c **** 				NWK_SleepReq();
 414:ServerTDMARedundante.c **** 				appState		= APP_STATE_SLEEP;
 415:ServerTDMARedundante.c **** 				cpu_irq_restore(flags);
 416:ServerTDMARedundante.c **** 			}
 417:ServerTDMARedundante.c **** 			break;
 418:ServerTDMARedundante.c **** 		}
 419:ServerTDMARedundante.c **** 		case APP_STATE_SLEEP:
 420:ServerTDMARedundante.c **** 		{
 421:ServerTDMARedundante.c **** #if (LED_COUNT > 0)
 422:ServerTDMARedundante.c **** 	LED_Off(LED_NETWORK);
 423:ServerTDMARedundante.c **** 	LED_Off(LED_DATA);
 424:ServerTDMARedundante.c **** 	LED_Off(LED_BLINK);
 425:ServerTDMARedundante.c **** #endif
 426:ServerTDMARedundante.c **** 			sleep_enable();
 427:ServerTDMARedundante.c **** 			sleep_enter();
 428:ServerTDMARedundante.c **** 			sleep_disable();
 429:ServerTDMARedundante.c **** 			break;
 430:ServerTDMARedundante.c **** 		}
 431:ServerTDMARedundante.c **** #endif
 432:ServerTDMARedundante.c **** 		case APP_STATE_INITIAL:
 433:ServerTDMARedundante.c **** 		{
 434:ServerTDMARedundante.c **** 			energy_init();
 435:ServerTDMARedundante.c **** 			solver_init();
 436:ServerTDMARedundante.c **** 			appInit();
 437:ServerTDMARedundante.c **** 			appState			= APP_STATE_IDLE;
 438:ServerTDMARedundante.c **** 			break;
 439:ServerTDMARedundante.c **** 		}
 440:ServerTDMARedundante.c **** 		default:
 441:ServerTDMARedundante.c **** 		{
 442:ServerTDMARedundante.c **** 			break;
 1721               		.loc 4 442 0
 1722 089e 00C0      		rjmp .L53
 1723               	.L51:
 355:ServerTDMARedundante.c **** 			break;
 1724               		.loc 4 355 0
 1725 08a0 0E94 0000 		call server_statistics
 356:ServerTDMARedundante.c **** 		}
 1726               		.loc 4 356 0
 1727 08a4 00C0      		rjmp .L53
 1728               	.L50:
 361:ServerTDMARedundante.c **** 			appState			= APP_STATE_SEND_BUSY_DATA;
 1729               		.loc 4 361 0
 1730 08a6 0E94 0000 		call appSendData
 362:ServerTDMARedundante.c **** 			break;
 1731               		.loc 4 362 0
 1732 08aa 85E0      		ldi r24,lo8(5)
 1733 08ac 8093 0000 		sts appState,r24
 363:ServerTDMARedundante.c **** 		}
 1734               		.loc 4 363 0
 1735 08b0 00C0      		rjmp .L53
 1736               	.L52:
 434:ServerTDMARedundante.c **** 			solver_init();
 1737               		.loc 4 434 0
 1738 08b2 0E94 0000 		call energy_init
 435:ServerTDMARedundante.c **** 			appInit();
 1739               		.loc 4 435 0
 1740 08b6 0E94 0000 		call solver_init
 436:ServerTDMARedundante.c **** 			appState			= APP_STATE_IDLE;
 1741               		.loc 4 436 0
 1742 08ba 0E94 0000 		call appInit
 437:ServerTDMARedundante.c **** 			break;
 1743               		.loc 4 437 0
 1744 08be 81E0      		ldi r24,lo8(1)
 1745 08c0 8093 0000 		sts appState,r24
 438:ServerTDMARedundante.c **** 		}
 1746               		.loc 4 438 0
 1747 08c4 0000      		nop
 1748               	.L53:
 443:ServerTDMARedundante.c **** 		}
 444:ServerTDMARedundante.c **** 	}
 445:ServerTDMARedundante.c **** }
 1749               		.loc 4 445 0
 1750 08c6 0000      		nop
 1751               	/* epilogue start */
 1752 08c8 DF91      		pop r29
 1753 08ca CF91      		pop r28
 1754 08cc 0895      		ret
 1755               		.cfi_endproc
 1756               	.LFE138:
 1758               		.section	.rodata
 1759               	.LC0:
 1760 0066 00        		.byte	0
 1761 0067 C2        		.byte	-62
 1762 0068 01        		.byte	1
 1763 0069 00        		.byte	0
 1764 006a 03        		.byte	3
 1765 006b 00        		.byte	0
 1766 006c 00        		.byte	0
 1767               		.text
 1768               	.global	main
 1770               	main:
 1771               	.LFB139:
 446:ServerTDMARedundante.c **** 
 447:ServerTDMARedundante.c **** /*****************************************************************************
 448:ServerTDMARedundante.c **** *****************************************************************************/
 449:ServerTDMARedundante.c **** int main(void)
 450:ServerTDMARedundante.c **** {
 1772               		.loc 4 450 0
 1773               		.cfi_startproc
 1774 08ce CF93      		push r28
 1775               	.LCFI52:
 1776               		.cfi_def_cfa_offset 3
 1777               		.cfi_offset 28, -2
 1778 08d0 DF93      		push r29
 1779               	.LCFI53:
 1780               		.cfi_def_cfa_offset 4
 1781               		.cfi_offset 29, -3
 1782 08d2 CDB7      		in r28,__SP_L__
 1783 08d4 DEB7      		in r29,__SP_H__
 1784               	.LCFI54:
 1785               		.cfi_def_cfa_register 28
 1786 08d6 2797      		sbiw r28,7
 1787               	.LCFI55:
 1788               		.cfi_def_cfa_offset 11
 1789 08d8 0FB6      		in __tmp_reg__,__SREG__
 1790 08da F894      		cli
 1791 08dc DEBF      		out __SP_H__,r29
 1792 08de 0FBE      		out __SREG__,__tmp_reg__
 1793 08e0 CDBF      		out __SP_L__,r28
 1794               	/* prologue: function */
 1795               	/* frame size = 7 */
 1796               	/* stack size = 9 */
 1797               	.L__stack_usage = 9
 451:ServerTDMARedundante.c **** 	sysclk_init();
 1798               		.loc 4 451 0
 1799 08e2 0E94 0000 		call sysclk_init
 452:ServerTDMARedundante.c **** 	board_init();
 1800               		.loc 4 452 0
 1801 08e6 0E94 0000 		call board_init
 453:ServerTDMARedundante.c **** 
 454:ServerTDMARedundante.c **** 	SYS_Init();
 1802               		.loc 4 454 0
 1803 08ea 0E94 0000 		call SYS_Init
 455:ServerTDMARedundante.c **** 	// Disable CSMA/CA
 456:ServerTDMARedundante.c **** 	// Disable auto ACK
 457:ServerTDMARedundante.c **** 	PHY_SetTdmaMode(true);
 1804               		.loc 4 457 0
 1805 08ee 81E0      		ldi r24,lo8(1)
 1806 08f0 0E94 0000 		call PHY_SetTdmaMode
 458:ServerTDMARedundante.c **** 	sm_init();
 1807               		.loc 4 458 0
 1808 08f4 0E94 0000 		call sm_init
 459:ServerTDMARedundante.c **** 
 460:ServerTDMARedundante.c **** 	// Initialize interrupt vector table support.
 461:ServerTDMARedundante.c **** #if 0
 462:ServerTDMARedundante.c **** 	irq_initialize_vectors();
 463:ServerTDMARedundante.c **** #endif
 464:ServerTDMARedundante.c **** 	cpu_irq_enable();
 1809               		.loc 4 464 0
 1810               	/* #APP */
 1811               	 ;  464 "ServerTDMARedundante.c" 1
 1812 08f8 7894      		sei
 1813               	 ;  0 "" 2
 465:ServerTDMARedundante.c **** 
 466:ServerTDMARedundante.c **** #if APP_COORDINATOR
 467:ServerTDMARedundante.c **** #if 0
 468:ServerTDMARedundante.c **** 	stdio_usb_init();
 469:ServerTDMARedundante.c **** #else
 470:ServerTDMARedundante.c **** 	const usart_serial_options_t usart_serial_options =
 1814               		.loc 4 470 0
 1815               	/* #NOAPP */
 1816 08fa 27E0      		ldi r18,lo8(7)
 1817 08fc E0E0      		ldi r30,lo8(.LC0)
 1818 08fe F0E0      		ldi r31,hi8(.LC0)
 1819 0900 CE01      		movw r24,r28
 1820 0902 0196      		adiw r24,1
 1821 0904 DC01      		movw r26,r24
 1822               		0:
 1823 0906 0190      		ld r0,Z+
 1824 0908 0D92      		st X+,r0
 1825 090a 2A95      		dec r18
 1826 090c 01F4      		brne 0b
 471:ServerTDMARedundante.c **** 	{
 472:ServerTDMARedundante.c **** 		.baudrate     = USART_HOST_BAUDRATE,
 473:ServerTDMARedundante.c **** 		.charlength   = USART_HOST_CHAR_LENGTH,
 474:ServerTDMARedundante.c **** 		.paritytype   = USART_HOST_PARITY,
 475:ServerTDMARedundante.c **** 		.stopbits     = USART_HOST_STOP_BITS
 476:ServerTDMARedundante.c **** 	};
 477:ServerTDMARedundante.c **** 
 478:ServerTDMARedundante.c **** 	stdio_serial_init(USART_HOST, &usart_serial_options);
 1827               		.loc 4 478 0
 1828 090e CE01      		movw r24,r28
 1829 0910 0196      		adiw r24,1
 1830 0912 BC01      		movw r22,r24
 1831 0914 80EC      		ldi r24,lo8(-64)
 1832 0916 90E0      		ldi r25,0
 1833 0918 0E94 0000 		call stdio_serial_init
 1834               	.L55:
 479:ServerTDMARedundante.c **** #endif
 480:ServerTDMARedundante.c **** #endif
 481:ServerTDMARedundante.c **** 	for(;;)
 482:ServerTDMARedundante.c **** 	{
 483:ServerTDMARedundante.c **** 		SYS_TaskHandler();
 1835               		.loc 4 483 0 discriminator 1
 1836 091c 0E94 0000 		call SYS_TaskHandler
 484:ServerTDMARedundante.c **** 		APP_TaskHandler();
 1837               		.loc 4 484 0 discriminator 1
 1838 0920 0E94 0000 		call APP_TaskHandler
 485:ServerTDMARedundante.c **** 	}
 1839               		.loc 4 485 0 discriminator 1
 1840 0924 00C0      		rjmp .L55
 1841               		.cfi_endproc
 1842               	.LFE139:
 1844               	.Letext0:
 1845               		.file 6 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\avr8\\avr8-gnu-toolchain\\avr\\in
 1846               		.file 7 "../../../stack/LwMesh/TDMA/nwk/inc/nwkRx.h"
 1847               		.file 8 "../../../stack/LwMesh/TDMA/nwk/inc/nwkDataReq.h"
 1848               		.file 9 "../../../stack/LwMesh/TDMA/sys/inc/sysTimer.h"
 1849               		.file 10 "../../../platform/mega_rf/drivers/sleep/sleep.h"
 1850               		.file 11 "Solver.h"
 1851               		.file 12 "../../../platform/mega_rf/utils/status_codes.h"
 1852               		.file 13 "../../../platform/mega_rf/drivers/usart/usart_megarf.h"
 1853               		.file 14 "../../../platform/common/services/sleepmgr/mega_rf/sleepmgr.h"
DEFINED SYMBOLS
                            *ABS*:00000000 ServerTDMARedundante.c
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:2      *ABS*:0000003e __SP_H__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:3      *ABS*:0000003d __SP_L__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:4      *ABS*:0000003f __SREG__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:5      *ABS*:0000003b __RAMPZ__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:6      *ABS*:00000000 __tmp_reg__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:7      *ABS*:00000001 __zero_reg__
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:14     .progmem.data.baudctrl_1mhz:00000000 baudctrl_1mhz
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:26     .progmem.data.baudctrl_8mhz:00000000 baudctrl_8mhz
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:38     .progmem.data.baudctrl_16mhz:00000000 baudctrl_16mhz
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:49     .text:00000000 usart_serial_init
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:144    .text:0000007c usart_serial_putchar
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:188    .text:000000a4 usart_serial_getchar
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:239    .text:000000da stdio_serial_init
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:310    .text:0000013c macsc_enable_manual_bts
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:363    .bss.appState:00000000 appState
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:368    .bss.tmrBlinkData:00000000 tmrBlinkData
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:373    .bss.msgReq:00000000 msgReq
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:378    .bss.msgFrame:00000000 msgFrame
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:383    .bss.msgReqConnection:00000000 msgReqConnection
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:388    .bss.msgFrameConnection:00000000 msgFrameConnection
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:393    .data.server_turn:00000000 server_turn
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:398    .bss.statistics_buffer:00000000 statistics_buffer
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:403    .bss.aux_buffer:00000000 aux_buffer
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:407    .text:00000170 tmrBlinkDataHandler
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:585    .text:0000023c toHexBuffer
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:714    .text:000002fc tdma_server_beacon
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:749    .text:00000316 tdma_server_statistics
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:792    .text:0000032c server_statistics
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:980    .text:00000436 appSendData
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:1248   .text:000005dc appDataInd
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:1401   .text:000006a0 appInit
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:1689   .text:0000087e APP_TaskHandler
C:\Users\guilh\AppData\Local\Temp\cclZ2NbJ.s:1770   .text:000008ce main

UNDEFINED SYMBOLS
usart_init_rs232
usart_putchar
usart_getchar
stdio_base
ptr_put
ptr_get
_read
_write
fdevopen
sprintf
solver_solve_system
solver_get_n_received
solver_get_n_colaborative
printf
solver_get_data
SYS_TimerStart
energy_prepare_next_turn
solver_prepare_next_turn
energy_get_collab_vector
energy_get_connected_vector
NWK_DataReq
energy_receive_statistics
solver_received_data_frame
NWK_SetAddr
NWK_SetPanId
PHY_SetChannel
PHY_SetRxState
PHY_RandomReq
srand
NWK_OpenEndpoint
macsc_set_cmp1_int_cb
macsc_set_cmp2_int_cb
macsc_enable_cmp_int
macsc_use_cmp
energy_init
solver_init
sysclk_init
board_init
SYS_Init
PHY_SetTdmaMode
sm_init
SYS_TaskHandler
__do_copy_data
__do_clear_bss
