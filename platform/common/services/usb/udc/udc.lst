   1              	 .cpu cortex-m4
   2              	 .eabi_attribute 20,1
   3              	 .eabi_attribute 21,1
   4              	 .eabi_attribute 23,3
   5              	 .eabi_attribute 24,1
   6              	 .eabi_attribute 25,1
   7              	 .eabi_attribute 26,1
   8              	 .eabi_attribute 30,6
   9              	 .eabi_attribute 34,1
  10              	 .eabi_attribute 18,4
  11              	 .file "udc.c"
  12              	 .text
  13              	.Ltext0:
  14              	 .cfi_sections .debug_frame
  15              	 .section .bss.cpu_irq_critical_section_counter,"aw",%nobits
  16              	 .align 2
  19              	cpu_irq_critical_section_counter:
  20 0000 00000000 	 .space 4
  21              	 .section .bss.cpu_irq_prev_interrupt_state,"aw",%nobits
  24              	cpu_irq_prev_interrupt_state:
  25 0000 00       	 .space 1
  26              	 .comm n,1,1
  27              	 .section .bss.tTS,"aw",%nobits
  28              	 .align 2
  31              	tTS:
  32 0000 00000000 	 .space 4
  33              	 .section .bss.udc_device_status,"aw",%nobits
  34              	 .align 1
  37              	udc_device_status:
  38 0000 0000     	 .space 2
  39              	 .section .bss.udc_num_configuration,"aw",%nobits
  42              	udc_num_configuration:
  43 0000 00       	 .space 1
  44              	 .section .bss.udc_ptr_conf,"aw",%nobits
  45              	 .align 2
  48              	udc_ptr_conf:
  49 0000 00000000 	 .space 4
  50              	 .section .bss.udc_ptr_iface,"aw",%nobits
  51              	 .align 2
  54              	udc_ptr_iface:
  55 0000 00000000 	 .space 4
  56              	 .section .data.udc_string_desc_languageid,"aw",%progbits
  57              	 .align 2
  60              	udc_string_desc_languageid:
  61 0000 04       	 .byte 4
  62 0001 03       	 .byte 3
  63 0002 0904     	 .short 1033
  64              	 .section .data.udc_string_manufacturer_name,"aw",%progbits
  65              	 .align 2
  68              	udc_string_manufacturer_name:
  69 0000 41544D45 	 .ascii "ATMEL\000"
  69      4C00
  70              	 .section .data.udc_string_product_name,"aw",%progbits
  71              	 .align 2
  74              	udc_string_product_name:
  75 0000 574D2053 	 .ascii "WM Series (Wireless Module CDC Driver)\000"
  75      65726965 
  75      73202857 
  75      6972656C 
  75      65737320 
  76              	 .section .data.udc_string_desc,"aw",%progbits
  77              	 .align 2
  80              	udc_string_desc:
  81 0000 00       	 .space 1
  82 0001 03       	 .byte 3
  83 0002 00000000 	 .space 76
  83      00000000 
  83      00000000 
  83      00000000 
  83      00000000 
  84              	 .text
  85              	 .align 1
  86              	 .global udc_get_interface_desc
  87              	 .syntax unified
  88              	 .thumb
  89              	 .thumb_func
  90              	 .fpu softvfp
  92              	udc_get_interface_desc:
  93              	.LFB126:
  94              	 .file 1 "../../../platform/common/services/usb/udc/udc.c"
   1:../../../platform/common/services/usb/udc/udc.c **** /**
   2:../../../platform/common/services/usb/udc/udc.c ****  * \file
   3:../../../platform/common/services/usb/udc/udc.c ****  *
   4:../../../platform/common/services/usb/udc/udc.c ****  * \brief USB Device Controller (UDC)
   5:../../../platform/common/services/usb/udc/udc.c ****  *
   6:../../../platform/common/services/usb/udc/udc.c ****  * Copyright (c) 2009 - 2013 Atmel Corporation. All rights reserved.
   7:../../../platform/common/services/usb/udc/udc.c ****  *
   8:../../../platform/common/services/usb/udc/udc.c ****  * \asf_license_start
   9:../../../platform/common/services/usb/udc/udc.c ****  *
  10:../../../platform/common/services/usb/udc/udc.c ****  * \page License
  11:../../../platform/common/services/usb/udc/udc.c ****  *
  12:../../../platform/common/services/usb/udc/udc.c ****  * Redistribution and use in source and binary forms, with or without
  13:../../../platform/common/services/usb/udc/udc.c ****  * modification, are permitted provided that the following conditions are met:
  14:../../../platform/common/services/usb/udc/udc.c ****  *
  15:../../../platform/common/services/usb/udc/udc.c ****  * 1. Redistributions of source code must retain the above copyright notice,
  16:../../../platform/common/services/usb/udc/udc.c ****  *    this list of conditions and the following disclaimer.
  17:../../../platform/common/services/usb/udc/udc.c ****  *
  18:../../../platform/common/services/usb/udc/udc.c ****  * 2. Redistributions in binary form must reproduce the above copyright notice,
  19:../../../platform/common/services/usb/udc/udc.c ****  *    this list of conditions and the following disclaimer in the documentation
  20:../../../platform/common/services/usb/udc/udc.c ****  *    and/or other materials provided with the distribution.
  21:../../../platform/common/services/usb/udc/udc.c ****  *
  22:../../../platform/common/services/usb/udc/udc.c ****  * 3. The name of Atmel may not be used to endorse or promote products derived
  23:../../../platform/common/services/usb/udc/udc.c ****  *    from this software without specific prior written permission.
  24:../../../platform/common/services/usb/udc/udc.c ****  *
  25:../../../platform/common/services/usb/udc/udc.c ****  * 4. This software may only be redistributed and used in connection with an
  26:../../../platform/common/services/usb/udc/udc.c ****  *    Atmel microcontroller product.
  27:../../../platform/common/services/usb/udc/udc.c ****  *
  28:../../../platform/common/services/usb/udc/udc.c ****  * THIS SOFTWARE IS PROVIDED BY ATMEL "AS IS" AND ANY EXPRESS OR IMPLIED
  29:../../../platform/common/services/usb/udc/udc.c ****  * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
  30:../../../platform/common/services/usb/udc/udc.c ****  * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT ARE
  31:../../../platform/common/services/usb/udc/udc.c ****  * EXPRESSLY AND SPECIFICALLY DISCLAIMED. IN NO EVENT SHALL ATMEL BE LIABLE FOR
  32:../../../platform/common/services/usb/udc/udc.c ****  * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  33:../../../platform/common/services/usb/udc/udc.c ****  * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
  34:../../../platform/common/services/usb/udc/udc.c ****  * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
  35:../../../platform/common/services/usb/udc/udc.c ****  * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,
  36:../../../platform/common/services/usb/udc/udc.c ****  * STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
  37:../../../platform/common/services/usb/udc/udc.c ****  * ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  38:../../../platform/common/services/usb/udc/udc.c ****  * POSSIBILITY OF SUCH DAMAGE.
  39:../../../platform/common/services/usb/udc/udc.c ****  *
  40:../../../platform/common/services/usb/udc/udc.c ****  * \asf_license_stop
  41:../../../platform/common/services/usb/udc/udc.c ****  *
  42:../../../platform/common/services/usb/udc/udc.c ****  */
  43:../../../platform/common/services/usb/udc/udc.c **** 
  44:../../../platform/common/services/usb/udc/udc.c **** #include "conf_usb.h"
  45:../../../platform/common/services/usb/udc/udc.c **** #include "usb_protocol.h"
  46:../../../platform/common/services/usb/udc/udc.c **** #include "udd.h"
  47:../../../platform/common/services/usb/udc/udc.c **** #include "udc_desc.h"
  48:../../../platform/common/services/usb/udc/udc.c **** #include "udi.h"
  49:../../../platform/common/services/usb/udc/udc.c **** #include "udc.h"
  50:../../../platform/common/services/usb/udc/udc.c **** 
  51:../../../platform/common/services/usb/udc/udc.c **** /**
  52:../../../platform/common/services/usb/udc/udc.c ****  * \ingroup udc_group
  53:../../../platform/common/services/usb/udc/udc.c ****  * \defgroup udc_group_interne Implementation of UDC
  54:../../../platform/common/services/usb/udc/udc.c ****  *
  55:../../../platform/common/services/usb/udc/udc.c ****  * Internal implementation
  56:../../../platform/common/services/usb/udc/udc.c ****  * @{
  57:../../../platform/common/services/usb/udc/udc.c ****  */
  58:../../../platform/common/services/usb/udc/udc.c **** 
  59:../../../platform/common/services/usb/udc/udc.c **** //! \name Internal variables to manage the USB device
  60:../../../platform/common/services/usb/udc/udc.c **** //! @{
  61:../../../platform/common/services/usb/udc/udc.c **** 
  62:../../../platform/common/services/usb/udc/udc.c **** //! Device status state (see enum usb_device_status in usb_protocol.h)
  63:../../../platform/common/services/usb/udc/udc.c **** static le16_t udc_device_status;
  64:../../../platform/common/services/usb/udc/udc.c **** 
  65:../../../platform/common/services/usb/udc/udc.c **** //! Device Configuration number selected by the USB host
  66:../../../platform/common/services/usb/udc/udc.c **** static uint8_t udc_num_configuration = 0;
  67:../../../platform/common/services/usb/udc/udc.c **** 
  68:../../../platform/common/services/usb/udc/udc.c **** //! Pointer on the selected speed device configuration
  69:../../../platform/common/services/usb/udc/udc.c **** static udc_config_speed_t UDC_DESC_STORAGE *udc_ptr_conf;
  70:../../../platform/common/services/usb/udc/udc.c **** 
  71:../../../platform/common/services/usb/udc/udc.c **** //! Pointer on interface descriptor used by SETUP request.
  72:../../../platform/common/services/usb/udc/udc.c **** static usb_iface_desc_t UDC_DESC_STORAGE *udc_ptr_iface;
  73:../../../platform/common/services/usb/udc/udc.c **** 
  74:../../../platform/common/services/usb/udc/udc.c **** //! @}
  75:../../../platform/common/services/usb/udc/udc.c **** 
  76:../../../platform/common/services/usb/udc/udc.c **** 
  77:../../../platform/common/services/usb/udc/udc.c **** //! \name Internal structure to store the USB device main strings
  78:../../../platform/common/services/usb/udc/udc.c **** //! @{
  79:../../../platform/common/services/usb/udc/udc.c **** 
  80:../../../platform/common/services/usb/udc/udc.c **** /**
  81:../../../platform/common/services/usb/udc/udc.c ****  * \brief Language ID of USB device (US ID by default)
  82:../../../platform/common/services/usb/udc/udc.c ****  */
  83:../../../platform/common/services/usb/udc/udc.c **** COMPILER_WORD_ALIGNED
  84:../../../platform/common/services/usb/udc/udc.c **** static UDC_DESC_STORAGE usb_str_lgid_desc_t udc_string_desc_languageid = {
  85:../../../platform/common/services/usb/udc/udc.c **** 	.desc.bLength = sizeof(usb_str_lgid_desc_t),
  86:../../../platform/common/services/usb/udc/udc.c **** 	.desc.bDescriptorType = USB_DT_STRING,
  87:../../../platform/common/services/usb/udc/udc.c **** 	.string = {LE16(USB_LANGID_EN_US)}
  88:../../../platform/common/services/usb/udc/udc.c **** };
  89:../../../platform/common/services/usb/udc/udc.c **** 
  90:../../../platform/common/services/usb/udc/udc.c **** /**
  91:../../../platform/common/services/usb/udc/udc.c ****  * \brief USB device manufacture name storage
  92:../../../platform/common/services/usb/udc/udc.c ****  * String is allocated only if USB_DEVICE_MANUFACTURE_NAME is declared
  93:../../../platform/common/services/usb/udc/udc.c ****  * by usb application configuration
  94:../../../platform/common/services/usb/udc/udc.c ****  */
  95:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_MANUFACTURE_NAME
  96:../../../platform/common/services/usb/udc/udc.c **** static uint8_t udc_string_manufacturer_name[] = USB_DEVICE_MANUFACTURE_NAME;
  97:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_MANUFACTURE_NAME_SIZE  \
  98:../../../platform/common/services/usb/udc/udc.c **** 	(sizeof(udc_string_manufacturer_name)-1)
  99:../../../platform/common/services/usb/udc/udc.c **** #else
 100:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_MANUFACTURE_NAME_SIZE  0
 101:../../../platform/common/services/usb/udc/udc.c **** #endif
 102:../../../platform/common/services/usb/udc/udc.c **** 
 103:../../../platform/common/services/usb/udc/udc.c **** /**
 104:../../../platform/common/services/usb/udc/udc.c ****  * \brief USB device product name storage
 105:../../../platform/common/services/usb/udc/udc.c ****  * String is allocated only if USB_DEVICE_PRODUCT_NAME is declared
 106:../../../platform/common/services/usb/udc/udc.c ****  * by usb application configuration
 107:../../../platform/common/services/usb/udc/udc.c ****  */
 108:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_PRODUCT_NAME
 109:../../../platform/common/services/usb/udc/udc.c **** static uint8_t udc_string_product_name[] = USB_DEVICE_PRODUCT_NAME;
 110:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_PRODUCT_NAME_SIZE  (sizeof(udc_string_product_name)-1)
 111:../../../platform/common/services/usb/udc/udc.c **** #else
 112:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_PRODUCT_NAME_SIZE  0
 113:../../../platform/common/services/usb/udc/udc.c **** #endif
 114:../../../platform/common/services/usb/udc/udc.c **** 
 115:../../../platform/common/services/usb/udc/udc.c **** /**
 116:../../../platform/common/services/usb/udc/udc.c ****  * \brief Get USB device serial number
 117:../../../platform/common/services/usb/udc/udc.c ****  *
 118:../../../platform/common/services/usb/udc/udc.c ****  * Use the define USB_DEVICE_SERIAL_NAME to set static serial number.
 119:../../../platform/common/services/usb/udc/udc.c ****  *
 120:../../../platform/common/services/usb/udc/udc.c ****  * For dynamic serial number set the define USB_DEVICE_GET_SERIAL_NAME_POINTER
 121:../../../platform/common/services/usb/udc/udc.c ****  * to a suitable pointer. This will also require the serial number length
 122:../../../platform/common/services/usb/udc/udc.c ****  * define USB_DEVICE_GET_SERIAL_NAME_LENGTH.
 123:../../../platform/common/services/usb/udc/udc.c ****  */
 124:../../../platform/common/services/usb/udc/udc.c **** #if defined USB_DEVICE_GET_SERIAL_NAME_POINTER
 125:../../../platform/common/services/usb/udc/udc.c **** 	static const uint8_t *udc_get_string_serial_name(void)
 126:../../../platform/common/services/usb/udc/udc.c **** 	{
 127:../../../platform/common/services/usb/udc/udc.c **** 		return (const uint8_t *)USB_DEVICE_GET_SERIAL_NAME_POINTER;
 128:../../../platform/common/services/usb/udc/udc.c **** 	}
 129:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE \
 130:../../../platform/common/services/usb/udc/udc.c **** 	USB_DEVICE_GET_SERIAL_NAME_LENGTH
 131:../../../platform/common/services/usb/udc/udc.c **** #elif defined USB_DEVICE_SERIAL_NAME
 132:../../../platform/common/services/usb/udc/udc.c **** 	static const uint8_t *udc_get_string_serial_name(void)
 133:../../../platform/common/services/usb/udc/udc.c **** 	{
 134:../../../platform/common/services/usb/udc/udc.c **** 		return (const uint8_t *)USB_DEVICE_SERIAL_NAME;
 135:../../../platform/common/services/usb/udc/udc.c **** 	}
 136:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE \
 137:../../../platform/common/services/usb/udc/udc.c **** 	(sizeof(USB_DEVICE_SERIAL_NAME)-1)
 138:../../../platform/common/services/usb/udc/udc.c **** #else
 139:../../../platform/common/services/usb/udc/udc.c **** #  define USB_DEVICE_SERIAL_NAME_SIZE  0
 140:../../../platform/common/services/usb/udc/udc.c **** #endif
 141:../../../platform/common/services/usb/udc/udc.c **** 
 142:../../../platform/common/services/usb/udc/udc.c **** /**
 143:../../../platform/common/services/usb/udc/udc.c ****  * \brief USB device string descriptor
 144:../../../platform/common/services/usb/udc/udc.c ****  * Structure used to transfer ASCII strings to USB String descriptor structure.
 145:../../../platform/common/services/usb/udc/udc.c ****  */
 146:../../../platform/common/services/usb/udc/udc.c **** struct udc_string_desc_t {
 147:../../../platform/common/services/usb/udc/udc.c **** 	usb_str_desc_t header;
 148:../../../platform/common/services/usb/udc/udc.c **** 	le16_t string[Max(Max(USB_DEVICE_MANUFACTURE_NAME_SIZE, \
 149:../../../platform/common/services/usb/udc/udc.c **** 			USB_DEVICE_PRODUCT_NAME_SIZE), USB_DEVICE_SERIAL_NAME_SIZE)];
 150:../../../platform/common/services/usb/udc/udc.c **** };
 151:../../../platform/common/services/usb/udc/udc.c **** COMPILER_WORD_ALIGNED
 152:../../../platform/common/services/usb/udc/udc.c **** static UDC_DESC_STORAGE struct udc_string_desc_t udc_string_desc = {
 153:../../../platform/common/services/usb/udc/udc.c **** 	.header.bDescriptorType = USB_DT_STRING
 154:../../../platform/common/services/usb/udc/udc.c **** };
 155:../../../platform/common/services/usb/udc/udc.c **** //! @}
 156:../../../platform/common/services/usb/udc/udc.c **** 
 157:../../../platform/common/services/usb/udc/udc.c **** usb_iface_desc_t UDC_DESC_STORAGE *udc_get_interface_desc(void)
 158:../../../platform/common/services/usb/udc/udc.c **** {
  95              	 .loc 1 158 0
  96              	 .cfi_startproc
  97              	 
  98              	 
  99              	 
 100 0000 80B4     	 push {r7}
 101              	.LCFI0:
 102              	 .cfi_def_cfa_offset 4
 103              	 .cfi_offset 7,-4
 104 0002 00AF     	 add r7,sp,#0
 105              	.LCFI1:
 106              	 .cfi_def_cfa_register 7
 159:../../../platform/common/services/usb/udc/udc.c **** 	return udc_ptr_iface;
 107              	 .loc 1 159 0
 108 0004 024B     	 ldr r3,.L3
 109 0006 1B68     	 ldr r3,[r3]
 160:../../../platform/common/services/usb/udc/udc.c **** }
 110              	 .loc 1 160 0
 111 0008 1846     	 mov r0,r3
 112 000a BD46     	 mov sp,r7
 113              	.LCFI2:
 114              	 .cfi_def_cfa_register 13
 115              	 
 116 000c 80BC     	 pop {r7}
 117              	.LCFI3:
 118              	 .cfi_restore 7
 119              	 .cfi_def_cfa_offset 0
 120 000e 7047     	 bx lr
 121              	.L4:
 122              	 .align 2
 123              	.L3:
 124 0010 00000000 	 .word udc_ptr_iface
 125              	 .cfi_endproc
 126              	.LFE126:
 128              	 .align 1
 129              	 .syntax unified
 130              	 .thumb
 131              	 .thumb_func
 132              	 .fpu softvfp
 134              	udc_get_eof_conf:
 135              	.LFB127:
 161:../../../platform/common/services/usb/udc/udc.c **** 
 162:../../../platform/common/services/usb/udc/udc.c **** /**
 163:../../../platform/common/services/usb/udc/udc.c ****  * \brief Returns a value to check the end of USB Configuration descriptor
 164:../../../platform/common/services/usb/udc/udc.c ****  *
 165:../../../platform/common/services/usb/udc/udc.c ****  * \return address after the last byte of USB Configuration descriptor
 166:../../../platform/common/services/usb/udc/udc.c ****  */
 167:../../../platform/common/services/usb/udc/udc.c **** static usb_conf_desc_t UDC_DESC_STORAGE *udc_get_eof_conf(void)
 168:../../../platform/common/services/usb/udc/udc.c **** {
 136              	 .loc 1 168 0
 137              	 .cfi_startproc
 138              	 
 139              	 
 140              	 
 141 0014 80B4     	 push {r7}
 142              	.LCFI4:
 143              	 .cfi_def_cfa_offset 4
 144              	 .cfi_offset 7,-4
 145 0016 00AF     	 add r7,sp,#0
 146              	.LCFI5:
 147              	 .cfi_def_cfa_register 7
 169:../../../platform/common/services/usb/udc/udc.c **** 	return (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *)
 170:../../../platform/common/services/usb/udc/udc.c **** 			udc_ptr_conf->desc +
 148              	 .loc 1 170 0
 149 0018 064B     	 ldr r3,.L7
 150 001a 1B68     	 ldr r3,[r3]
 151 001c 1B68     	 ldr r3,[r3]
 171:../../../platform/common/services/usb/udc/udc.c **** 			le16_to_cpu(udc_ptr_conf->desc->wTotalLength));
 152              	 .loc 1 171 0
 153 001e 054A     	 ldr r2,.L7
 154 0020 1268     	 ldr r2,[r2]
 155 0022 1268     	 ldr r2,[r2]
 156 0024 5288     	 ldrh r2,[r2,#2]
 157 0026 92B2     	 uxth r2,r2
 169:../../../platform/common/services/usb/udc/udc.c **** 	return (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *)
 158              	 .loc 1 169 0
 159 0028 1344     	 add r3,r3,r2
 172:../../../platform/common/services/usb/udc/udc.c **** }
 160              	 .loc 1 172 0
 161 002a 1846     	 mov r0,r3
 162 002c BD46     	 mov sp,r7
 163              	.LCFI6:
 164              	 .cfi_def_cfa_register 13
 165              	 
 166 002e 80BC     	 pop {r7}
 167              	.LCFI7:
 168              	 .cfi_restore 7
 169              	 .cfi_def_cfa_offset 0
 170 0030 7047     	 bx lr
 171              	.L8:
 172 0032 00BF     	 .align 2
 173              	.L7:
 174 0034 00000000 	 .word udc_ptr_conf
 175              	 .cfi_endproc
 176              	.LFE127:
 178              	 .align 1
 179              	 .syntax unified
 180              	 .thumb
 181              	 .thumb_func
 182              	 .fpu softvfp
 184              	udc_next_desc_in_iface:
 185              	.LFB128:
 173:../../../platform/common/services/usb/udc/udc.c **** 
 174:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 175:../../../platform/common/services/usb/udc/udc.c **** /**
 176:../../../platform/common/services/usb/udc/udc.c ****  * \brief Search specific descriptor in global interface descriptor
 177:../../../platform/common/services/usb/udc/udc.c ****  *
 178:../../../platform/common/services/usb/udc/udc.c ****  * \param desc       Address of interface descriptor
 179:../../../platform/common/services/usb/udc/udc.c ****  *                   or previous specific descriptor found
 180:../../../platform/common/services/usb/udc/udc.c ****  * \param desc_id    Descriptor ID to search
 181:../../../platform/common/services/usb/udc/udc.c ****  *
 182:../../../platform/common/services/usb/udc/udc.c ****  * \return address of specific descriptor found
 183:../../../platform/common/services/usb/udc/udc.c ****  * \return NULL if it is the end of global interface descriptor
 184:../../../platform/common/services/usb/udc/udc.c ****  */
 185:../../../platform/common/services/usb/udc/udc.c **** static usb_conf_desc_t UDC_DESC_STORAGE *udc_next_desc_in_iface(usb_conf_desc_t
 186:../../../platform/common/services/usb/udc/udc.c **** 		UDC_DESC_STORAGE * desc, uint8_t desc_id)
 187:../../../platform/common/services/usb/udc/udc.c **** {
 186              	 .loc 1 187 0
 187              	 .cfi_startproc
 188              	 
 189              	 
 190 0038 80B5     	 push {r7,lr}
 191              	.LCFI8:
 192              	 .cfi_def_cfa_offset 8
 193              	 .cfi_offset 7,-8
 194              	 .cfi_offset 14,-4
 195 003a 84B0     	 sub sp,sp,#16
 196              	.LCFI9:
 197              	 .cfi_def_cfa_offset 24
 198 003c 00AF     	 add r7,sp,#0
 199              	.LCFI10:
 200              	 .cfi_def_cfa_register 7
 201 003e 7860     	 str r0,[r7,#4]
 202 0040 0B46     	 mov r3,r1
 203 0042 FB70     	 strb r3,[r7,#3]
 188:../../../platform/common/services/usb/udc/udc.c **** 	usb_conf_desc_t UDC_DESC_STORAGE *ptr_eof_desc;
 189:../../../platform/common/services/usb/udc/udc.c **** 
 190:../../../platform/common/services/usb/udc/udc.c **** 	ptr_eof_desc = udc_get_eof_conf();
 204              	 .loc 1 190 0
 205 0044 FFF7E6FF 	 bl udc_get_eof_conf
 206 0048 F860     	 str r0,[r7,#12]
 191:../../../platform/common/services/usb/udc/udc.c **** 	// Go to next descriptor
 192:../../../platform/common/services/usb/udc/udc.c **** 	desc = (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *) desc +
 193:../../../platform/common/services/usb/udc/udc.c **** 			desc->bLength);
 207              	 .loc 1 193 0
 208 004a 7B68     	 ldr r3,[r7,#4]
 209 004c 1B78     	 ldrb r3,[r3]
 210 004e 1A46     	 mov r2,r3
 192:../../../platform/common/services/usb/udc/udc.c **** 			desc->bLength);
 211              	 .loc 1 192 0
 212 0050 7B68     	 ldr r3,[r7,#4]
 213 0052 1344     	 add r3,r3,r2
 214 0054 7B60     	 str r3,[r7,#4]
 194:../../../platform/common/services/usb/udc/udc.c **** 	// Check the end of configuration descriptor
 195:../../../platform/common/services/usb/udc/udc.c **** 	while (ptr_eof_desc > desc) {
 215              	 .loc 1 195 0
 216 0056 10E0     	 b .L10
 217              	.L15:
 196:../../../platform/common/services/usb/udc/udc.c **** 		// If new interface descriptor is found,
 197:../../../platform/common/services/usb/udc/udc.c **** 		// then it is the end of the current global interface descriptor
 198:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_DT_INTERFACE == desc->bDescriptorType) {
 218              	 .loc 1 198 0
 219 0058 7B68     	 ldr r3,[r7,#4]
 220 005a 5B78     	 ldrb r3,[r3,#1]
 221 005c 042B     	 cmp r3,#4
 222 005e 11D0     	 beq .L16
 199:../../../platform/common/services/usb/udc/udc.c **** 			break; // End of global interface descriptor
 200:../../../platform/common/services/usb/udc/udc.c **** 		}
 201:../../../platform/common/services/usb/udc/udc.c **** 		if (desc_id == desc->bDescriptorType) {
 223              	 .loc 1 201 0
 224 0060 7B68     	 ldr r3,[r7,#4]
 225 0062 5B78     	 ldrb r3,[r3,#1]
 226 0064 FA78     	 ldrb r2,[r7,#3]
 227 0066 9A42     	 cmp r2,r3
 228 0068 01D1     	 bne .L13
 202:../../../platform/common/services/usb/udc/udc.c **** 			return desc; // Specific descriptor found
 229              	 .loc 1 202 0
 230 006a 7B68     	 ldr r3,[r7,#4]
 231 006c 0CE0     	 b .L14
 232              	.L13:
 203:../../../platform/common/services/usb/udc/udc.c **** 		}
 204:../../../platform/common/services/usb/udc/udc.c **** 		// Go to next descriptor
 205:../../../platform/common/services/usb/udc/udc.c **** 		desc = (UDC_DESC_STORAGE usb_conf_desc_t *) ((uint8_t *) desc +
 206:../../../platform/common/services/usb/udc/udc.c **** 				desc->bLength);
 233              	 .loc 1 206 0
 234 006e 7B68     	 ldr r3,[r7,#4]
 235 0070 1B78     	 ldrb r3,[r3]
 236 0072 1A46     	 mov r2,r3
 205:../../../platform/common/services/usb/udc/udc.c **** 				desc->bLength);
 237              	 .loc 1 205 0
 238 0074 7B68     	 ldr r3,[r7,#4]
 239 0076 1344     	 add r3,r3,r2
 240 0078 7B60     	 str r3,[r7,#4]
 241              	.L10:
 195:../../../platform/common/services/usb/udc/udc.c **** 		// If new interface descriptor is found,
 242              	 .loc 1 195 0
 243 007a FA68     	 ldr r2,[r7,#12]
 244 007c 7B68     	 ldr r3,[r7,#4]
 245 007e 9A42     	 cmp r2,r3
 246 0080 EAD8     	 bhi .L15
 247 0082 00E0     	 b .L12
 248              	.L16:
 199:../../../platform/common/services/usb/udc/udc.c **** 		}
 249              	 .loc 1 199 0
 250 0084 00BF     	 nop
 251              	.L12:
 207:../../../platform/common/services/usb/udc/udc.c **** 	}
 208:../../../platform/common/services/usb/udc/udc.c **** 	return NULL; // No specific descriptor found
 252              	 .loc 1 208 0
 253 0086 0023     	 movs r3,#0
 254              	.L14:
 209:../../../platform/common/services/usb/udc/udc.c **** }
 255              	 .loc 1 209 0
 256 0088 1846     	 mov r0,r3
 257 008a 1037     	 adds r7,r7,#16
 258              	.LCFI11:
 259              	 .cfi_def_cfa_offset 8
 260 008c BD46     	 mov sp,r7
 261              	.LCFI12:
 262              	 .cfi_def_cfa_register 13
 263              	 
 264 008e 80BD     	 pop {r7,pc}
 265              	 .cfi_endproc
 266              	.LFE128:
 268              	 .align 1
 269              	 .syntax unified
 270              	 .thumb
 271              	 .thumb_func
 272              	 .fpu softvfp
 274              	udc_update_iface_desc:
 275              	.LFB129:
 210:../../../platform/common/services/usb/udc/udc.c **** #endif
 211:../../../platform/common/services/usb/udc/udc.c **** 
 212:../../../platform/common/services/usb/udc/udc.c **** /**
 213:../../../platform/common/services/usb/udc/udc.c ****  * \brief Search an interface descriptor
 214:../../../platform/common/services/usb/udc/udc.c ****  * This routine updates the internal pointer udc_ptr_iface.
 215:../../../platform/common/services/usb/udc/udc.c ****  *
 216:../../../platform/common/services/usb/udc/udc.c ****  * \param iface_num     Interface number to find in Configuration Descriptor
 217:../../../platform/common/services/usb/udc/udc.c ****  * \param setting_num   Setting number of interface to find
 218:../../../platform/common/services/usb/udc/udc.c ****  *
 219:../../../platform/common/services/usb/udc/udc.c ****  * \return 1 if found or 0 if not found
 220:../../../platform/common/services/usb/udc/udc.c ****  */
 221:../../../platform/common/services/usb/udc/udc.c **** static bool udc_update_iface_desc(uint8_t iface_num, uint8_t setting_num)
 222:../../../platform/common/services/usb/udc/udc.c **** {
 276              	 .loc 1 222 0
 277              	 .cfi_startproc
 278              	 
 279              	 
 280 0090 80B5     	 push {r7,lr}
 281              	.LCFI13:
 282              	 .cfi_def_cfa_offset 8
 283              	 .cfi_offset 7,-8
 284              	 .cfi_offset 14,-4
 285 0092 84B0     	 sub sp,sp,#16
 286              	.LCFI14:
 287              	 .cfi_def_cfa_offset 24
 288 0094 00AF     	 add r7,sp,#0
 289              	.LCFI15:
 290              	 .cfi_def_cfa_register 7
 291 0096 0346     	 mov r3,r0
 292 0098 0A46     	 mov r2,r1
 293 009a FB71     	 strb r3,[r7,#7]
 294 009c 1346     	 mov r3,r2
 295 009e BB71     	 strb r3,[r7,#6]
 223:../../../platform/common/services/usb/udc/udc.c **** 	usb_conf_desc_t UDC_DESC_STORAGE *ptr_end_desc;
 224:../../../platform/common/services/usb/udc/udc.c **** 
 225:../../../platform/common/services/usb/udc/udc.c **** 	if (0 == udc_num_configuration) {
 296              	 .loc 1 225 0
 297 00a0 1E4B     	 ldr r3,.L24
 298 00a2 1B78     	 ldrb r3,[r3]
 299 00a4 002B     	 cmp r3,#0
 300 00a6 01D1     	 bne .L18
 226:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 301              	 .loc 1 226 0
 302 00a8 0023     	 movs r3,#0
 303 00aa 32E0     	 b .L19
 304              	.L18:
 227:../../../platform/common/services/usb/udc/udc.c **** 	}
 228:../../../platform/common/services/usb/udc/udc.c **** 
 229:../../../platform/common/services/usb/udc/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 305              	 .loc 1 229 0
 306 00ac 1C4B     	 ldr r3,.L24+4
 307 00ae 1B68     	 ldr r3,[r3]
 308 00b0 1B68     	 ldr r3,[r3]
 309 00b2 1B79     	 ldrb r3,[r3,#4]
 310 00b4 FA79     	 ldrb r2,[r7,#7]
 311 00b6 9A42     	 cmp r2,r3
 312 00b8 01D3     	 bcc .L20
 230:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 313              	 .loc 1 230 0
 314 00ba 0023     	 movs r3,#0
 315 00bc 29E0     	 b .L19
 316              	.L20:
 231:../../../platform/common/services/usb/udc/udc.c **** 	}
 232:../../../platform/common/services/usb/udc/udc.c **** 
 233:../../../platform/common/services/usb/udc/udc.c **** 	// Start at the beginning of configuration descriptor
 234:../../../platform/common/services/usb/udc/udc.c **** 	udc_ptr_iface = (UDC_DESC_STORAGE usb_iface_desc_t *)
 235:../../../platform/common/services/usb/udc/udc.c **** 			udc_ptr_conf->desc;
 317              	 .loc 1 235 0
 318 00be 184B     	 ldr r3,.L24+4
 319 00c0 1B68     	 ldr r3,[r3]
 320 00c2 1B68     	 ldr r3,[r3]
 234:../../../platform/common/services/usb/udc/udc.c **** 			udc_ptr_conf->desc;
 321              	 .loc 1 234 0
 322 00c4 174A     	 ldr r2,.L24+8
 323 00c6 1360     	 str r3,[r2]
 236:../../../platform/common/services/usb/udc/udc.c **** 
 237:../../../platform/common/services/usb/udc/udc.c **** 	// Check the end of configuration descriptor
 238:../../../platform/common/services/usb/udc/udc.c **** 	ptr_end_desc = udc_get_eof_conf();
 324              	 .loc 1 238 0
 325 00c8 FFF7A4FF 	 bl udc_get_eof_conf
 326 00cc F860     	 str r0,[r7,#12]
 239:../../../platform/common/services/usb/udc/udc.c **** 	while (ptr_end_desc >
 327              	 .loc 1 239 0
 328 00ce 1AE0     	 b .L21
 329              	.L23:
 240:../../../platform/common/services/usb/udc/udc.c **** 			(UDC_DESC_STORAGE usb_conf_desc_t *) udc_ptr_iface) {
 241:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_DT_INTERFACE == udc_ptr_iface->bDescriptorType) {
 330              	 .loc 1 241 0
 331 00d0 144B     	 ldr r3,.L24+8
 332 00d2 1B68     	 ldr r3,[r3]
 333 00d4 5B78     	 ldrb r3,[r3,#1]
 334 00d6 042B     	 cmp r3,#4
 335 00d8 0DD1     	 bne .L22
 242:../../../platform/common/services/usb/udc/udc.c **** 			// A interface descriptor is found
 243:../../../platform/common/services/usb/udc/udc.c **** 			// Check interface and alternate setting number
 244:../../../platform/common/services/usb/udc/udc.c **** 			if ((iface_num == udc_ptr_iface->bInterfaceNumber) &&
 336              	 .loc 1 244 0
 337 00da 124B     	 ldr r3,.L24+8
 338 00dc 1B68     	 ldr r3,[r3]
 339 00de 9B78     	 ldrb r3,[r3,#2]
 340 00e0 FA79     	 ldrb r2,[r7,#7]
 341 00e2 9A42     	 cmp r2,r3
 342 00e4 07D1     	 bne .L22
 245:../../../platform/common/services/usb/udc/udc.c **** 					(setting_num ==
 246:../../../platform/common/services/usb/udc/udc.c **** 					udc_ptr_iface->bAlternateSetting)) {
 343              	 .loc 1 246 0 discriminator 1
 344 00e6 0F4B     	 ldr r3,.L24+8
 345 00e8 1B68     	 ldr r3,[r3]
 346 00ea DB78     	 ldrb r3,[r3,#3]
 244:../../../platform/common/services/usb/udc/udc.c **** 					(setting_num ==
 347              	 .loc 1 244 0 discriminator 1
 348 00ec BA79     	 ldrb r2,[r7,#6]
 349 00ee 9A42     	 cmp r2,r3
 350 00f0 01D1     	 bne .L22
 247:../../../platform/common/services/usb/udc/udc.c **** 				return true; // Interface found
 351              	 .loc 1 247 0
 352 00f2 0123     	 movs r3,#1
 353 00f4 0DE0     	 b .L19
 354              	.L22:
 248:../../../platform/common/services/usb/udc/udc.c **** 			}
 249:../../../platform/common/services/usb/udc/udc.c **** 		}
 250:../../../platform/common/services/usb/udc/udc.c **** 		// Go to next descriptor
 251:../../../platform/common/services/usb/udc/udc.c **** 		udc_ptr_iface = (UDC_DESC_STORAGE usb_iface_desc_t *) (
 355              	 .loc 1 251 0
 356 00f6 0B4B     	 ldr r3,.L24+8
 357 00f8 1B68     	 ldr r3,[r3]
 252:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *) udc_ptr_iface +
 253:../../../platform/common/services/usb/udc/udc.c **** 				udc_ptr_iface->bLength);
 358              	 .loc 1 253 0
 359 00fa 0A4A     	 ldr r2,.L24+8
 360 00fc 1268     	 ldr r2,[r2]
 361 00fe 1278     	 ldrb r2,[r2]
 251:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *) udc_ptr_iface +
 362              	 .loc 1 251 0
 363 0100 1344     	 add r3,r3,r2
 364 0102 084A     	 ldr r2,.L24+8
 365 0104 1360     	 str r3,[r2]
 366              	.L21:
 240:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_DT_INTERFACE == udc_ptr_iface->bDescriptorType) {
 367              	 .loc 1 240 0
 368 0106 074B     	 ldr r3,.L24+8
 369 0108 1B68     	 ldr r3,[r3]
 239:../../../platform/common/services/usb/udc/udc.c **** 			(UDC_DESC_STORAGE usb_conf_desc_t *) udc_ptr_iface) {
 370              	 .loc 1 239 0
 371 010a FA68     	 ldr r2,[r7,#12]
 372 010c 9A42     	 cmp r2,r3
 373 010e DFD8     	 bhi .L23
 254:../../../platform/common/services/usb/udc/udc.c **** 	}
 255:../../../platform/common/services/usb/udc/udc.c **** 	return false; // Interface not found
 374              	 .loc 1 255 0
 375 0110 0023     	 movs r3,#0
 376              	.L19:
 256:../../../platform/common/services/usb/udc/udc.c **** }
 377              	 .loc 1 256 0
 378 0112 1846     	 mov r0,r3
 379 0114 1037     	 adds r7,r7,#16
 380              	.LCFI16:
 381              	 .cfi_def_cfa_offset 8
 382 0116 BD46     	 mov sp,r7
 383              	.LCFI17:
 384              	 .cfi_def_cfa_register 13
 385              	 
 386 0118 80BD     	 pop {r7,pc}
 387              	.L25:
 388 011a 00BF     	 .align 2
 389              	.L24:
 390 011c 00000000 	 .word udc_num_configuration
 391 0120 00000000 	 .word udc_ptr_conf
 392 0124 00000000 	 .word udc_ptr_iface
 393              	 .cfi_endproc
 394              	.LFE129:
 396              	 .align 1
 397              	 .syntax unified
 398              	 .thumb
 399              	 .thumb_func
 400              	 .fpu softvfp
 402              	udc_iface_disable:
 403              	.LFB130:
 257:../../../platform/common/services/usb/udc/udc.c **** 
 258:../../../platform/common/services/usb/udc/udc.c **** /**
 259:../../../platform/common/services/usb/udc/udc.c ****  * \brief Disables an usb device interface (UDI)
 260:../../../platform/common/services/usb/udc/udc.c ****  * This routine call the UDI corresponding to interface number
 261:../../../platform/common/services/usb/udc/udc.c ****  *
 262:../../../platform/common/services/usb/udc/udc.c ****  * \param iface_num     Interface number to disable
 263:../../../platform/common/services/usb/udc/udc.c ****  *
 264:../../../platform/common/services/usb/udc/udc.c ****  * \return 1 if it is done or 0 if interface is not found
 265:../../../platform/common/services/usb/udc/udc.c ****  */
 266:../../../platform/common/services/usb/udc/udc.c **** static bool udc_iface_disable(uint8_t iface_num)
 267:../../../platform/common/services/usb/udc/udc.c **** {
 404              	 .loc 1 267 0
 405              	 .cfi_startproc
 406              	 
 407              	 
 408 0128 80B5     	 push {r7,lr}
 409              	.LCFI18:
 410              	 .cfi_def_cfa_offset 8
 411              	 .cfi_offset 7,-8
 412              	 .cfi_offset 14,-4
 413 012a 84B0     	 sub sp,sp,#16
 414              	.LCFI19:
 415              	 .cfi_def_cfa_offset 24
 416 012c 00AF     	 add r7,sp,#0
 417              	.LCFI20:
 418              	 .cfi_def_cfa_register 7
 419 012e 0346     	 mov r3,r0
 420 0130 FB71     	 strb r3,[r7,#7]
 268:../../../platform/common/services/usb/udc/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
 269:../../../platform/common/services/usb/udc/udc.c **** 
 270:../../../platform/common/services/usb/udc/udc.c **** 	// Select first alternate setting of the interface
 271:../../../platform/common/services/usb/udc/udc.c **** 	// to update udc_ptr_iface before call iface->getsetting()
 272:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 421              	 .loc 1 272 0
 422 0132 FB79     	 ldrb r3,[r7,#7]
 423 0134 0021     	 movs r1,#0
 424 0136 1846     	 mov r0,r3
 425 0138 FFF7AAFF 	 bl udc_update_iface_desc
 426 013c 0346     	 mov r3,r0
 427 013e 83F00103 	 eor r3,r3,#1
 428 0142 DBB2     	 uxtb r3,r3
 429 0144 002B     	 cmp r3,#0
 430 0146 01D0     	 beq .L27
 273:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 431              	 .loc 1 273 0
 432 0148 0023     	 movs r3,#0
 433 014a 2FE0     	 b .L28
 434              	.L27:
 274:../../../platform/common/services/usb/udc/udc.c **** 	}
 275:../../../platform/common/services/usb/udc/udc.c **** 
 276:../../../platform/common/services/usb/udc/udc.c **** 	// Select the interface with the current alternate setting
 277:../../../platform/common/services/usb/udc/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 435              	 .loc 1 277 0
 436 014c 194B     	 ldr r3,.L35
 437 014e 1B68     	 ldr r3,[r3]
 438 0150 5A68     	 ldr r2,[r3,#4]
 439 0152 FB79     	 ldrb r3,[r7,#7]
 440 0154 9B00     	 lsls r3,r3,#2
 441 0156 1344     	 add r3,r3,r2
 442 0158 1B68     	 ldr r3,[r3]
 443 015a BB60     	 str r3,[r7,#8]
 278:../../../platform/common/services/usb/udc/udc.c **** 
 279:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 280:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 444              	 .loc 1 280 0
 445 015c BB68     	 ldr r3,[r7,#8]
 446 015e DB68     	 ldr r3,[r3,#12]
 447 0160 9847     	 blx r3
 448              	.LVL0:
 449 0162 0346     	 mov r3,r0
 450 0164 1A46     	 mov r2,r3
 451 0166 FB79     	 ldrb r3,[r7,#7]
 452 0168 1146     	 mov r1,r2
 453 016a 1846     	 mov r0,r3
 454 016c FFF790FF 	 bl udc_update_iface_desc
 455 0170 0346     	 mov r3,r0
 456 0172 83F00103 	 eor r3,r3,#1
 457 0176 DBB2     	 uxtb r3,r3
 458 0178 002B     	 cmp r3,#0
 459 017a 01D0     	 beq .L29
 281:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 460              	 .loc 1 281 0
 461 017c 0023     	 movs r3,#0
 462 017e 15E0     	 b .L28
 463              	.L29:
 464              	.LBB2:
 282:../../../platform/common/services/usb/udc/udc.c **** 	}
 283:../../../platform/common/services/usb/udc/udc.c **** 
 284:../../../platform/common/services/usb/udc/udc.c **** 	// Start at the beginning of interface descriptor
 285:../../../platform/common/services/usb/udc/udc.c **** 	{
 286:../../../platform/common/services/usb/udc/udc.c **** 		usb_ep_desc_t UDC_DESC_STORAGE *ep_desc;
 287:../../../platform/common/services/usb/udc/udc.c **** 		ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *) udc_ptr_iface;
 465              	 .loc 1 287 0
 466 0180 0D4B     	 ldr r3,.L35+4
 467 0182 1B68     	 ldr r3,[r3]
 468 0184 FB60     	 str r3,[r7,#12]
 469              	.L32:
 288:../../../platform/common/services/usb/udc/udc.c **** 		while (1) {
 289:../../../platform/common/services/usb/udc/udc.c **** 			// Search Endpoint descriptor included in global interface descriptor
 290:../../../platform/common/services/usb/udc/udc.c **** 			ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *)
 470              	 .loc 1 290 0
 471 0186 0521     	 movs r1,#5
 472 0188 F868     	 ldr r0,[r7,#12]
 473 018a FFF755FF 	 bl udc_next_desc_in_iface
 474 018e F860     	 str r0,[r7,#12]
 291:../../../platform/common/services/usb/udc/udc.c **** 					udc_next_desc_in_iface((UDC_DESC_STORAGE
 292:../../../platform/common/services/usb/udc/udc.c **** 					usb_conf_desc_t *)
 293:../../../platform/common/services/usb/udc/udc.c **** 					ep_desc, USB_DT_ENDPOINT);
 294:../../../platform/common/services/usb/udc/udc.c **** 			if (NULL == ep_desc) {
 475              	 .loc 1 294 0
 476 0190 FB68     	 ldr r3,[r7,#12]
 477 0192 002B     	 cmp r3,#0
 478 0194 05D0     	 beq .L34
 295:../../../platform/common/services/usb/udc/udc.c **** 				break;
 296:../../../platform/common/services/usb/udc/udc.c **** 			}
 297:../../../platform/common/services/usb/udc/udc.c **** 			// Free the endpoint used by the interface
 298:../../../platform/common/services/usb/udc/udc.c **** 			udd_ep_free(ep_desc->bEndpointAddress);
 479              	 .loc 1 298 0
 480 0196 FB68     	 ldr r3,[r7,#12]
 481 0198 9B78     	 ldrb r3,[r3,#2]
 482 019a 1846     	 mov r0,r3
 483 019c 074B     	 ldr r3,.L35+8
 484 019e 9847     	 blx r3
 485              	.LVL1:
 290:../../../platform/common/services/usb/udc/udc.c **** 					udc_next_desc_in_iface((UDC_DESC_STORAGE
 486              	 .loc 1 290 0
 487 01a0 F1E7     	 b .L32
 488              	.L34:
 295:../../../platform/common/services/usb/udc/udc.c **** 				break;
 489              	 .loc 1 295 0
 490 01a2 00BF     	 nop
 491              	.LBE2:
 299:../../../platform/common/services/usb/udc/udc.c **** 		}
 300:../../../platform/common/services/usb/udc/udc.c **** 	}
 301:../../../platform/common/services/usb/udc/udc.c **** #endif
 302:../../../platform/common/services/usb/udc/udc.c **** 
 303:../../../platform/common/services/usb/udc/udc.c **** 	// Disable interface
 304:../../../platform/common/services/usb/udc/udc.c **** 	udi_api->disable();
 492              	 .loc 1 304 0
 493 01a4 BB68     	 ldr r3,[r7,#8]
 494 01a6 5B68     	 ldr r3,[r3,#4]
 495 01a8 9847     	 blx r3
 496              	.LVL2:
 305:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 497              	 .loc 1 305 0
 498 01aa 0123     	 movs r3,#1
 499              	.L28:
 306:../../../platform/common/services/usb/udc/udc.c **** }
 500              	 .loc 1 306 0
 501 01ac 1846     	 mov r0,r3
 502 01ae 1037     	 adds r7,r7,#16
 503              	.LCFI21:
 504              	 .cfi_def_cfa_offset 8
 505 01b0 BD46     	 mov sp,r7
 506              	.LCFI22:
 507              	 .cfi_def_cfa_register 13
 508              	 
 509 01b2 80BD     	 pop {r7,pc}
 510              	.L36:
 511              	 .align 2
 512              	.L35:
 513 01b4 00000000 	 .word udc_ptr_conf
 514 01b8 00000000 	 .word udc_ptr_iface
 515 01bc 00000000 	 .word udd_ep_free
 516              	 .cfi_endproc
 517              	.LFE130:
 519              	 .align 1
 520              	 .syntax unified
 521              	 .thumb
 522              	 .thumb_func
 523              	 .fpu softvfp
 525              	udc_iface_enable:
 526              	.LFB131:
 307:../../../platform/common/services/usb/udc/udc.c **** 
 308:../../../platform/common/services/usb/udc/udc.c **** /**
 309:../../../platform/common/services/usb/udc/udc.c ****  * \brief Enables an usb device interface (UDI)
 310:../../../platform/common/services/usb/udc/udc.c ****  * This routine calls the UDI corresponding
 311:../../../platform/common/services/usb/udc/udc.c ****  * to the interface and setting number.
 312:../../../platform/common/services/usb/udc/udc.c ****  *
 313:../../../platform/common/services/usb/udc/udc.c ****  * \param iface_num     Interface number to enable
 314:../../../platform/common/services/usb/udc/udc.c ****  * \param setting_num   Setting number to enable
 315:../../../platform/common/services/usb/udc/udc.c ****  *
 316:../../../platform/common/services/usb/udc/udc.c ****  * \return 1 if it is done or 0 if interface is not found
 317:../../../platform/common/services/usb/udc/udc.c ****  */
 318:../../../platform/common/services/usb/udc/udc.c **** static bool udc_iface_enable(uint8_t iface_num, uint8_t setting_num)
 319:../../../platform/common/services/usb/udc/udc.c **** {
 527              	 .loc 1 319 0
 528              	 .cfi_startproc
 529              	 
 530              	 
 531 01c0 80B5     	 push {r7,lr}
 532              	.LCFI23:
 533              	 .cfi_def_cfa_offset 8
 534              	 .cfi_offset 7,-8
 535              	 .cfi_offset 14,-4
 536 01c2 84B0     	 sub sp,sp,#16
 537              	.LCFI24:
 538              	 .cfi_def_cfa_offset 24
 539 01c4 00AF     	 add r7,sp,#0
 540              	.LCFI25:
 541              	 .cfi_def_cfa_register 7
 542 01c6 0346     	 mov r3,r0
 543 01c8 0A46     	 mov r2,r1
 544 01ca FB71     	 strb r3,[r7,#7]
 545 01cc 1346     	 mov r3,r2
 546 01ce BB71     	 strb r3,[r7,#6]
 320:../../../platform/common/services/usb/udc/udc.c **** 	// Select the interface descriptor
 321:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, setting_num)) {
 547              	 .loc 1 321 0
 548 01d0 BA79     	 ldrb r2,[r7,#6]
 549 01d2 FB79     	 ldrb r3,[r7,#7]
 550 01d4 1146     	 mov r1,r2
 551 01d6 1846     	 mov r0,r3
 552 01d8 FFF75AFF 	 bl udc_update_iface_desc
 553 01dc 0346     	 mov r3,r0
 554 01de 83F00103 	 eor r3,r3,#1
 555 01e2 DBB2     	 uxtb r3,r3
 556 01e4 002B     	 cmp r3,#0
 557 01e6 01D0     	 beq .L38
 322:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 558              	 .loc 1 322 0
 559 01e8 0023     	 movs r3,#0
 560 01ea 27E0     	 b .L39
 561              	.L38:
 323:../../../platform/common/services/usb/udc/udc.c **** 	}
 324:../../../platform/common/services/usb/udc/udc.c **** 
 325:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 326:../../../platform/common/services/usb/udc/udc.c **** 	usb_ep_desc_t UDC_DESC_STORAGE *ep_desc;
 327:../../../platform/common/services/usb/udc/udc.c **** 
 328:../../../platform/common/services/usb/udc/udc.c **** 	// Start at the beginning of the global interface descriptor
 329:../../../platform/common/services/usb/udc/udc.c **** 	ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *) udc_ptr_iface;
 562              	 .loc 1 329 0
 563 01ec 154B     	 ldr r3,.L46
 564 01ee 1B68     	 ldr r3,[r3]
 565 01f0 FB60     	 str r3,[r7,#12]
 566              	.L43:
 330:../../../platform/common/services/usb/udc/udc.c **** 	while (1) {
 331:../../../platform/common/services/usb/udc/udc.c **** 		// Search Endpoint descriptor included in the global interface descriptor
 332:../../../platform/common/services/usb/udc/udc.c **** 		ep_desc = (UDC_DESC_STORAGE usb_ep_desc_t *)
 567              	 .loc 1 332 0
 568 01f2 0521     	 movs r1,#5
 569 01f4 F868     	 ldr r0,[r7,#12]
 570 01f6 FFF71FFF 	 bl udc_next_desc_in_iface
 571 01fa F860     	 str r0,[r7,#12]
 333:../../../platform/common/services/usb/udc/udc.c **** 				udc_next_desc_in_iface((UDC_DESC_STORAGE
 334:../../../platform/common/services/usb/udc/udc.c **** 						usb_conf_desc_t *) ep_desc,
 335:../../../platform/common/services/usb/udc/udc.c **** 				USB_DT_ENDPOINT);
 336:../../../platform/common/services/usb/udc/udc.c **** 		if (NULL == ep_desc)
 572              	 .loc 1 336 0
 573 01fc FB68     	 ldr r3,[r7,#12]
 574 01fe 002B     	 cmp r3,#0
 575 0200 11D0     	 beq .L45
 337:../../../platform/common/services/usb/udc/udc.c **** 			break;
 338:../../../platform/common/services/usb/udc/udc.c **** 		// Alloc the endpoint used by the interface
 339:../../../platform/common/services/usb/udc/udc.c **** 		if (!udd_ep_alloc(ep_desc->bEndpointAddress,
 576              	 .loc 1 339 0
 577 0202 FB68     	 ldr r3,[r7,#12]
 578 0204 9878     	 ldrb r0,[r3,#2]
 579 0206 FB68     	 ldr r3,[r7,#12]
 580 0208 D978     	 ldrb r1,[r3,#3]
 581 020a FB68     	 ldr r3,[r7,#12]
 582 020c 9B88     	 ldrh r3,[r3,#4]
 583 020e 9BB2     	 uxth r3,r3
 584 0210 1A46     	 mov r2,r3
 585 0212 0D4B     	 ldr r3,.L46+4
 586 0214 9847     	 blx r3
 587              	.LVL3:
 588 0216 0346     	 mov r3,r0
 589 0218 83F00103 	 eor r3,r3,#1
 590 021c DBB2     	 uxtb r3,r3
 591 021e 002B     	 cmp r3,#0
 592 0220 E7D0     	 beq .L43
 340:../../../platform/common/services/usb/udc/udc.c **** 				ep_desc->bmAttributes,
 341:../../../platform/common/services/usb/udc/udc.c **** 				le16_to_cpu
 342:../../../platform/common/services/usb/udc/udc.c **** 				(ep_desc->wMaxPacketSize))) {
 343:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 593              	 .loc 1 343 0
 594 0222 0023     	 movs r3,#0
 595 0224 0AE0     	 b .L39
 596              	.L45:
 337:../../../platform/common/services/usb/udc/udc.c **** 			break;
 597              	 .loc 1 337 0
 598 0226 00BF     	 nop
 344:../../../platform/common/services/usb/udc/udc.c **** 		}
 345:../../../platform/common/services/usb/udc/udc.c **** 	}
 346:../../../platform/common/services/usb/udc/udc.c **** #endif
 347:../../../platform/common/services/usb/udc/udc.c **** 	// Enable the interface
 348:../../../platform/common/services/usb/udc/udc.c **** 	return udc_ptr_conf->udi_apis[iface_num]->enable();
 599              	 .loc 1 348 0
 600 0228 084B     	 ldr r3,.L46+8
 601 022a 1B68     	 ldr r3,[r3]
 602 022c 5A68     	 ldr r2,[r3,#4]
 603 022e FB79     	 ldrb r3,[r7,#7]
 604 0230 9B00     	 lsls r3,r3,#2
 605 0232 1344     	 add r3,r3,r2
 606 0234 1B68     	 ldr r3,[r3]
 607 0236 1B68     	 ldr r3,[r3]
 608 0238 9847     	 blx r3
 609              	.LVL4:
 610 023a 0346     	 mov r3,r0
 611              	.L39:
 349:../../../platform/common/services/usb/udc/udc.c **** }
 612              	 .loc 1 349 0
 613 023c 1846     	 mov r0,r3
 614 023e 1037     	 adds r7,r7,#16
 615              	.LCFI26:
 616              	 .cfi_def_cfa_offset 8
 617 0240 BD46     	 mov sp,r7
 618              	.LCFI27:
 619              	 .cfi_def_cfa_register 13
 620              	 
 621 0242 80BD     	 pop {r7,pc}
 622              	.L47:
 623              	 .align 2
 624              	.L46:
 625 0244 00000000 	 .word udc_ptr_iface
 626 0248 00000000 	 .word udd_ep_alloc
 627 024c 00000000 	 .word udc_ptr_conf
 628              	 .cfi_endproc
 629              	.LFE131:
 631              	 .align 1
 632              	 .global udc_start
 633              	 .syntax unified
 634              	 .thumb
 635              	 .thumb_func
 636              	 .fpu softvfp
 638              	udc_start:
 639              	.LFB132:
 350:../../../platform/common/services/usb/udc/udc.c **** 
 351:../../../platform/common/services/usb/udc/udc.c **** /*! \brief Start the USB Device stack
 352:../../../platform/common/services/usb/udc/udc.c ****  */
 353:../../../platform/common/services/usb/udc/udc.c **** void udc_start(void)
 354:../../../platform/common/services/usb/udc/udc.c **** {
 640              	 .loc 1 354 0
 641              	 .cfi_startproc
 642              	 
 643              	 
 644 0250 80B5     	 push {r7,lr}
 645              	.LCFI28:
 646              	 .cfi_def_cfa_offset 8
 647              	 .cfi_offset 7,-8
 648              	 .cfi_offset 14,-4
 649 0252 00AF     	 add r7,sp,#0
 650              	.LCFI29:
 651              	 .cfi_def_cfa_register 7
 355:../../../platform/common/services/usb/udc/udc.c **** 	udd_enable();
 652              	 .loc 1 355 0
 653 0254 014B     	 ldr r3,.L49
 654 0256 9847     	 blx r3
 655              	.LVL5:
 356:../../../platform/common/services/usb/udc/udc.c **** }
 656              	 .loc 1 356 0
 657 0258 00BF     	 nop
 658 025a 80BD     	 pop {r7,pc}
 659              	.L50:
 660              	 .align 2
 661              	.L49:
 662 025c 00000000 	 .word udd_enable
 663              	 .cfi_endproc
 664              	.LFE132:
 666              	 .align 1
 667              	 .global udc_stop
 668              	 .syntax unified
 669              	 .thumb
 670              	 .thumb_func
 671              	 .fpu softvfp
 673              	udc_stop:
 674              	.LFB133:
 357:../../../platform/common/services/usb/udc/udc.c **** 
 358:../../../platform/common/services/usb/udc/udc.c **** /*! \brief Stop the USB Device stack
 359:../../../platform/common/services/usb/udc/udc.c ****  */
 360:../../../platform/common/services/usb/udc/udc.c **** void udc_stop(void)
 361:../../../platform/common/services/usb/udc/udc.c **** {
 675              	 .loc 1 361 0
 676              	 .cfi_startproc
 677              	 
 678              	 
 679 0260 80B5     	 push {r7,lr}
 680              	.LCFI30:
 681              	 .cfi_def_cfa_offset 8
 682              	 .cfi_offset 7,-8
 683              	 .cfi_offset 14,-4
 684 0262 00AF     	 add r7,sp,#0
 685              	.LCFI31:
 686              	 .cfi_def_cfa_register 7
 362:../../../platform/common/services/usb/udc/udc.c **** 	udd_disable();
 687              	 .loc 1 362 0
 688 0264 024B     	 ldr r3,.L52
 689 0266 9847     	 blx r3
 690              	.LVL6:
 363:../../../platform/common/services/usb/udc/udc.c **** 	udc_reset();
 691              	 .loc 1 363 0
 692 0268 FFF7FEFF 	 bl udc_reset
 364:../../../platform/common/services/usb/udc/udc.c **** }
 693              	 .loc 1 364 0
 694 026c 00BF     	 nop
 695 026e 80BD     	 pop {r7,pc}
 696              	.L53:
 697              	 .align 2
 698              	.L52:
 699 0270 00000000 	 .word udd_disable
 700              	 .cfi_endproc
 701              	.LFE133:
 703              	 .align 1
 704              	 .global udc_reset
 705              	 .syntax unified
 706              	 .thumb
 707              	 .thumb_func
 708              	 .fpu softvfp
 710              	udc_reset:
 711              	.LFB134:
 365:../../../platform/common/services/usb/udc/udc.c **** 
 366:../../../platform/common/services/usb/udc/udc.c **** /**
 367:../../../platform/common/services/usb/udc/udc.c ****  * \brief Reset the current configuration of the USB device,
 368:../../../platform/common/services/usb/udc/udc.c ****  * This routines can be called by UDD when a RESET on the USB line occurs.
 369:../../../platform/common/services/usb/udc/udc.c ****  */
 370:../../../platform/common/services/usb/udc/udc.c **** void udc_reset(void)
 371:../../../platform/common/services/usb/udc/udc.c **** {
 712              	 .loc 1 371 0
 713              	 .cfi_startproc
 714              	 
 715              	 
 716 0274 80B5     	 push {r7,lr}
 717              	.LCFI32:
 718              	 .cfi_def_cfa_offset 8
 719              	 .cfi_offset 7,-8
 720              	 .cfi_offset 14,-4
 721 0276 82B0     	 sub sp,sp,#8
 722              	.LCFI33:
 723              	 .cfi_def_cfa_offset 16
 724 0278 00AF     	 add r7,sp,#0
 725              	.LCFI34:
 726              	 .cfi_def_cfa_register 7
 372:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
 373:../../../platform/common/services/usb/udc/udc.c **** 
 374:../../../platform/common/services/usb/udc/udc.c **** 	if (udc_num_configuration) {
 727              	 .loc 1 374 0
 728 027a 0F4B     	 ldr r3,.L58
 729 027c 1B78     	 ldrb r3,[r3]
 730 027e 002B     	 cmp r3,#0
 731 0280 10D0     	 beq .L55
 375:../../../platform/common/services/usb/udc/udc.c **** 		for (iface_num = 0;
 732              	 .loc 1 375 0
 733 0282 0023     	 movs r3,#0
 734 0284 FB71     	 strb r3,[r7,#7]
 735 0286 06E0     	 b .L56
 736              	.L57:
 376:../../../platform/common/services/usb/udc/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 377:../../../platform/common/services/usb/udc/udc.c **** 				iface_num++) {
 378:../../../platform/common/services/usb/udc/udc.c **** 			udc_iface_disable(iface_num);
 737              	 .loc 1 378 0
 738 0288 FB79     	 ldrb r3,[r7,#7]
 739 028a 1846     	 mov r0,r3
 740 028c FFF74CFF 	 bl udc_iface_disable
 377:../../../platform/common/services/usb/udc/udc.c **** 			udc_iface_disable(iface_num);
 741              	 .loc 1 377 0
 742 0290 FB79     	 ldrb r3,[r7,#7]
 743 0292 0133     	 adds r3,r3,#1
 744 0294 FB71     	 strb r3,[r7,#7]
 745              	.L56:
 376:../../../platform/common/services/usb/udc/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 746              	 .loc 1 376 0 discriminator 1
 747 0296 094B     	 ldr r3,.L58+4
 748 0298 1B68     	 ldr r3,[r3]
 749 029a 1B68     	 ldr r3,[r3]
 750 029c 1B79     	 ldrb r3,[r3,#4]
 375:../../../platform/common/services/usb/udc/udc.c **** 		for (iface_num = 0;
 751              	 .loc 1 375 0 discriminator 1
 752 029e FA79     	 ldrb r2,[r7,#7]
 753 02a0 9A42     	 cmp r2,r3
 754 02a2 F1D3     	 bcc .L57
 755              	.L55:
 379:../../../platform/common/services/usb/udc/udc.c **** 		}
 380:../../../platform/common/services/usb/udc/udc.c **** 	}
 381:../../../platform/common/services/usb/udc/udc.c **** 	udc_num_configuration = 0;
 756              	 .loc 1 381 0
 757 02a4 044B     	 ldr r3,.L58
 758 02a6 0022     	 movs r2,#0
 759 02a8 1A70     	 strb r2,[r3]
 382:../../../platform/common/services/usb/udc/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 383:../../../platform/common/services/usb/udc/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 384:../../../platform/common/services/usb/udc/udc.c **** 	if (CPU_TO_LE16(USB_DEV_STATUS_REMOTEWAKEUP) & udc_device_status) {
 385:../../../platform/common/services/usb/udc/udc.c **** 		// Remote wakeup is enabled then disable it
 386:../../../platform/common/services/usb/udc/udc.c **** 		UDC_REMOTEWAKEUP_DISABLE();
 387:../../../platform/common/services/usb/udc/udc.c **** 	}
 388:../../../platform/common/services/usb/udc/udc.c **** #endif
 389:../../../platform/common/services/usb/udc/udc.c **** 	udc_device_status =
 760              	 .loc 1 389 0
 761 02aa 054B     	 ldr r3,.L58+8
 762 02ac 0122     	 movs r2,#1
 763 02ae 1A80     	 strh r2,[r3]
 390:../../../platform/common/services/usb/udc/udc.c **** #if (USB_DEVICE_ATTR & USB_CONFIG_ATTR_SELF_POWERED)
 391:../../../platform/common/services/usb/udc/udc.c **** 			CPU_TO_LE16(USB_DEV_STATUS_SELF_POWERED);
 392:../../../platform/common/services/usb/udc/udc.c **** #else
 393:../../../platform/common/services/usb/udc/udc.c **** 			CPU_TO_LE16(USB_DEV_STATUS_BUS_POWERED);
 394:../../../platform/common/services/usb/udc/udc.c **** #endif
 395:../../../platform/common/services/usb/udc/udc.c **** }
 764              	 .loc 1 395 0
 765 02b0 00BF     	 nop
 766 02b2 0837     	 adds r7,r7,#8
 767              	.LCFI35:
 768              	 .cfi_def_cfa_offset 8
 769 02b4 BD46     	 mov sp,r7
 770              	.LCFI36:
 771              	 .cfi_def_cfa_register 13
 772              	 
 773 02b6 80BD     	 pop {r7,pc}
 774              	.L59:
 775              	 .align 2
 776              	.L58:
 777 02b8 00000000 	 .word udc_num_configuration
 778 02bc 00000000 	 .word udc_ptr_conf
 779 02c0 00000000 	 .word udc_device_status
 780              	 .cfi_endproc
 781              	.LFE134:
 783              	 .align 1
 784              	 .global udc_sof_notify
 785              	 .syntax unified
 786              	 .thumb
 787              	 .thumb_func
 788              	 .fpu softvfp
 790              	udc_sof_notify:
 791              	.LFB135:
 396:../../../platform/common/services/usb/udc/udc.c **** 
 397:../../../platform/common/services/usb/udc/udc.c **** void udc_sof_notify(void)
 398:../../../platform/common/services/usb/udc/udc.c **** {
 792              	 .loc 1 398 0
 793              	 .cfi_startproc
 794              	 
 795              	 
 796 02c4 80B5     	 push {r7,lr}
 797              	.LCFI37:
 798              	 .cfi_def_cfa_offset 8
 799              	 .cfi_offset 7,-8
 800              	 .cfi_offset 14,-4
 801 02c6 82B0     	 sub sp,sp,#8
 802              	.LCFI38:
 803              	 .cfi_def_cfa_offset 16
 804 02c8 00AF     	 add r7,sp,#0
 805              	.LCFI39:
 806              	 .cfi_def_cfa_register 7
 399:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
 400:../../../platform/common/services/usb/udc/udc.c **** 
 401:../../../platform/common/services/usb/udc/udc.c **** 	if (udc_num_configuration) {
 807              	 .loc 1 401 0
 808 02ca 144B     	 ldr r3,.L66
 809 02cc 1B78     	 ldrb r3,[r3]
 810 02ce 002B     	 cmp r3,#0
 811 02d0 1FD0     	 beq .L65
 402:../../../platform/common/services/usb/udc/udc.c **** 		for (iface_num = 0;
 812              	 .loc 1 402 0
 813 02d2 0023     	 movs r3,#0
 814 02d4 FB71     	 strb r3,[r7,#7]
 815 02d6 15E0     	 b .L62
 816              	.L64:
 403:../../../platform/common/services/usb/udc/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 404:../../../platform/common/services/usb/udc/udc.c **** 				iface_num++) {
 405:../../../platform/common/services/usb/udc/udc.c **** 			if (udc_ptr_conf->udi_apis[iface_num]->sof_notify != NULL) {
 817              	 .loc 1 405 0
 818 02d8 114B     	 ldr r3,.L66+4
 819 02da 1B68     	 ldr r3,[r3]
 820 02dc 5A68     	 ldr r2,[r3,#4]
 821 02de FB79     	 ldrb r3,[r7,#7]
 822 02e0 9B00     	 lsls r3,r3,#2
 823 02e2 1344     	 add r3,r3,r2
 824 02e4 1B68     	 ldr r3,[r3]
 825 02e6 1B69     	 ldr r3,[r3,#16]
 826 02e8 002B     	 cmp r3,#0
 827 02ea 08D0     	 beq .L63
 406:../../../platform/common/services/usb/udc/udc.c **** 				udc_ptr_conf->udi_apis[iface_num]->sof_notify();
 828              	 .loc 1 406 0
 829 02ec 0C4B     	 ldr r3,.L66+4
 830 02ee 1B68     	 ldr r3,[r3]
 831 02f0 5A68     	 ldr r2,[r3,#4]
 832 02f2 FB79     	 ldrb r3,[r7,#7]
 833 02f4 9B00     	 lsls r3,r3,#2
 834 02f6 1344     	 add r3,r3,r2
 835 02f8 1B68     	 ldr r3,[r3]
 836 02fa 1B69     	 ldr r3,[r3,#16]
 837 02fc 9847     	 blx r3
 838              	.LVL7:
 839              	.L63:
 404:../../../platform/common/services/usb/udc/udc.c **** 			if (udc_ptr_conf->udi_apis[iface_num]->sof_notify != NULL) {
 840              	 .loc 1 404 0
 841 02fe FB79     	 ldrb r3,[r7,#7]
 842 0300 0133     	 adds r3,r3,#1
 843 0302 FB71     	 strb r3,[r7,#7]
 844              	.L62:
 403:../../../platform/common/services/usb/udc/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 845              	 .loc 1 403 0 discriminator 1
 846 0304 064B     	 ldr r3,.L66+4
 847 0306 1B68     	 ldr r3,[r3]
 848 0308 1B68     	 ldr r3,[r3]
 849 030a 1B79     	 ldrb r3,[r3,#4]
 402:../../../platform/common/services/usb/udc/udc.c **** 				iface_num < udc_ptr_conf->desc->bNumInterfaces;
 850              	 .loc 1 402 0 discriminator 1
 851 030c FA79     	 ldrb r2,[r7,#7]
 852 030e 9A42     	 cmp r2,r3
 853 0310 E2D3     	 bcc .L64
 854              	.L65:
 407:../../../platform/common/services/usb/udc/udc.c **** 			}
 408:../../../platform/common/services/usb/udc/udc.c **** 		}
 409:../../../platform/common/services/usb/udc/udc.c **** 	}
 410:../../../platform/common/services/usb/udc/udc.c **** }
 855              	 .loc 1 410 0
 856 0312 00BF     	 nop
 857 0314 0837     	 adds r7,r7,#8
 858              	.LCFI40:
 859              	 .cfi_def_cfa_offset 8
 860 0316 BD46     	 mov sp,r7
 861              	.LCFI41:
 862              	 .cfi_def_cfa_register 13
 863              	 
 864 0318 80BD     	 pop {r7,pc}
 865              	.L67:
 866 031a 00BF     	 .align 2
 867              	.L66:
 868 031c 00000000 	 .word udc_num_configuration
 869 0320 00000000 	 .word udc_ptr_conf
 870              	 .cfi_endproc
 871              	.LFE135:
 873              	 .align 1
 874              	 .syntax unified
 875              	 .thumb
 876              	 .thumb_func
 877              	 .fpu softvfp
 879              	udc_req_std_dev_get_status:
 880              	.LFB136:
 411:../../../platform/common/services/usb/udc/udc.c **** 
 412:../../../platform/common/services/usb/udc/udc.c **** /**
 413:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to get device status
 414:../../../platform/common/services/usb/udc/udc.c ****  *
 415:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 416:../../../platform/common/services/usb/udc/udc.c ****  */
 417:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_get_status(void)
 418:../../../platform/common/services/usb/udc/udc.c **** {
 881              	 .loc 1 418 0
 882              	 .cfi_startproc
 883              	 
 884              	 
 885 0324 80B5     	 push {r7,lr}
 886              	.LCFI42:
 887              	 .cfi_def_cfa_offset 8
 888              	 .cfi_offset 7,-8
 889              	 .cfi_offset 14,-4
 890 0326 00AF     	 add r7,sp,#0
 891              	.LCFI43:
 892              	 .cfi_def_cfa_register 7
 419:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength != sizeof(udc_device_status)) {
 893              	 .loc 1 419 0
 894 0328 064B     	 ldr r3,.L71
 895 032a DB88     	 ldrh r3,[r3,#6]
 896 032c 022B     	 cmp r3,#2
 897 032e 01D0     	 beq .L69
 420:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 898              	 .loc 1 420 0
 899 0330 0023     	 movs r3,#0
 900 0332 04E0     	 b .L70
 901              	.L69:
 421:../../../platform/common/services/usb/udc/udc.c **** 	}
 422:../../../platform/common/services/usb/udc/udc.c **** 
 423:../../../platform/common/services/usb/udc/udc.c **** 	udd_set_setup_payload( (uint8_t *) & udc_device_status,
 902              	 .loc 1 423 0
 903 0334 0221     	 movs r1,#2
 904 0336 0448     	 ldr r0,.L71+4
 905 0338 044B     	 ldr r3,.L71+8
 906 033a 9847     	 blx r3
 907              	.LVL8:
 424:../../../platform/common/services/usb/udc/udc.c **** 			sizeof(udc_device_status));
 425:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 908              	 .loc 1 425 0
 909 033c 0123     	 movs r3,#1
 910              	.L70:
 426:../../../platform/common/services/usb/udc/udc.c **** }
 911              	 .loc 1 426 0
 912 033e 1846     	 mov r0,r3
 913 0340 80BD     	 pop {r7,pc}
 914              	.L72:
 915 0342 00BF     	 .align 2
 916              	.L71:
 917 0344 00000000 	 .word udd_g_ctrlreq
 918 0348 00000000 	 .word udc_device_status
 919 034c 00000000 	 .word udd_set_setup_payload
 920              	 .cfi_endproc
 921              	.LFE136:
 923              	 .align 1
 924              	 .syntax unified
 925              	 .thumb
 926              	 .thumb_func
 927              	 .fpu softvfp
 929              	udc_req_std_ep_get_status:
 930              	.LFB137:
 427:../../../platform/common/services/usb/udc/udc.c **** 
 428:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 429:../../../platform/common/services/usb/udc/udc.c **** /**
 430:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard endpoint request to get endpoint status
 431:../../../platform/common/services/usb/udc/udc.c ****  *
 432:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 433:../../../platform/common/services/usb/udc/udc.c ****  */
 434:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_ep_get_status(void)
 435:../../../platform/common/services/usb/udc/udc.c **** {
 931              	 .loc 1 435 0
 932              	 .cfi_startproc
 933              	 
 934              	 
 935 0350 80B5     	 push {r7,lr}
 936              	.LCFI44:
 937              	 .cfi_def_cfa_offset 8
 938              	 .cfi_offset 7,-8
 939              	 .cfi_offset 14,-4
 940 0352 00AF     	 add r7,sp,#0
 941              	.LCFI45:
 942              	 .cfi_def_cfa_register 7
 436:../../../platform/common/services/usb/udc/udc.c **** 	static le16_t udc_ep_status;
 437:../../../platform/common/services/usb/udc/udc.c **** 
 438:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength != sizeof(udc_ep_status)) {
 943              	 .loc 1 438 0
 944 0354 0B4B     	 ldr r3,.L76
 945 0356 DB88     	 ldrh r3,[r3,#6]
 946 0358 022B     	 cmp r3,#2
 947 035a 01D0     	 beq .L74
 439:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 948              	 .loc 1 439 0
 949 035c 0023     	 movs r3,#0
 950 035e 0EE0     	 b .L75
 951              	.L74:
 440:../../../platform/common/services/usb/udc/udc.c **** 	}
 441:../../../platform/common/services/usb/udc/udc.c **** 
 442:../../../platform/common/services/usb/udc/udc.c **** 	udc_ep_status = udd_ep_is_halted(udd_g_ctrlreq.req.
 952              	 .loc 1 442 0
 953 0360 084B     	 ldr r3,.L76
 954 0362 9B88     	 ldrh r3,[r3,#4]
 955 0364 DBB2     	 uxtb r3,r3
 956 0366 1846     	 mov r0,r3
 957 0368 074B     	 ldr r3,.L76+4
 958 036a 9847     	 blx r3
 959              	.LVL9:
 960 036c 0346     	 mov r3,r0
 443:../../../platform/common/services/usb/udc/udc.c **** 			wIndex & 0xFF) ? CPU_TO_LE16(USB_EP_STATUS_HALTED) : 0;
 961              	 .loc 1 443 0
 962 036e 9AB2     	 uxth r2,r3
 442:../../../platform/common/services/usb/udc/udc.c **** 			wIndex & 0xFF) ? CPU_TO_LE16(USB_EP_STATUS_HALTED) : 0;
 963              	 .loc 1 442 0
 964 0370 064B     	 ldr r3,.L76+8
 965 0372 1A80     	 strh r2,[r3]
 444:../../../platform/common/services/usb/udc/udc.c **** 
 445:../../../platform/common/services/usb/udc/udc.c **** 	udd_set_setup_payload( (uint8_t *) & udc_ep_status,
 966              	 .loc 1 445 0
 967 0374 0221     	 movs r1,#2
 968 0376 0548     	 ldr r0,.L76+8
 969 0378 054B     	 ldr r3,.L76+12
 970 037a 9847     	 blx r3
 971              	.LVL10:
 446:../../../platform/common/services/usb/udc/udc.c **** 			sizeof(udc_ep_status));
 447:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 972              	 .loc 1 447 0
 973 037c 0123     	 movs r3,#1
 974              	.L75:
 448:../../../platform/common/services/usb/udc/udc.c **** }
 975              	 .loc 1 448 0
 976 037e 1846     	 mov r0,r3
 977 0380 80BD     	 pop {r7,pc}
 978              	.L77:
 979 0382 00BF     	 .align 2
 980              	.L76:
 981 0384 00000000 	 .word udd_g_ctrlreq
 982 0388 00000000 	 .word udd_ep_is_halted
 983 038c 00000000 	 .word udc_ep_status.8256
 984 0390 00000000 	 .word udd_set_setup_payload
 985              	 .cfi_endproc
 986              	.LFE137:
 988              	 .align 1
 989              	 .syntax unified
 990              	 .thumb
 991              	 .thumb_func
 992              	 .fpu softvfp
 994              	udc_req_std_dev_clear_feature:
 995              	.LFB138:
 449:../../../platform/common/services/usb/udc/udc.c **** #endif
 450:../../../platform/common/services/usb/udc/udc.c **** 
 451:../../../platform/common/services/usb/udc/udc.c **** /**
 452:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to change device status
 453:../../../platform/common/services/usb/udc/udc.c ****  *
 454:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 455:../../../platform/common/services/usb/udc/udc.c ****  */
 456:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_clear_feature(void)
 457:../../../platform/common/services/usb/udc/udc.c **** {
 996              	 .loc 1 457 0
 997              	 .cfi_startproc
 998              	 
 999              	 
 1000              	 
 1001 0394 80B4     	 push {r7}
 1002              	.LCFI46:
 1003              	 .cfi_def_cfa_offset 4
 1004              	 .cfi_offset 7,-4
 1005 0396 00AF     	 add r7,sp,#0
 1006              	.LCFI47:
 1007              	 .cfi_def_cfa_register 7
 458:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1008              	 .loc 1 458 0
 1009 0398 0B4B     	 ldr r3,.L82
 1010 039a DB88     	 ldrh r3,[r3,#6]
 1011 039c 002B     	 cmp r3,#0
 1012 039e 01D0     	 beq .L79
 459:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1013              	 .loc 1 459 0
 1014 03a0 0023     	 movs r3,#0
 1015 03a2 0DE0     	 b .L80
 1016              	.L79:
 460:../../../platform/common/services/usb/udc/udc.c **** 	}
 461:../../../platform/common/services/usb/udc/udc.c **** 
 462:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_DEV_FEATURE_REMOTE_WAKEUP) {
 1017              	 .loc 1 462 0
 1018 03a4 084B     	 ldr r3,.L82
 1019 03a6 5B88     	 ldrh r3,[r3,#2]
 1020 03a8 012B     	 cmp r3,#1
 1021 03aa 08D1     	 bne .L81
 463:../../../platform/common/services/usb/udc/udc.c **** 		udc_device_status &= CPU_TO_LE16(~(uint32_t)USB_DEV_STATUS_REMOTEWAKEUP);
 1022              	 .loc 1 463 0
 1023 03ac 074B     	 ldr r3,.L82+4
 1024 03ae 1B88     	 ldrh r3,[r3]
 1025 03b0 23F00203 	 bic r3,r3,#2
 1026 03b4 9AB2     	 uxth r2,r3
 1027 03b6 054B     	 ldr r3,.L82+4
 1028 03b8 1A80     	 strh r2,[r3]
 464:../../../platform/common/services/usb/udc/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 465:../../../platform/common/services/usb/udc/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 466:../../../platform/common/services/usb/udc/udc.c **** 		UDC_REMOTEWAKEUP_DISABLE();
 467:../../../platform/common/services/usb/udc/udc.c **** #endif
 468:../../../platform/common/services/usb/udc/udc.c **** 		return true;
 1029              	 .loc 1 468 0
 1030 03ba 0123     	 movs r3,#1
 1031 03bc 00E0     	 b .L80
 1032              	.L81:
 469:../../../platform/common/services/usb/udc/udc.c **** 	}
 470:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 1033              	 .loc 1 470 0
 1034 03be 0023     	 movs r3,#0
 1035              	.L80:
 471:../../../platform/common/services/usb/udc/udc.c **** }
 1036              	 .loc 1 471 0
 1037 03c0 1846     	 mov r0,r3
 1038 03c2 BD46     	 mov sp,r7
 1039              	.LCFI48:
 1040              	 .cfi_def_cfa_register 13
 1041              	 
 1042 03c4 80BC     	 pop {r7}
 1043              	.LCFI49:
 1044              	 .cfi_restore 7
 1045              	 .cfi_def_cfa_offset 0
 1046 03c6 7047     	 bx lr
 1047              	.L83:
 1048              	 .align 2
 1049              	.L82:
 1050 03c8 00000000 	 .word udd_g_ctrlreq
 1051 03cc 00000000 	 .word udc_device_status
 1052              	 .cfi_endproc
 1053              	.LFE138:
 1055              	 .align 1
 1056              	 .syntax unified
 1057              	 .thumb
 1058              	 .thumb_func
 1059              	 .fpu softvfp
 1061              	udc_req_std_ep_clear_feature:
 1062              	.LFB139:
 472:../../../platform/common/services/usb/udc/udc.c **** 
 473:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 474:../../../platform/common/services/usb/udc/udc.c **** /**
 475:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard endpoint request to clear endpoint feature
 476:../../../platform/common/services/usb/udc/udc.c ****  *
 477:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 478:../../../platform/common/services/usb/udc/udc.c ****  */
 479:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_ep_clear_feature(void)
 480:../../../platform/common/services/usb/udc/udc.c **** {
 1063              	 .loc 1 480 0
 1064              	 .cfi_startproc
 1065              	 
 1066              	 
 1067 03d0 80B5     	 push {r7,lr}
 1068              	.LCFI50:
 1069              	 .cfi_def_cfa_offset 8
 1070              	 .cfi_offset 7,-8
 1071              	 .cfi_offset 14,-4
 1072 03d2 00AF     	 add r7,sp,#0
 1073              	.LCFI51:
 1074              	 .cfi_def_cfa_register 7
 481:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1075              	 .loc 1 481 0
 1076 03d4 0A4B     	 ldr r3,.L88
 1077 03d6 DB88     	 ldrh r3,[r3,#6]
 1078 03d8 002B     	 cmp r3,#0
 1079 03da 01D0     	 beq .L85
 482:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1080              	 .loc 1 482 0
 1081 03dc 0023     	 movs r3,#0
 1082 03de 0CE0     	 b .L86
 1083              	.L85:
 483:../../../platform/common/services/usb/udc/udc.c **** 	}
 484:../../../platform/common/services/usb/udc/udc.c **** 
 485:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_EP_FEATURE_HALT) {
 1084              	 .loc 1 485 0
 1085 03e0 074B     	 ldr r3,.L88
 1086 03e2 5B88     	 ldrh r3,[r3,#2]
 1087 03e4 002B     	 cmp r3,#0
 1088 03e6 07D1     	 bne .L87
 486:../../../platform/common/services/usb/udc/udc.c **** 		return udd_ep_clear_halt(udd_g_ctrlreq.req.wIndex & 0xFF);
 1089              	 .loc 1 486 0
 1090 03e8 054B     	 ldr r3,.L88
 1091 03ea 9B88     	 ldrh r3,[r3,#4]
 1092 03ec DBB2     	 uxtb r3,r3
 1093 03ee 1846     	 mov r0,r3
 1094 03f0 044B     	 ldr r3,.L88+4
 1095 03f2 9847     	 blx r3
 1096              	.LVL11:
 1097 03f4 0346     	 mov r3,r0
 1098 03f6 00E0     	 b .L86
 1099              	.L87:
 487:../../../platform/common/services/usb/udc/udc.c **** 	}
 488:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 1100              	 .loc 1 488 0
 1101 03f8 0023     	 movs r3,#0
 1102              	.L86:
 489:../../../platform/common/services/usb/udc/udc.c **** }
 1103              	 .loc 1 489 0
 1104 03fa 1846     	 mov r0,r3
 1105 03fc 80BD     	 pop {r7,pc}
 1106              	.L89:
 1107 03fe 00BF     	 .align 2
 1108              	.L88:
 1109 0400 00000000 	 .word udd_g_ctrlreq
 1110 0404 00000000 	 .word udd_ep_clear_halt
 1111              	 .cfi_endproc
 1112              	.LFE139:
 1114              	 .align 1
 1115              	 .syntax unified
 1116              	 .thumb
 1117              	 .thumb_func
 1118              	 .fpu softvfp
 1120              	udc_req_std_dev_set_feature:
 1121              	.LFB140:
 490:../../../platform/common/services/usb/udc/udc.c **** #endif
 491:../../../platform/common/services/usb/udc/udc.c **** 
 492:../../../platform/common/services/usb/udc/udc.c **** /**
 493:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to set a feature
 494:../../../platform/common/services/usb/udc/udc.c ****  *
 495:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 496:../../../platform/common/services/usb/udc/udc.c ****  */
 497:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_set_feature(void)
 498:../../../platform/common/services/usb/udc/udc.c **** {
 1122              	 .loc 1 498 0
 1123              	 .cfi_startproc
 1124              	 
 1125              	 
 1126              	 
 1127 0408 80B4     	 push {r7}
 1128              	.LCFI52:
 1129              	 .cfi_def_cfa_offset 4
 1130              	 .cfi_offset 7,-4
 1131 040a 00AF     	 add r7,sp,#0
 1132              	.LCFI53:
 1133              	 .cfi_def_cfa_register 7
 499:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1134              	 .loc 1 499 0
 1135 040c 084B     	 ldr r3,.L96
 1136 040e DB88     	 ldrh r3,[r3,#6]
 1137 0410 002B     	 cmp r3,#0
 1138 0412 01D0     	 beq .L91
 500:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1139              	 .loc 1 500 0
 1140 0414 0023     	 movs r3,#0
 1141 0416 07E0     	 b .L92
 1142              	.L91:
 501:../../../platform/common/services/usb/udc/udc.c **** 	}
 502:../../../platform/common/services/usb/udc/udc.c **** 
 503:../../../platform/common/services/usb/udc/udc.c **** 	switch (udd_g_ctrlreq.req.wValue) {
 1143              	 .loc 1 503 0
 1144 0418 054B     	 ldr r3,.L96
 1145 041a 5B88     	 ldrh r3,[r3,#2]
 1146 041c 012B     	 cmp r3,#1
 1147 041e 02D0     	 beq .L94
 504:../../../platform/common/services/usb/udc/udc.c **** 
 505:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DEV_FEATURE_REMOTE_WAKEUP:
 506:../../../platform/common/services/usb/udc/udc.c **** #if (USB_CONFIG_ATTR_REMOTE_WAKEUP \
 507:../../../platform/common/services/usb/udc/udc.c **** 	== (USB_DEVICE_ATTR & USB_CONFIG_ATTR_REMOTE_WAKEUP))
 508:../../../platform/common/services/usb/udc/udc.c **** 		udc_device_status |= CPU_TO_LE16(USB_DEV_STATUS_REMOTEWAKEUP);
 509:../../../platform/common/services/usb/udc/udc.c **** 		UDC_REMOTEWAKEUP_ENABLE();
 510:../../../platform/common/services/usb/udc/udc.c **** 		return true;
 511:../../../platform/common/services/usb/udc/udc.c **** #else
 512:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 513:../../../platform/common/services/usb/udc/udc.c **** #endif
 514:../../../platform/common/services/usb/udc/udc.c **** 
 515:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 516:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DEV_FEATURE_TEST_MODE:
 517:../../../platform/common/services/usb/udc/udc.c **** 		if (!udd_is_high_speed()) {
 518:../../../platform/common/services/usb/udc/udc.c **** 			break;
 519:../../../platform/common/services/usb/udc/udc.c **** 		}
 520:../../../platform/common/services/usb/udc/udc.c **** 		if (udd_g_ctrlreq.req.wIndex & 0xff) {
 521:../../../platform/common/services/usb/udc/udc.c **** 			break;
 522:../../../platform/common/services/usb/udc/udc.c **** 		}
 523:../../../platform/common/services/usb/udc/udc.c **** 		// Unconfigure the device, terminating all ongoing requests
 524:../../../platform/common/services/usb/udc/udc.c **** 		udc_reset();
 525:../../../platform/common/services/usb/udc/udc.c **** 		switch ((udd_g_ctrlreq.req.wIndex >> 8) & 0xFF) {
 526:../../../platform/common/services/usb/udc/udc.c **** 		case USB_DEV_TEST_MODE_J:
 527:../../../platform/common/services/usb/udc/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_j;
 528:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 529:../../../platform/common/services/usb/udc/udc.c **** 
 530:../../../platform/common/services/usb/udc/udc.c **** 		case USB_DEV_TEST_MODE_K:
 531:../../../platform/common/services/usb/udc/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_k;
 532:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 533:../../../platform/common/services/usb/udc/udc.c **** 
 534:../../../platform/common/services/usb/udc/udc.c **** 		case USB_DEV_TEST_MODE_SE0_NAK:
 535:../../../platform/common/services/usb/udc/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_se0_nak;
 536:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 537:../../../platform/common/services/usb/udc/udc.c **** 
 538:../../../platform/common/services/usb/udc/udc.c **** 		case USB_DEV_TEST_MODE_PACKET:
 539:../../../platform/common/services/usb/udc/udc.c **** 			udd_g_ctrlreq.callback = udd_test_mode_packet;
 540:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 541:../../../platform/common/services/usb/udc/udc.c **** 
 542:../../../platform/common/services/usb/udc/udc.c **** 		case USB_DEV_TEST_MODE_FORCE_ENABLE: // Only for downstream facing hub ports
 543:../../../platform/common/services/usb/udc/udc.c **** 		default:
 544:../../../platform/common/services/usb/udc/udc.c **** 			break;
 545:../../../platform/common/services/usb/udc/udc.c **** 		}
 546:../../../platform/common/services/usb/udc/udc.c **** 		break;
 547:../../../platform/common/services/usb/udc/udc.c **** #endif
 548:../../../platform/common/services/usb/udc/udc.c **** 	default:
 549:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1148              	 .loc 1 549 0
 1149 0420 00BF     	 nop
 550:../../../platform/common/services/usb/udc/udc.c **** 	}
 551:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 1150              	 .loc 1 551 0
 1151 0422 0023     	 movs r3,#0
 1152 0424 00E0     	 b .L92
 1153              	.L94:
 512:../../../platform/common/services/usb/udc/udc.c **** #endif
 1154              	 .loc 1 512 0
 1155 0426 0023     	 movs r3,#0
 1156              	.L92:
 552:../../../platform/common/services/usb/udc/udc.c **** }
 1157              	 .loc 1 552 0
 1158 0428 1846     	 mov r0,r3
 1159 042a BD46     	 mov sp,r7
 1160              	.LCFI54:
 1161              	 .cfi_def_cfa_register 13
 1162              	 
 1163 042c 80BC     	 pop {r7}
 1164              	.LCFI55:
 1165              	 .cfi_restore 7
 1166              	 .cfi_def_cfa_offset 0
 1167 042e 7047     	 bx lr
 1168              	.L97:
 1169              	 .align 2
 1170              	.L96:
 1171 0430 00000000 	 .word udd_g_ctrlreq
 1172              	 .cfi_endproc
 1173              	.LFE140:
 1175              	 .align 1
 1176              	 .syntax unified
 1177              	 .thumb
 1178              	 .thumb_func
 1179              	 .fpu softvfp
 1181              	udc_req_std_ep_set_feature:
 1182              	.LFB141:
 553:../../../platform/common/services/usb/udc/udc.c **** 
 554:../../../platform/common/services/usb/udc/udc.c **** /**
 555:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard endpoint request to halt an endpoint
 556:../../../platform/common/services/usb/udc/udc.c ****  *
 557:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 558:../../../platform/common/services/usb/udc/udc.c ****  */
 559:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 560:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_ep_set_feature(void)
 561:../../../platform/common/services/usb/udc/udc.c **** {
 1183              	 .loc 1 561 0
 1184              	 .cfi_startproc
 1185              	 
 1186              	 
 1187 0434 80B5     	 push {r7,lr}
 1188              	.LCFI56:
 1189              	 .cfi_def_cfa_offset 8
 1190              	 .cfi_offset 7,-8
 1191              	 .cfi_offset 14,-4
 1192 0436 00AF     	 add r7,sp,#0
 1193              	.LCFI57:
 1194              	 .cfi_def_cfa_register 7
 562:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1195              	 .loc 1 562 0
 1196 0438 0D4B     	 ldr r3,.L102
 1197 043a DB88     	 ldrh r3,[r3,#6]
 1198 043c 002B     	 cmp r3,#0
 1199 043e 01D0     	 beq .L99
 563:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1200              	 .loc 1 563 0
 1201 0440 0023     	 movs r3,#0
 1202 0442 12E0     	 b .L100
 1203              	.L99:
 564:../../../platform/common/services/usb/udc/udc.c **** 	}
 565:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wValue == USB_EP_FEATURE_HALT) {
 1204              	 .loc 1 565 0
 1205 0444 0A4B     	 ldr r3,.L102
 1206 0446 5B88     	 ldrh r3,[r3,#2]
 1207 0448 002B     	 cmp r3,#0
 1208 044a 0DD1     	 bne .L101
 566:../../../platform/common/services/usb/udc/udc.c **** 		udd_ep_abort(udd_g_ctrlreq.req.wIndex & 0xFF);
 1209              	 .loc 1 566 0
 1210 044c 084B     	 ldr r3,.L102
 1211 044e 9B88     	 ldrh r3,[r3,#4]
 1212 0450 DBB2     	 uxtb r3,r3
 1213 0452 1846     	 mov r0,r3
 1214 0454 074B     	 ldr r3,.L102+4
 1215 0456 9847     	 blx r3
 1216              	.LVL12:
 567:../../../platform/common/services/usb/udc/udc.c **** 		return udd_ep_set_halt(udd_g_ctrlreq.req.wIndex & 0xFF);
 1217              	 .loc 1 567 0
 1218 0458 054B     	 ldr r3,.L102
 1219 045a 9B88     	 ldrh r3,[r3,#4]
 1220 045c DBB2     	 uxtb r3,r3
 1221 045e 1846     	 mov r0,r3
 1222 0460 054B     	 ldr r3,.L102+8
 1223 0462 9847     	 blx r3
 1224              	.LVL13:
 1225 0464 0346     	 mov r3,r0
 1226 0466 00E0     	 b .L100
 1227              	.L101:
 568:../../../platform/common/services/usb/udc/udc.c **** 	}
 569:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 1228              	 .loc 1 569 0
 1229 0468 0023     	 movs r3,#0
 1230              	.L100:
 570:../../../platform/common/services/usb/udc/udc.c **** }
 1231              	 .loc 1 570 0
 1232 046a 1846     	 mov r0,r3
 1233 046c 80BD     	 pop {r7,pc}
 1234              	.L103:
 1235 046e 00BF     	 .align 2
 1236              	.L102:
 1237 0470 00000000 	 .word udd_g_ctrlreq
 1238 0474 00000000 	 .word udd_ep_abort
 1239 0478 00000000 	 .word udd_ep_set_halt
 1240              	 .cfi_endproc
 1241              	.LFE141:
 1243              	 .align 1
 1244              	 .syntax unified
 1245              	 .thumb
 1246              	 .thumb_func
 1247              	 .fpu softvfp
 1249              	udc_valid_address:
 1250              	.LFB142:
 571:../../../platform/common/services/usb/udc/udc.c **** #endif
 572:../../../platform/common/services/usb/udc/udc.c **** 
 573:../../../platform/common/services/usb/udc/udc.c **** /**
 574:../../../platform/common/services/usb/udc/udc.c ****  * \brief Change the address of device
 575:../../../platform/common/services/usb/udc/udc.c ****  * Callback called at the end of request set address
 576:../../../platform/common/services/usb/udc/udc.c ****  */
 577:../../../platform/common/services/usb/udc/udc.c **** static void udc_valid_address(void)
 578:../../../platform/common/services/usb/udc/udc.c **** {
 1251              	 .loc 1 578 0
 1252              	 .cfi_startproc
 1253              	 
 1254              	 
 1255 047c 80B5     	 push {r7,lr}
 1256              	.LCFI58:
 1257              	 .cfi_def_cfa_offset 8
 1258              	 .cfi_offset 7,-8
 1259              	 .cfi_offset 14,-4
 1260 047e 00AF     	 add r7,sp,#0
 1261              	.LCFI59:
 1262              	 .cfi_def_cfa_register 7
 579:../../../platform/common/services/usb/udc/udc.c **** 	udd_set_address(udd_g_ctrlreq.req.wValue & 0x7F);
 1263              	 .loc 1 579 0
 1264 0480 054B     	 ldr r3,.L105
 1265 0482 5B88     	 ldrh r3,[r3,#2]
 1266 0484 DBB2     	 uxtb r3,r3
 1267 0486 03F07F03 	 and r3,r3,#127
 1268 048a DBB2     	 uxtb r3,r3
 1269 048c 1846     	 mov r0,r3
 1270 048e 034B     	 ldr r3,.L105+4
 1271 0490 9847     	 blx r3
 1272              	.LVL14:
 580:../../../platform/common/services/usb/udc/udc.c **** }
 1273              	 .loc 1 580 0
 1274 0492 00BF     	 nop
 1275 0494 80BD     	 pop {r7,pc}
 1276              	.L106:
 1277 0496 00BF     	 .align 2
 1278              	.L105:
 1279 0498 00000000 	 .word udd_g_ctrlreq
 1280 049c 00000000 	 .word udd_set_address
 1281              	 .cfi_endproc
 1282              	.LFE142:
 1284              	 .align 1
 1285              	 .syntax unified
 1286              	 .thumb
 1287              	 .thumb_func
 1288              	 .fpu softvfp
 1290              	udc_req_std_dev_set_address:
 1291              	.LFB143:
 581:../../../platform/common/services/usb/udc/udc.c **** 
 582:../../../platform/common/services/usb/udc/udc.c **** /**
 583:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to set device address
 584:../../../platform/common/services/usb/udc/udc.c ****  *
 585:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 586:../../../platform/common/services/usb/udc/udc.c ****  */
 587:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_set_address(void)
 588:../../../platform/common/services/usb/udc/udc.c **** {
 1292              	 .loc 1 588 0
 1293              	 .cfi_startproc
 1294              	 
 1295              	 
 1296              	 
 1297 04a0 80B4     	 push {r7}
 1298              	.LCFI60:
 1299              	 .cfi_def_cfa_offset 4
 1300              	 .cfi_offset 7,-4
 1301 04a2 00AF     	 add r7,sp,#0
 1302              	.LCFI61:
 1303              	 .cfi_def_cfa_register 7
 589:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1304              	 .loc 1 589 0
 1305 04a4 064B     	 ldr r3,.L110
 1306 04a6 DB88     	 ldrh r3,[r3,#6]
 1307 04a8 002B     	 cmp r3,#0
 1308 04aa 01D0     	 beq .L108
 590:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1309              	 .loc 1 590 0
 1310 04ac 0023     	 movs r3,#0
 1311 04ae 03E0     	 b .L109
 1312              	.L108:
 591:../../../platform/common/services/usb/udc/udc.c **** 	}
 592:../../../platform/common/services/usb/udc/udc.c **** 
 593:../../../platform/common/services/usb/udc/udc.c **** 	// The address must be changed at the end of setup request after the handshake
 594:../../../platform/common/services/usb/udc/udc.c **** 	// then we use a callback to change address
 595:../../../platform/common/services/usb/udc/udc.c **** 	udd_g_ctrlreq.callback = udc_valid_address;
 1313              	 .loc 1 595 0
 1314 04b0 034B     	 ldr r3,.L110
 1315 04b2 044A     	 ldr r2,.L110+4
 1316 04b4 1A61     	 str r2,[r3,#16]
 596:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1317              	 .loc 1 596 0
 1318 04b6 0123     	 movs r3,#1
 1319              	.L109:
 597:../../../platform/common/services/usb/udc/udc.c **** }
 1320              	 .loc 1 597 0
 1321 04b8 1846     	 mov r0,r3
 1322 04ba BD46     	 mov sp,r7
 1323              	.LCFI62:
 1324              	 .cfi_def_cfa_register 13
 1325              	 
 1326 04bc 80BC     	 pop {r7}
 1327              	.LCFI63:
 1328              	 .cfi_restore 7
 1329              	 .cfi_def_cfa_offset 0
 1330 04be 7047     	 bx lr
 1331              	.L111:
 1332              	 .align 2
 1333              	.L110:
 1334 04c0 00000000 	 .word udd_g_ctrlreq
 1335 04c4 00000000 	 .word udc_valid_address
 1336              	 .cfi_endproc
 1337              	.LFE143:
 1339              	 .align 1
 1340              	 .syntax unified
 1341              	 .thumb
 1342              	 .thumb_func
 1343              	 .fpu softvfp
 1345              	udc_req_std_dev_get_str_desc:
 1346              	.LFB144:
 598:../../../platform/common/services/usb/udc/udc.c **** 
 599:../../../platform/common/services/usb/udc/udc.c **** /**
 600:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to get device string descriptor
 601:../../../platform/common/services/usb/udc/udc.c ****  *
 602:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 603:../../../platform/common/services/usb/udc/udc.c ****  */
 604:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_get_str_desc(void)
 605:../../../platform/common/services/usb/udc/udc.c **** {
 1347              	 .loc 1 605 0
 1348              	 .cfi_startproc
 1349              	 
 1350              	 
 1351 04c8 80B5     	 push {r7,lr}
 1352              	.LCFI64:
 1353              	 .cfi_def_cfa_offset 8
 1354              	 .cfi_offset 7,-8
 1355              	 .cfi_offset 14,-4
 1356 04ca 84B0     	 sub sp,sp,#16
 1357              	.LCFI65:
 1358              	 .cfi_def_cfa_offset 24
 1359 04cc 00AF     	 add r7,sp,#0
 1360              	.LCFI66:
 1361              	 .cfi_def_cfa_register 7
 606:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t i;
 607:../../../platform/common/services/usb/udc/udc.c **** 	const uint8_t *str;
 608:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t str_length = 0;
 1362              	 .loc 1 608 0
 1363 04ce 0023     	 movs r3,#0
 1364 04d0 FB71     	 strb r3,[r7,#7]
 609:../../../platform/common/services/usb/udc/udc.c **** 
 610:../../../platform/common/services/usb/udc/udc.c **** 	// Link payload pointer to the string corresponding at request
 611:../../../platform/common/services/usb/udc/udc.c **** 	switch (udd_g_ctrlreq.req.wValue & 0xff) {
 1365              	 .loc 1 611 0
 1366 04d2 224B     	 ldr r3,.L123
 1367 04d4 5B88     	 ldrh r3,[r3,#2]
 1368 04d6 DBB2     	 uxtb r3,r3
 1369 04d8 012B     	 cmp r3,#1
 1370 04da 08D0     	 beq .L114
 1371 04dc 022B     	 cmp r3,#2
 1372 04de 0BD0     	 beq .L115
 1373 04e0 002B     	 cmp r3,#0
 1374 04e2 0ED1     	 bne .L122
 612:../../../platform/common/services/usb/udc/udc.c **** 	case 0:
 613:../../../platform/common/services/usb/udc/udc.c **** 		udd_set_setup_payload((uint8_t *) &udc_string_desc_languageid,
 1375              	 .loc 1 613 0
 1376 04e4 0421     	 movs r1,#4
 1377 04e6 1E48     	 ldr r0,.L123+4
 1378 04e8 1E4B     	 ldr r3,.L123+8
 1379 04ea 9847     	 blx r3
 1380              	.LVL15:
 614:../../../platform/common/services/usb/udc/udc.c **** 				sizeof(udc_string_desc_languageid));
 615:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1381              	 .loc 1 615 0
 1382 04ec 0BE0     	 b .L117
 1383              	.L114:
 616:../../../platform/common/services/usb/udc/udc.c **** 
 617:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_MANUFACTURE_NAME
 618:../../../platform/common/services/usb/udc/udc.c **** 	case 1:
 619:../../../platform/common/services/usb/udc/udc.c **** 		str_length = USB_DEVICE_MANUFACTURE_NAME_SIZE;
 1384              	 .loc 1 619 0
 1385 04ee 0523     	 movs r3,#5
 1386 04f0 FB71     	 strb r3,[r7,#7]
 620:../../../platform/common/services/usb/udc/udc.c **** 		str = udc_string_manufacturer_name;
 1387              	 .loc 1 620 0
 1388 04f2 1D4B     	 ldr r3,.L123+12
 1389 04f4 BB60     	 str r3,[r7,#8]
 621:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1390              	 .loc 1 621 0
 1391 04f6 06E0     	 b .L117
 1392              	.L115:
 622:../../../platform/common/services/usb/udc/udc.c **** #endif
 623:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_PRODUCT_NAME
 624:../../../platform/common/services/usb/udc/udc.c **** 	case 2:
 625:../../../platform/common/services/usb/udc/udc.c **** 		str_length = USB_DEVICE_PRODUCT_NAME_SIZE;
 1393              	 .loc 1 625 0
 1394 04f8 2623     	 movs r3,#38
 1395 04fa FB71     	 strb r3,[r7,#7]
 626:../../../platform/common/services/usb/udc/udc.c **** 		str = udc_string_product_name;
 1396              	 .loc 1 626 0
 1397 04fc 1B4B     	 ldr r3,.L123+16
 1398 04fe BB60     	 str r3,[r7,#8]
 627:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1399              	 .loc 1 627 0
 1400 0500 01E0     	 b .L117
 1401              	.L122:
 628:../../../platform/common/services/usb/udc/udc.c **** #endif
 629:../../../platform/common/services/usb/udc/udc.c **** #if defined USB_DEVICE_SERIAL_NAME || defined USB_DEVICE_GET_SERIAL_NAME_POINTER
 630:../../../platform/common/services/usb/udc/udc.c **** 	case 3:
 631:../../../platform/common/services/usb/udc/udc.c **** 		str_length = USB_DEVICE_SERIAL_NAME_SIZE;
 632:../../../platform/common/services/usb/udc/udc.c **** 		str = udc_get_string_serial_name();
 633:../../../platform/common/services/usb/udc/udc.c **** 		break;
 634:../../../platform/common/services/usb/udc/udc.c **** #endif
 635:../../../platform/common/services/usb/udc/udc.c **** 	default:
 636:../../../platform/common/services/usb/udc/udc.c **** #ifdef UDC_GET_EXTRA_STRING
 637:../../../platform/common/services/usb/udc/udc.c **** 		if (UDC_GET_EXTRA_STRING()) {
 638:../../../platform/common/services/usb/udc/udc.c **** 			break;
 639:../../../platform/common/services/usb/udc/udc.c **** 		}
 640:../../../platform/common/services/usb/udc/udc.c **** #endif
 641:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1402              	 .loc 1 641 0
 1403 0502 0023     	 movs r3,#0
 1404 0504 26E0     	 b .L118
 1405              	.L117:
 642:../../../platform/common/services/usb/udc/udc.c **** 	}
 643:../../../platform/common/services/usb/udc/udc.c **** 
 644:../../../platform/common/services/usb/udc/udc.c **** 	if (str_length) {
 1406              	 .loc 1 644 0
 1407 0506 FB79     	 ldrb r3,[r7,#7]
 1408 0508 002B     	 cmp r3,#0
 1409 050a 22D0     	 beq .L119
 645:../../../platform/common/services/usb/udc/udc.c **** 		for(i = 0; i < str_length; i++) {
 1410              	 .loc 1 645 0
 1411 050c 0023     	 movs r3,#0
 1412 050e FB73     	 strb r3,[r7,#15]
 1413 0510 0DE0     	 b .L120
 1414              	.L121:
 646:../../../platform/common/services/usb/udc/udc.c **** 			udc_string_desc.string[i] = cpu_to_le16((le16_t)str[i]);
 1415              	 .loc 1 646 0 discriminator 3
 1416 0512 FB7B     	 ldrb r3,[r7,#15]
 1417 0514 FA7B     	 ldrb r2,[r7,#15]
 1418 0516 B968     	 ldr r1,[r7,#8]
 1419 0518 0A44     	 add r2,r2,r1
 1420 051a 1278     	 ldrb r2,[r2]
 1421 051c 91B2     	 uxth r1,r2
 1422 051e 144A     	 ldr r2,.L123+20
 1423 0520 5B00     	 lsls r3,r3,#1
 1424 0522 1344     	 add r3,r3,r2
 1425 0524 0A46     	 mov r2,r1
 1426 0526 5A80     	 strh r2,[r3,#2]
 645:../../../platform/common/services/usb/udc/udc.c **** 		for(i = 0; i < str_length; i++) {
 1427              	 .loc 1 645 0 discriminator 3
 1428 0528 FB7B     	 ldrb r3,[r7,#15]
 1429 052a 0133     	 adds r3,r3,#1
 1430 052c FB73     	 strb r3,[r7,#15]
 1431              	.L120:
 645:../../../platform/common/services/usb/udc/udc.c **** 		for(i = 0; i < str_length; i++) {
 1432              	 .loc 1 645 0 is_stmt 0 discriminator 1
 1433 052e FA7B     	 ldrb r2,[r7,#15]
 1434 0530 FB79     	 ldrb r3,[r7,#7]
 1435 0532 9A42     	 cmp r2,r3
 1436 0534 EDD3     	 bcc .L121
 647:../../../platform/common/services/usb/udc/udc.c **** 		}
 648:../../../platform/common/services/usb/udc/udc.c **** 
 649:../../../platform/common/services/usb/udc/udc.c **** 		udc_string_desc.header.bLength = 2 + (str_length) * 2;
 1437              	 .loc 1 649 0 is_stmt 1
 1438 0536 FB79     	 ldrb r3,[r7,#7]
 1439 0538 0133     	 adds r3,r3,#1
 1440 053a DBB2     	 uxtb r3,r3
 1441 053c 5B00     	 lsls r3,r3,#1
 1442 053e DAB2     	 uxtb r2,r3
 1443 0540 0B4B     	 ldr r3,.L123+20
 1444 0542 1A70     	 strb r2,[r3]
 650:../../../platform/common/services/usb/udc/udc.c **** 		udd_set_setup_payload(
 651:../../../platform/common/services/usb/udc/udc.c **** 			(uint8_t *) &udc_string_desc,
 652:../../../platform/common/services/usb/udc/udc.c **** 			udc_string_desc.header.bLength);
 1445              	 .loc 1 652 0
 1446 0544 0A4B     	 ldr r3,.L123+20
 1447 0546 1B78     	 ldrb r3,[r3]
 650:../../../platform/common/services/usb/udc/udc.c **** 		udd_set_setup_payload(
 1448              	 .loc 1 650 0
 1449 0548 9BB2     	 uxth r3,r3
 1450 054a 1946     	 mov r1,r3
 1451 054c 0848     	 ldr r0,.L123+20
 1452 054e 054B     	 ldr r3,.L123+8
 1453 0550 9847     	 blx r3
 1454              	.LVL16:
 1455              	.L119:
 653:../../../platform/common/services/usb/udc/udc.c **** 	}
 654:../../../platform/common/services/usb/udc/udc.c **** 
 655:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1456              	 .loc 1 655 0
 1457 0552 0123     	 movs r3,#1
 1458              	.L118:
 656:../../../platform/common/services/usb/udc/udc.c **** }
 1459              	 .loc 1 656 0
 1460 0554 1846     	 mov r0,r3
 1461 0556 1037     	 adds r7,r7,#16
 1462              	.LCFI67:
 1463              	 .cfi_def_cfa_offset 8
 1464 0558 BD46     	 mov sp,r7
 1465              	.LCFI68:
 1466              	 .cfi_def_cfa_register 13
 1467              	 
 1468 055a 80BD     	 pop {r7,pc}
 1469              	.L124:
 1470              	 .align 2
 1471              	.L123:
 1472 055c 00000000 	 .word udd_g_ctrlreq
 1473 0560 00000000 	 .word udc_string_desc_languageid
 1474 0564 00000000 	 .word udd_set_setup_payload
 1475 0568 00000000 	 .word udc_string_manufacturer_name
 1476 056c 00000000 	 .word udc_string_product_name
 1477 0570 00000000 	 .word udc_string_desc
 1478              	 .cfi_endproc
 1479              	.LFE144:
 1481              	 .align 1
 1482              	 .syntax unified
 1483              	 .thumb
 1484              	 .thumb_func
 1485              	 .fpu softvfp
 1487              	udc_req_std_dev_get_descriptor:
 1488              	.LFB145:
 657:../../../platform/common/services/usb/udc/udc.c **** 
 658:../../../platform/common/services/usb/udc/udc.c **** /**
 659:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to get descriptors about USB device
 660:../../../platform/common/services/usb/udc/udc.c ****  *
 661:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 662:../../../platform/common/services/usb/udc/udc.c ****  */
 663:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_get_descriptor(void)
 664:../../../platform/common/services/usb/udc/udc.c **** {
 1489              	 .loc 1 664 0
 1490              	 .cfi_startproc
 1491              	 
 1492              	 
 1493 0574 80B5     	 push {r7,lr}
 1494              	.LCFI69:
 1495              	 .cfi_def_cfa_offset 8
 1496              	 .cfi_offset 7,-8
 1497              	 .cfi_offset 14,-4
 1498 0576 82B0     	 sub sp,sp,#8
 1499              	.LCFI70:
 1500              	 .cfi_def_cfa_offset 16
 1501 0578 00AF     	 add r7,sp,#0
 1502              	.LCFI71:
 1503              	 .cfi_def_cfa_register 7
 665:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t conf_num;
 666:../../../platform/common/services/usb/udc/udc.c **** 
 667:../../../platform/common/services/usb/udc/udc.c **** 	conf_num = udd_g_ctrlreq.req.wValue & 0xff;
 1504              	 .loc 1 667 0
 1505 057a 294B     	 ldr r3,.L137
 1506 057c 5B88     	 ldrh r3,[r3,#2]
 1507 057e FB71     	 strb r3,[r7,#7]
 668:../../../platform/common/services/usb/udc/udc.c **** 
 669:../../../platform/common/services/usb/udc/udc.c **** 	// Check descriptor ID
 670:../../../platform/common/services/usb/udc/udc.c **** 	switch ((uint8_t) (udd_g_ctrlreq.req.wValue >> 8)) {
 1508              	 .loc 1 670 0
 1509 0580 274B     	 ldr r3,.L137
 1510 0582 5B88     	 ldrh r3,[r3,#2]
 1511 0584 1B0A     	 lsrs r3,r3,#8
 1512 0586 9BB2     	 uxth r3,r3
 1513 0588 DBB2     	 uxtb r3,r3
 1514 058a 022B     	 cmp r3,#2
 1515 058c 0ED0     	 beq .L127
 1516 058e 032B     	 cmp r3,#3
 1517 0590 2AD0     	 beq .L128
 1518 0592 012B     	 cmp r3,#1
 1519 0594 32D1     	 bne .L135
 671:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DT_DEVICE:
 672:../../../platform/common/services/usb/udc/udc.c **** 		// Device descriptor requested
 673:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 674:../../../platform/common/services/usb/udc/udc.c **** 		if (!udd_is_high_speed()) {
 675:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 676:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *) udc_config.confdev_hs,
 677:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.confdev_hs->bLength);
 678:../../../platform/common/services/usb/udc/udc.c **** 		} else
 679:../../../platform/common/services/usb/udc/udc.c **** #endif
 680:../../../platform/common/services/usb/udc/udc.c **** 		{
 681:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 682:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *) udc_config.confdev_lsfs,
 1520              	 .loc 1 682 0
 1521 0596 234B     	 ldr r3,.L137+4
 1522 0598 1A68     	 ldr r2,[r3]
 683:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.confdev_lsfs->bLength);
 1523              	 .loc 1 683 0
 1524 059a 224B     	 ldr r3,.L137+4
 1525 059c 1B68     	 ldr r3,[r3]
 1526 059e 1B78     	 ldrb r3,[r3]
 681:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *) udc_config.confdev_lsfs,
 1527              	 .loc 1 681 0
 1528 05a0 9BB2     	 uxth r3,r3
 1529 05a2 1946     	 mov r1,r3
 1530 05a4 1046     	 mov r0,r2
 1531 05a6 204B     	 ldr r3,.L137+8
 1532 05a8 9847     	 blx r3
 1533              	.LVL17:
 684:../../../platform/common/services/usb/udc/udc.c **** 		}
 685:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1534              	 .loc 1 685 0
 1535 05aa 2AE0     	 b .L130
 1536              	.L127:
 686:../../../platform/common/services/usb/udc/udc.c **** 
 687:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DT_CONFIGURATION:
 688:../../../platform/common/services/usb/udc/udc.c **** 		// Configuration descriptor requested
 689:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 690:../../../platform/common/services/usb/udc/udc.c **** 		if (udd_is_high_speed()) {
 691:../../../platform/common/services/usb/udc/udc.c **** 			// HS descriptor
 692:../../../platform/common/services/usb/udc/udc.c **** 			if (conf_num >= udc_config.confdev_hs->
 693:../../../platform/common/services/usb/udc/udc.c **** 					bNumConfigurations) {
 694:../../../platform/common/services/usb/udc/udc.c **** 				return false;
 695:../../../platform/common/services/usb/udc/udc.c **** 			}
 696:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 697:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 698:../../../platform/common/services/usb/udc/udc.c **** 				le16_to_cpu(udc_config.conf_hs[conf_num].desc->wTotalLength));
 699:../../../platform/common/services/usb/udc/udc.c **** 		} else
 700:../../../platform/common/services/usb/udc/udc.c **** #endif
 701:../../../platform/common/services/usb/udc/udc.c **** 		{
 702:../../../platform/common/services/usb/udc/udc.c **** 			// FS descriptor
 703:../../../platform/common/services/usb/udc/udc.c **** 			if (conf_num >= udc_config.confdev_lsfs->
 1537              	 .loc 1 703 0
 1538 05ac 1D4B     	 ldr r3,.L137+4
 1539 05ae 1B68     	 ldr r3,[r3]
 1540 05b0 5B7C     	 ldrb r3,[r3,#17]
 1541 05b2 FA79     	 ldrb r2,[r7,#7]
 1542 05b4 9A42     	 cmp r2,r3
 1543 05b6 01D3     	 bcc .L131
 704:../../../platform/common/services/usb/udc/udc.c **** 					bNumConfigurations) {
 705:../../../platform/common/services/usb/udc/udc.c **** 				return false;
 1544              	 .loc 1 705 0
 1545 05b8 0023     	 movs r3,#0
 1546 05ba 2DE0     	 b .L132
 1547              	.L131:
 706:../../../platform/common/services/usb/udc/udc.c **** 			}
 707:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 708:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1548              	 .loc 1 708 0
 1549 05bc 194B     	 ldr r3,.L137+4
 1550 05be 5A68     	 ldr r2,[r3,#4]
 1551 05c0 FB79     	 ldrb r3,[r7,#7]
 1552 05c2 DB00     	 lsls r3,r3,#3
 1553 05c4 1344     	 add r3,r3,r2
 1554 05c6 1868     	 ldr r0,[r3]
 709:../../../platform/common/services/usb/udc/udc.c **** 				le16_to_cpu(udc_config.conf_lsfs[conf_num].desc->wTotalLength));
 1555              	 .loc 1 709 0
 1556 05c8 164B     	 ldr r3,.L137+4
 1557 05ca 5A68     	 ldr r2,[r3,#4]
 1558 05cc FB79     	 ldrb r3,[r7,#7]
 1559 05ce DB00     	 lsls r3,r3,#3
 1560 05d0 1344     	 add r3,r3,r2
 1561 05d2 1B68     	 ldr r3,[r3]
 707:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 1562              	 .loc 1 707 0
 1563 05d4 5B88     	 ldrh r3,[r3,#2]
 1564 05d6 9BB2     	 uxth r3,r3
 1565 05d8 1946     	 mov r1,r3
 1566 05da 134B     	 ldr r3,.L137+8
 1567 05dc 9847     	 blx r3
 1568              	.LVL18:
 710:../../../platform/common/services/usb/udc/udc.c **** 		}
 711:../../../platform/common/services/usb/udc/udc.c **** 		((usb_conf_desc_t *) udd_g_ctrlreq.payload)->bDescriptorType =
 1569              	 .loc 1 711 0
 1570 05de 104B     	 ldr r3,.L137
 1571 05e0 9B68     	 ldr r3,[r3,#8]
 1572 05e2 0222     	 movs r2,#2
 1573 05e4 5A70     	 strb r2,[r3,#1]
 712:../../../platform/common/services/usb/udc/udc.c **** 				USB_DT_CONFIGURATION;
 713:../../../platform/common/services/usb/udc/udc.c **** 		break;
 1574              	 .loc 1 713 0
 1575 05e6 0CE0     	 b .L130
 1576              	.L128:
 714:../../../platform/common/services/usb/udc/udc.c **** 
 715:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 716:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DT_DEVICE_QUALIFIER:
 717:../../../platform/common/services/usb/udc/udc.c **** 		// Device qualifier descriptor requested
 718:../../../platform/common/services/usb/udc/udc.c **** 		udd_set_setup_payload( (uint8_t *) udc_config.qualifier,
 719:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.qualifier->bLength);
 720:../../../platform/common/services/usb/udc/udc.c **** 		break;
 721:../../../platform/common/services/usb/udc/udc.c **** 
 722:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DT_OTHER_SPEED_CONFIGURATION:
 723:../../../platform/common/services/usb/udc/udc.c **** 		// Other configuration descriptor requested
 724:../../../platform/common/services/usb/udc/udc.c **** 		if (!udd_is_high_speed()) {
 725:../../../platform/common/services/usb/udc/udc.c **** 			// HS descriptor
 726:../../../platform/common/services/usb/udc/udc.c **** 			if (conf_num >= udc_config.confdev_hs->
 727:../../../platform/common/services/usb/udc/udc.c **** 					bNumConfigurations) {
 728:../../../platform/common/services/usb/udc/udc.c **** 				return false;
 729:../../../platform/common/services/usb/udc/udc.c **** 			}
 730:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 731:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *)udc_config.conf_hs[conf_num].desc,
 732:../../../platform/common/services/usb/udc/udc.c **** 				le16_to_cpu(udc_config.conf_hs[conf_num].desc->wTotalLength));
 733:../../../platform/common/services/usb/udc/udc.c **** 		} else {
 734:../../../platform/common/services/usb/udc/udc.c **** 			// FS descriptor
 735:../../../platform/common/services/usb/udc/udc.c **** 			if (conf_num >= udc_config.confdev_lsfs->
 736:../../../platform/common/services/usb/udc/udc.c **** 					bNumConfigurations) {
 737:../../../platform/common/services/usb/udc/udc.c **** 				return false;
 738:../../../platform/common/services/usb/udc/udc.c **** 			}
 739:../../../platform/common/services/usb/udc/udc.c **** 			udd_set_setup_payload(
 740:../../../platform/common/services/usb/udc/udc.c **** 				(uint8_t *)udc_config.conf_lsfs[conf_num].desc,
 741:../../../platform/common/services/usb/udc/udc.c **** 				le16_to_cpu(udc_config.conf_lsfs[conf_num].desc->wTotalLength));
 742:../../../platform/common/services/usb/udc/udc.c **** 		}
 743:../../../platform/common/services/usb/udc/udc.c **** 		((usb_conf_desc_t *) udd_g_ctrlreq.payload)->bDescriptorType =
 744:../../../platform/common/services/usb/udc/udc.c **** 				USB_DT_OTHER_SPEED_CONFIGURATION;
 745:../../../platform/common/services/usb/udc/udc.c **** 		break;
 746:../../../platform/common/services/usb/udc/udc.c **** #endif
 747:../../../platform/common/services/usb/udc/udc.c **** 
 748:../../../platform/common/services/usb/udc/udc.c **** 	case USB_DT_STRING:
 749:../../../platform/common/services/usb/udc/udc.c **** 		// String descriptor requested
 750:../../../platform/common/services/usb/udc/udc.c **** 		if (!udc_req_std_dev_get_str_desc()) {
 1577              	 .loc 1 750 0
 1578 05e8 FFF76EFF 	 bl udc_req_std_dev_get_str_desc
 1579 05ec 0346     	 mov r3,r0
 1580 05ee 83F00103 	 eor r3,r3,#1
 1581 05f2 DBB2     	 uxtb r3,r3
 1582 05f4 002B     	 cmp r3,#0
 1583 05f6 03D0     	 beq .L136
 751:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 1584              	 .loc 1 751 0
 1585 05f8 0023     	 movs r3,#0
 1586 05fa 0DE0     	 b .L132
 1587              	.L135:
 752:../../../platform/common/services/usb/udc/udc.c **** 		}
 753:../../../platform/common/services/usb/udc/udc.c **** 		break;
 754:../../../platform/common/services/usb/udc/udc.c **** 
 755:../../../platform/common/services/usb/udc/udc.c **** 	default:
 756:../../../platform/common/services/usb/udc/udc.c **** 		// Unknown descriptor requested
 757:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1588              	 .loc 1 757 0
 1589 05fc 0023     	 movs r3,#0
 1590 05fe 0BE0     	 b .L132
 1591              	.L136:
 753:../../../platform/common/services/usb/udc/udc.c **** 
 1592              	 .loc 1 753 0
 1593 0600 00BF     	 nop
 1594              	.L130:
 758:../../../platform/common/services/usb/udc/udc.c **** 	}
 759:../../../platform/common/services/usb/udc/udc.c **** 	// if the descriptor is larger than length requested, then reduce it
 760:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength < udd_g_ctrlreq.payload_size) {
 1595              	 .loc 1 760 0
 1596 0602 074B     	 ldr r3,.L137
 1597 0604 DA88     	 ldrh r2,[r3,#6]
 1598 0606 064B     	 ldr r3,.L137
 1599 0608 9B89     	 ldrh r3,[r3,#12]
 1600 060a 9A42     	 cmp r2,r3
 1601 060c 03D2     	 bcs .L134
 761:../../../platform/common/services/usb/udc/udc.c **** 		udd_g_ctrlreq.payload_size = udd_g_ctrlreq.req.wLength;
 1602              	 .loc 1 761 0
 1603 060e 044B     	 ldr r3,.L137
 1604 0610 DA88     	 ldrh r2,[r3,#6]
 1605 0612 034B     	 ldr r3,.L137
 1606 0614 9A81     	 strh r2,[r3,#12]
 1607              	.L134:
 762:../../../platform/common/services/usb/udc/udc.c **** 	}
 763:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1608              	 .loc 1 763 0
 1609 0616 0123     	 movs r3,#1
 1610              	.L132:
 764:../../../platform/common/services/usb/udc/udc.c **** }
 1611              	 .loc 1 764 0
 1612 0618 1846     	 mov r0,r3
 1613 061a 0837     	 adds r7,r7,#8
 1614              	.LCFI72:
 1615              	 .cfi_def_cfa_offset 8
 1616 061c BD46     	 mov sp,r7
 1617              	.LCFI73:
 1618              	 .cfi_def_cfa_register 13
 1619              	 
 1620 061e 80BD     	 pop {r7,pc}
 1621              	.L138:
 1622              	 .align 2
 1623              	.L137:
 1624 0620 00000000 	 .word udd_g_ctrlreq
 1625 0624 00000000 	 .word udc_config
 1626 0628 00000000 	 .word udd_set_setup_payload
 1627              	 .cfi_endproc
 1628              	.LFE145:
 1630              	 .align 1
 1631              	 .syntax unified
 1632              	 .thumb
 1633              	 .thumb_func
 1634              	 .fpu softvfp
 1636              	udc_req_std_dev_get_configuration:
 1637              	.LFB146:
 765:../../../platform/common/services/usb/udc/udc.c **** 
 766:../../../platform/common/services/usb/udc/udc.c **** /**
 767:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to get configuration number
 768:../../../platform/common/services/usb/udc/udc.c ****  *
 769:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 770:../../../platform/common/services/usb/udc/udc.c ****  */
 771:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_get_configuration(void)
 772:../../../platform/common/services/usb/udc/udc.c **** {
 1638              	 .loc 1 772 0
 1639              	 .cfi_startproc
 1640              	 
 1641              	 
 1642 062c 80B5     	 push {r7,lr}
 1643              	.LCFI74:
 1644              	 .cfi_def_cfa_offset 8
 1645              	 .cfi_offset 7,-8
 1646              	 .cfi_offset 14,-4
 1647 062e 00AF     	 add r7,sp,#0
 1648              	.LCFI75:
 1649              	 .cfi_def_cfa_register 7
 773:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength != 1) {
 1650              	 .loc 1 773 0
 1651 0630 064B     	 ldr r3,.L142
 1652 0632 DB88     	 ldrh r3,[r3,#6]
 1653 0634 012B     	 cmp r3,#1
 1654 0636 01D0     	 beq .L140
 774:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1655              	 .loc 1 774 0
 1656 0638 0023     	 movs r3,#0
 1657 063a 04E0     	 b .L141
 1658              	.L140:
 775:../../../platform/common/services/usb/udc/udc.c **** 	}
 776:../../../platform/common/services/usb/udc/udc.c **** 
 777:../../../platform/common/services/usb/udc/udc.c **** 	udd_set_setup_payload(&udc_num_configuration,1);
 1659              	 .loc 1 777 0
 1660 063c 0121     	 movs r1,#1
 1661 063e 0448     	 ldr r0,.L142+4
 1662 0640 044B     	 ldr r3,.L142+8
 1663 0642 9847     	 blx r3
 1664              	.LVL19:
 778:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1665              	 .loc 1 778 0
 1666 0644 0123     	 movs r3,#1
 1667              	.L141:
 779:../../../platform/common/services/usb/udc/udc.c **** }
 1668              	 .loc 1 779 0
 1669 0646 1846     	 mov r0,r3
 1670 0648 80BD     	 pop {r7,pc}
 1671              	.L143:
 1672 064a 00BF     	 .align 2
 1673              	.L142:
 1674 064c 00000000 	 .word udd_g_ctrlreq
 1675 0650 00000000 	 .word udc_num_configuration
 1676 0654 00000000 	 .word udd_set_setup_payload
 1677              	 .cfi_endproc
 1678              	.LFE146:
 1680              	 .align 1
 1681              	 .syntax unified
 1682              	 .thumb
 1683              	 .thumb_func
 1684              	 .fpu softvfp
 1686              	udc_req_std_dev_set_configuration:
 1687              	.LFB147:
 780:../../../platform/common/services/usb/udc/udc.c **** 
 781:../../../platform/common/services/usb/udc/udc.c **** /**
 782:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard device request to enable a configuration
 783:../../../platform/common/services/usb/udc/udc.c ****  *
 784:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 785:../../../platform/common/services/usb/udc/udc.c ****  */
 786:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_dev_set_configuration(void)
 787:../../../platform/common/services/usb/udc/udc.c **** {
 1688              	 .loc 1 787 0
 1689              	 .cfi_startproc
 1690              	 
 1691              	 
 1692 0658 80B5     	 push {r7,lr}
 1693              	.LCFI76:
 1694              	 .cfi_def_cfa_offset 8
 1695              	 .cfi_offset 7,-8
 1696              	 .cfi_offset 14,-4
 1697 065a 82B0     	 sub sp,sp,#8
 1698              	.LCFI77:
 1699              	 .cfi_def_cfa_offset 16
 1700 065c 00AF     	 add r7,sp,#0
 1701              	.LCFI78:
 1702              	 .cfi_def_cfa_register 7
 788:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
 789:../../../platform/common/services/usb/udc/udc.c **** 
 790:../../../platform/common/services/usb/udc/udc.c **** 	// Check request length
 791:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1703              	 .loc 1 791 0
 1704 065e 274B     	 ldr r3,.L153
 1705 0660 DB88     	 ldrh r3,[r3,#6]
 1706 0662 002B     	 cmp r3,#0
 1707 0664 01D0     	 beq .L145
 792:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1708              	 .loc 1 792 0
 1709 0666 0023     	 movs r3,#0
 1710 0668 43E0     	 b .L146
 1711              	.L145:
 793:../../../platform/common/services/usb/udc/udc.c **** 	}
 794:../../../platform/common/services/usb/udc/udc.c **** 	// Authorize configuration only if the address is valid
 795:../../../platform/common/services/usb/udc/udc.c **** 	if (!udd_getaddress()) {
 1712              	 .loc 1 795 0
 1713 066a 254B     	 ldr r3,.L153+4
 1714 066c 9847     	 blx r3
 1715              	.LVL20:
 1716 066e 0346     	 mov r3,r0
 1717 0670 002B     	 cmp r3,#0
 1718 0672 01D1     	 bne .L147
 796:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1719              	 .loc 1 796 0
 1720 0674 0023     	 movs r3,#0
 1721 0676 3CE0     	 b .L146
 1722              	.L147:
 797:../../../platform/common/services/usb/udc/udc.c **** 	}
 798:../../../platform/common/services/usb/udc/udc.c **** 	// Check the configuration number requested
 799:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 800:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_is_high_speed()) {
 801:../../../platform/common/services/usb/udc/udc.c **** 		// HS descriptor
 802:../../../platform/common/services/usb/udc/udc.c **** 		if ((udd_g_ctrlreq.req.wValue & 0xFF) >
 803:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.confdev_hs->bNumConfigurations) {
 804:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 805:../../../platform/common/services/usb/udc/udc.c **** 		}
 806:../../../platform/common/services/usb/udc/udc.c **** 	} else
 807:../../../platform/common/services/usb/udc/udc.c **** #endif
 808:../../../platform/common/services/usb/udc/udc.c **** 	{
 809:../../../platform/common/services/usb/udc/udc.c **** 		// FS descriptor
 810:../../../platform/common/services/usb/udc/udc.c **** 		if ((udd_g_ctrlreq.req.wValue & 0xFF) >
 1723              	 .loc 1 810 0
 1724 0678 204B     	 ldr r3,.L153
 1725 067a 5B88     	 ldrh r3,[r3,#2]
 1726 067c DBB2     	 uxtb r3,r3
 811:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.confdev_lsfs->bNumConfigurations) {
 1727              	 .loc 1 811 0
 1728 067e 214A     	 ldr r2,.L153+8
 1729 0680 1268     	 ldr r2,[r2]
 1730 0682 527C     	 ldrb r2,[r2,#17]
 810:../../../platform/common/services/usb/udc/udc.c **** 				udc_config.confdev_lsfs->bNumConfigurations) {
 1731              	 .loc 1 810 0
 1732 0684 9342     	 cmp r3,r2
 1733 0686 01DD     	 ble .L148
 812:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 1734              	 .loc 1 812 0
 1735 0688 0023     	 movs r3,#0
 1736 068a 32E0     	 b .L146
 1737              	.L148:
 813:../../../platform/common/services/usb/udc/udc.c **** 		}
 814:../../../platform/common/services/usb/udc/udc.c **** 	}
 815:../../../platform/common/services/usb/udc/udc.c **** 
 816:../../../platform/common/services/usb/udc/udc.c **** 	// Reset current configuration
 817:../../../platform/common/services/usb/udc/udc.c **** 	udc_reset();
 1738              	 .loc 1 817 0
 1739 068c FFF7FEFF 	 bl udc_reset
 818:../../../platform/common/services/usb/udc/udc.c **** 
 819:../../../platform/common/services/usb/udc/udc.c **** 	// Enable new configuration
 820:../../../platform/common/services/usb/udc/udc.c **** 	udc_num_configuration = udd_g_ctrlreq.req.wValue & 0xFF;
 1740              	 .loc 1 820 0
 1741 0690 1A4B     	 ldr r3,.L153
 1742 0692 5B88     	 ldrh r3,[r3,#2]
 1743 0694 DAB2     	 uxtb r2,r3
 1744 0696 1C4B     	 ldr r3,.L153+12
 1745 0698 1A70     	 strb r2,[r3]
 821:../../../platform/common/services/usb/udc/udc.c **** 	if (udc_num_configuration == 0) {
 1746              	 .loc 1 821 0
 1747 069a 1B4B     	 ldr r3,.L153+12
 1748 069c 1B78     	 ldrb r3,[r3]
 1749 069e 002B     	 cmp r3,#0
 1750 06a0 01D1     	 bne .L149
 822:../../../platform/common/services/usb/udc/udc.c **** 		return true; // Default empty configuration requested
 1751              	 .loc 1 822 0
 1752 06a2 0123     	 movs r3,#1
 1753 06a4 25E0     	 b .L146
 1754              	.L149:
 823:../../../platform/common/services/usb/udc/udc.c **** 	}
 824:../../../platform/common/services/usb/udc/udc.c **** 	// Update pointer of the configuration descriptor
 825:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_HS_SUPPORT
 826:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_is_high_speed()) {
 827:../../../platform/common/services/usb/udc/udc.c **** 		// HS descriptor
 828:../../../platform/common/services/usb/udc/udc.c **** 		udc_ptr_conf = &udc_config.conf_hs[udc_num_configuration - 1];
 829:../../../platform/common/services/usb/udc/udc.c **** 	} else
 830:../../../platform/common/services/usb/udc/udc.c **** #endif
 831:../../../platform/common/services/usb/udc/udc.c **** 	{
 832:../../../platform/common/services/usb/udc/udc.c **** 		// FS descriptor
 833:../../../platform/common/services/usb/udc/udc.c **** 		udc_ptr_conf = &udc_config.conf_lsfs[udc_num_configuration - 1];
 1755              	 .loc 1 833 0
 1756 06a6 174B     	 ldr r3,.L153+8
 1757 06a8 5A68     	 ldr r2,[r3,#4]
 1758 06aa 174B     	 ldr r3,.L153+12
 1759 06ac 1B78     	 ldrb r3,[r3]
 1760 06ae 03F10053 	 add r3,r3,#536870912
 1761 06b2 013B     	 subs r3,r3,#1
 1762 06b4 DB00     	 lsls r3,r3,#3
 1763 06b6 1344     	 add r3,r3,r2
 1764 06b8 144A     	 ldr r2,.L153+16
 1765 06ba 1360     	 str r3,[r2]
 834:../../../platform/common/services/usb/udc/udc.c **** 	}
 835:../../../platform/common/services/usb/udc/udc.c **** 	// Enable all interfaces of the selected configuration
 836:../../../platform/common/services/usb/udc/udc.c **** 	for (iface_num = 0; iface_num < udc_ptr_conf->desc->bNumInterfaces;
 1766              	 .loc 1 836 0
 1767 06bc 0023     	 movs r3,#0
 1768 06be FB71     	 strb r3,[r7,#7]
 1769 06c0 0FE0     	 b .L150
 1770              	.L152:
 837:../../../platform/common/services/usb/udc/udc.c **** 			iface_num++) {
 838:../../../platform/common/services/usb/udc/udc.c **** 		if (!udc_iface_enable(iface_num, 0)) {
 1771              	 .loc 1 838 0
 1772 06c2 FB79     	 ldrb r3,[r7,#7]
 1773 06c4 0021     	 movs r1,#0
 1774 06c6 1846     	 mov r0,r3
 1775 06c8 FFF77AFD 	 bl udc_iface_enable
 1776 06cc 0346     	 mov r3,r0
 1777 06ce 83F00103 	 eor r3,r3,#1
 1778 06d2 DBB2     	 uxtb r3,r3
 1779 06d4 002B     	 cmp r3,#0
 1780 06d6 01D0     	 beq .L151
 839:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 1781              	 .loc 1 839 0
 1782 06d8 0023     	 movs r3,#0
 1783 06da 0AE0     	 b .L146
 1784              	.L151:
 837:../../../platform/common/services/usb/udc/udc.c **** 			iface_num++) {
 1785              	 .loc 1 837 0
 1786 06dc FB79     	 ldrb r3,[r7,#7]
 1787 06de 0133     	 adds r3,r3,#1
 1788 06e0 FB71     	 strb r3,[r7,#7]
 1789              	.L150:
 836:../../../platform/common/services/usb/udc/udc.c **** 			iface_num++) {
 1790              	 .loc 1 836 0 discriminator 1
 1791 06e2 0A4B     	 ldr r3,.L153+16
 1792 06e4 1B68     	 ldr r3,[r3]
 1793 06e6 1B68     	 ldr r3,[r3]
 1794 06e8 1B79     	 ldrb r3,[r3,#4]
 1795 06ea FA79     	 ldrb r2,[r7,#7]
 1796 06ec 9A42     	 cmp r2,r3
 1797 06ee E8D3     	 bcc .L152
 840:../../../platform/common/services/usb/udc/udc.c **** 		}
 841:../../../platform/common/services/usb/udc/udc.c **** 	}
 842:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1798              	 .loc 1 842 0
 1799 06f0 0123     	 movs r3,#1
 1800              	.L146:
 843:../../../platform/common/services/usb/udc/udc.c **** }
 1801              	 .loc 1 843 0
 1802 06f2 1846     	 mov r0,r3
 1803 06f4 0837     	 adds r7,r7,#8
 1804              	.LCFI79:
 1805              	 .cfi_def_cfa_offset 8
 1806 06f6 BD46     	 mov sp,r7
 1807              	.LCFI80:
 1808              	 .cfi_def_cfa_register 13
 1809              	 
 1810 06f8 80BD     	 pop {r7,pc}
 1811              	.L154:
 1812 06fa 00BF     	 .align 2
 1813              	.L153:
 1814 06fc 00000000 	 .word udd_g_ctrlreq
 1815 0700 00000000 	 .word udd_getaddress
 1816 0704 00000000 	 .word udc_config
 1817 0708 00000000 	 .word udc_num_configuration
 1818 070c 00000000 	 .word udc_ptr_conf
 1819              	 .cfi_endproc
 1820              	.LFE147:
 1822              	 .align 1
 1823              	 .syntax unified
 1824              	 .thumb
 1825              	 .thumb_func
 1826              	 .fpu softvfp
 1828              	udc_req_std_iface_get_setting:
 1829              	.LFB148:
 844:../../../platform/common/services/usb/udc/udc.c **** 
 845:../../../platform/common/services/usb/udc/udc.c **** /**
 846:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard interface request
 847:../../../platform/common/services/usb/udc/udc.c ****  * to get the alternate setting number of an interface
 848:../../../platform/common/services/usb/udc/udc.c ****  *
 849:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 850:../../../platform/common/services/usb/udc/udc.c ****  */
 851:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_iface_get_setting(void)
 852:../../../platform/common/services/usb/udc/udc.c **** {
 1830              	 .loc 1 852 0
 1831              	 .cfi_startproc
 1832              	 
 1833              	 
 1834 0710 80B5     	 push {r7,lr}
 1835              	.LCFI81:
 1836              	 .cfi_def_cfa_offset 8
 1837              	 .cfi_offset 7,-8
 1838              	 .cfi_offset 14,-4
 1839 0712 82B0     	 sub sp,sp,#8
 1840              	.LCFI82:
 1841              	 .cfi_def_cfa_offset 16
 1842 0714 00AF     	 add r7,sp,#0
 1843              	.LCFI83:
 1844              	 .cfi_def_cfa_register 7
 853:../../../platform/common/services/usb/udc/udc.c **** 	static uint8_t udc_iface_setting;
 854:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
 855:../../../platform/common/services/usb/udc/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
 856:../../../platform/common/services/usb/udc/udc.c **** 
 857:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength != 1) {
 1845              	 .loc 1 857 0
 1846 0716 1E4B     	 ldr r3,.L161
 1847 0718 DB88     	 ldrh r3,[r3,#6]
 1848 071a 012B     	 cmp r3,#1
 1849 071c 01D0     	 beq .L156
 858:../../../platform/common/services/usb/udc/udc.c **** 		return false; // Error in request
 1850              	 .loc 1 858 0
 1851 071e 0023     	 movs r3,#0
 1852 0720 32E0     	 b .L157
 1853              	.L156:
 859:../../../platform/common/services/usb/udc/udc.c **** 	}
 860:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_num_configuration) {
 1854              	 .loc 1 860 0
 1855 0722 1C4B     	 ldr r3,.L161+4
 1856 0724 1B78     	 ldrb r3,[r3]
 1857 0726 002B     	 cmp r3,#0
 1858 0728 01D1     	 bne .L158
 861:../../../platform/common/services/usb/udc/udc.c **** 		return false; // The device is not is configured state yet
 1859              	 .loc 1 861 0
 1860 072a 0023     	 movs r3,#0
 1861 072c 2CE0     	 b .L157
 1862              	.L158:
 862:../../../platform/common/services/usb/udc/udc.c **** 	}
 863:../../../platform/common/services/usb/udc/udc.c **** 
 864:../../../platform/common/services/usb/udc/udc.c **** 	// Check the interface number included in the request
 865:../../../platform/common/services/usb/udc/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 1863              	 .loc 1 865 0
 1864 072e 184B     	 ldr r3,.L161
 1865 0730 9B88     	 ldrh r3,[r3,#4]
 1866 0732 FB71     	 strb r3,[r7,#7]
 866:../../../platform/common/services/usb/udc/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 1867              	 .loc 1 866 0
 1868 0734 184B     	 ldr r3,.L161+8
 1869 0736 1B68     	 ldr r3,[r3]
 1870 0738 1B68     	 ldr r3,[r3]
 1871 073a 1B79     	 ldrb r3,[r3,#4]
 1872 073c FA79     	 ldrb r2,[r7,#7]
 1873 073e 9A42     	 cmp r2,r3
 1874 0740 01D3     	 bcc .L159
 867:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1875              	 .loc 1 867 0
 1876 0742 0023     	 movs r3,#0
 1877 0744 20E0     	 b .L157
 1878              	.L159:
 868:../../../platform/common/services/usb/udc/udc.c **** 	}
 869:../../../platform/common/services/usb/udc/udc.c **** 
 870:../../../platform/common/services/usb/udc/udc.c **** 	// Select first alternate setting of the interface to update udc_ptr_iface
 871:../../../platform/common/services/usb/udc/udc.c **** 	// before call iface->getsetting()
 872:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 1879              	 .loc 1 872 0
 1880 0746 FB79     	 ldrb r3,[r7,#7]
 1881 0748 0021     	 movs r1,#0
 1882 074a 1846     	 mov r0,r3
 1883 074c FFF7A0FC 	 bl udc_update_iface_desc
 1884 0750 0346     	 mov r3,r0
 1885 0752 83F00103 	 eor r3,r3,#1
 1886 0756 DBB2     	 uxtb r3,r3
 1887 0758 002B     	 cmp r3,#0
 1888 075a 01D0     	 beq .L160
 873:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1889              	 .loc 1 873 0
 1890 075c 0023     	 movs r3,#0
 1891 075e 13E0     	 b .L157
 1892              	.L160:
 874:../../../platform/common/services/usb/udc/udc.c **** 	}
 875:../../../platform/common/services/usb/udc/udc.c **** 	// Get alternate setting from UDI
 876:../../../platform/common/services/usb/udc/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 1893              	 .loc 1 876 0
 1894 0760 0D4B     	 ldr r3,.L161+8
 1895 0762 1B68     	 ldr r3,[r3]
 1896 0764 5A68     	 ldr r2,[r3,#4]
 1897 0766 FB79     	 ldrb r3,[r7,#7]
 1898 0768 9B00     	 lsls r3,r3,#2
 1899 076a 1344     	 add r3,r3,r2
 1900 076c 1B68     	 ldr r3,[r3]
 1901 076e 3B60     	 str r3,[r7]
 877:../../../platform/common/services/usb/udc/udc.c **** 	udc_iface_setting = udi_api->getsetting();
 1902              	 .loc 1 877 0
 1903 0770 3B68     	 ldr r3,[r7]
 1904 0772 DB68     	 ldr r3,[r3,#12]
 1905 0774 9847     	 blx r3
 1906              	.LVL21:
 1907 0776 0346     	 mov r3,r0
 1908 0778 1A46     	 mov r2,r3
 1909 077a 084B     	 ldr r3,.L161+12
 1910 077c 1A70     	 strb r2,[r3]
 878:../../../platform/common/services/usb/udc/udc.c **** 
 879:../../../platform/common/services/usb/udc/udc.c **** 	// Link value to payload pointer of request
 880:../../../platform/common/services/usb/udc/udc.c **** 	udd_set_setup_payload(&udc_iface_setting,1);
 1911              	 .loc 1 880 0
 1912 077e 0121     	 movs r1,#1
 1913 0780 0648     	 ldr r0,.L161+12
 1914 0782 074B     	 ldr r3,.L161+16
 1915 0784 9847     	 blx r3
 1916              	.LVL22:
 881:../../../platform/common/services/usb/udc/udc.c **** 	return true;
 1917              	 .loc 1 881 0
 1918 0786 0123     	 movs r3,#1
 1919              	.L157:
 882:../../../platform/common/services/usb/udc/udc.c **** }
 1920              	 .loc 1 882 0
 1921 0788 1846     	 mov r0,r3
 1922 078a 0837     	 adds r7,r7,#8
 1923              	.LCFI84:
 1924              	 .cfi_def_cfa_offset 8
 1925 078c BD46     	 mov sp,r7
 1926              	.LCFI85:
 1927              	 .cfi_def_cfa_register 13
 1928              	 
 1929 078e 80BD     	 pop {r7,pc}
 1930              	.L162:
 1931              	 .align 2
 1932              	.L161:
 1933 0790 00000000 	 .word udd_g_ctrlreq
 1934 0794 00000000 	 .word udc_num_configuration
 1935 0798 00000000 	 .word udc_ptr_conf
 1936 079c 00000000 	 .word udc_iface_setting.8314
 1937 07a0 00000000 	 .word udd_set_setup_payload
 1938              	 .cfi_endproc
 1939              	.LFE148:
 1941              	 .align 1
 1942              	 .syntax unified
 1943              	 .thumb
 1944              	 .thumb_func
 1945              	 .fpu softvfp
 1947              	udc_req_std_iface_set_setting:
 1948              	.LFB149:
 883:../../../platform/common/services/usb/udc/udc.c **** 
 884:../../../platform/common/services/usb/udc/udc.c **** /**
 885:../../../platform/common/services/usb/udc/udc.c ****  * \brief Standard interface request
 886:../../../platform/common/services/usb/udc/udc.c ****  * to set an alternate setting of an interface
 887:../../../platform/common/services/usb/udc/udc.c ****  *
 888:../../../platform/common/services/usb/udc/udc.c ****  * \return true if success
 889:../../../platform/common/services/usb/udc/udc.c ****  */
 890:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_std_iface_set_setting(void)
 891:../../../platform/common/services/usb/udc/udc.c **** {
 1949              	 .loc 1 891 0
 1950              	 .cfi_startproc
 1951              	 
 1952              	 
 1953 07a4 80B5     	 push {r7,lr}
 1954              	.LCFI86:
 1955              	 .cfi_def_cfa_offset 8
 1956              	 .cfi_offset 7,-8
 1957              	 .cfi_offset 14,-4
 1958 07a6 82B0     	 sub sp,sp,#8
 1959              	.LCFI87:
 1960              	 .cfi_def_cfa_offset 16
 1961 07a8 00AF     	 add r7,sp,#0
 1962              	.LCFI88:
 1963              	 .cfi_def_cfa_register 7
 892:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num, setting_num;
 893:../../../platform/common/services/usb/udc/udc.c **** 
 894:../../../platform/common/services/usb/udc/udc.c **** 	if (udd_g_ctrlreq.req.wLength) {
 1964              	 .loc 1 894 0
 1965 07aa 144B     	 ldr r3,.L168
 1966 07ac DB88     	 ldrh r3,[r3,#6]
 1967 07ae 002B     	 cmp r3,#0
 1968 07b0 01D0     	 beq .L164
 895:../../../platform/common/services/usb/udc/udc.c **** 		return false; // Error in request
 1969              	 .loc 1 895 0
 1970 07b2 0023     	 movs r3,#0
 1971 07b4 1EE0     	 b .L165
 1972              	.L164:
 896:../../../platform/common/services/usb/udc/udc.c **** 	}
 897:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_num_configuration) {
 1973              	 .loc 1 897 0
 1974 07b6 124B     	 ldr r3,.L168+4
 1975 07b8 1B78     	 ldrb r3,[r3]
 1976 07ba 002B     	 cmp r3,#0
 1977 07bc 01D1     	 bne .L166
 898:../../../platform/common/services/usb/udc/udc.c **** 		return false; // The device is not is configured state yet
 1978              	 .loc 1 898 0
 1979 07be 0023     	 movs r3,#0
 1980 07c0 18E0     	 b .L165
 1981              	.L166:
 899:../../../platform/common/services/usb/udc/udc.c **** 	}
 900:../../../platform/common/services/usb/udc/udc.c **** 
 901:../../../platform/common/services/usb/udc/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 1982              	 .loc 1 901 0
 1983 07c2 0E4B     	 ldr r3,.L168
 1984 07c4 9B88     	 ldrh r3,[r3,#4]
 1985 07c6 FB71     	 strb r3,[r7,#7]
 902:../../../platform/common/services/usb/udc/udc.c **** 	setting_num = udd_g_ctrlreq.req.wValue & 0xFF;
 1986              	 .loc 1 902 0
 1987 07c8 0C4B     	 ldr r3,.L168
 1988 07ca 5B88     	 ldrh r3,[r3,#2]
 1989 07cc BB71     	 strb r3,[r7,#6]
 903:../../../platform/common/services/usb/udc/udc.c **** 
 904:../../../platform/common/services/usb/udc/udc.c **** 	// Disable current setting
 905:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_iface_disable(iface_num)) {
 1990              	 .loc 1 905 0
 1991 07ce FB79     	 ldrb r3,[r7,#7]
 1992 07d0 1846     	 mov r0,r3
 1993 07d2 FFF7A9FC 	 bl udc_iface_disable
 1994 07d6 0346     	 mov r3,r0
 1995 07d8 83F00103 	 eor r3,r3,#1
 1996 07dc DBB2     	 uxtb r3,r3
 1997 07de 002B     	 cmp r3,#0
 1998 07e0 01D0     	 beq .L167
 906:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 1999              	 .loc 1 906 0
 2000 07e2 0023     	 movs r3,#0
 2001 07e4 06E0     	 b .L165
 2002              	.L167:
 907:../../../platform/common/services/usb/udc/udc.c **** 	}
 908:../../../platform/common/services/usb/udc/udc.c **** 
 909:../../../platform/common/services/usb/udc/udc.c **** 	// Enable new setting
 910:../../../platform/common/services/usb/udc/udc.c **** 	return udc_iface_enable(iface_num, setting_num);
 2003              	 .loc 1 910 0
 2004 07e6 BA79     	 ldrb r2,[r7,#6]
 2005 07e8 FB79     	 ldrb r3,[r7,#7]
 2006 07ea 1146     	 mov r1,r2
 2007 07ec 1846     	 mov r0,r3
 2008 07ee FFF7E7FC 	 bl udc_iface_enable
 2009 07f2 0346     	 mov r3,r0
 2010              	.L165:
 911:../../../platform/common/services/usb/udc/udc.c **** }
 2011              	 .loc 1 911 0
 2012 07f4 1846     	 mov r0,r3
 2013 07f6 0837     	 adds r7,r7,#8
 2014              	.LCFI89:
 2015              	 .cfi_def_cfa_offset 8
 2016 07f8 BD46     	 mov sp,r7
 2017              	.LCFI90:
 2018              	 .cfi_def_cfa_register 13
 2019              	 
 2020 07fa 80BD     	 pop {r7,pc}
 2021              	.L169:
 2022              	 .align 2
 2023              	.L168:
 2024 07fc 00000000 	 .word udd_g_ctrlreq
 2025 0800 00000000 	 .word udc_num_configuration
 2026              	 .cfi_endproc
 2027              	.LFE149:
 2029              	 .align 1
 2030              	 .syntax unified
 2031              	 .thumb
 2032              	 .thumb_func
 2033              	 .fpu softvfp
 2035              	udc_reqstd:
 2036              	.LFB150:
 912:../../../platform/common/services/usb/udc/udc.c **** 
 913:../../../platform/common/services/usb/udc/udc.c **** /**
 914:../../../platform/common/services/usb/udc/udc.c ****  * \brief Main routine to manage the standard USB SETUP request
 915:../../../platform/common/services/usb/udc/udc.c ****  *
 916:../../../platform/common/services/usb/udc/udc.c ****  * \return true if the request is supported
 917:../../../platform/common/services/usb/udc/udc.c ****  */
 918:../../../platform/common/services/usb/udc/udc.c **** static bool udc_reqstd(void)
 919:../../../platform/common/services/usb/udc/udc.c **** {
 2037              	 .loc 1 919 0
 2038              	 .cfi_startproc
 2039              	 
 2040              	 
 2041 0804 80B5     	 push {r7,lr}
 2042              	.LCFI91:
 2043              	 .cfi_def_cfa_offset 8
 2044              	 .cfi_offset 7,-8
 2045              	 .cfi_offset 14,-4
 2046 0806 00AF     	 add r7,sp,#0
 2047              	.LCFI92:
 2048              	 .cfi_def_cfa_register 7
 920:../../../platform/common/services/usb/udc/udc.c **** 	if (Udd_setup_is_in()) {
 2049              	 .loc 1 920 0
 2050 0808 4D4B     	 ldr r3,.L201
 2051 080a 1B78     	 ldrb r3,[r3]
 2052 080c 5BB2     	 sxtb r3,r3
 2053 080e 002B     	 cmp r3,#0
 2054 0810 3EDA     	 bge .L171
 921:../../../platform/common/services/usb/udc/udc.c **** 		// GET Standard Requests
 922:../../../platform/common/services/usb/udc/udc.c **** 		if (udd_g_ctrlreq.req.wLength == 0) {
 2055              	 .loc 1 922 0
 2056 0812 4B4B     	 ldr r3,.L201
 2057 0814 DB88     	 ldrh r3,[r3,#6]
 2058 0816 002B     	 cmp r3,#0
 2059 0818 01D1     	 bne .L172
 923:../../../platform/common/services/usb/udc/udc.c **** 			return false; // Error for USB host
 2060              	 .loc 1 923 0
 2061 081a 0023     	 movs r3,#0
 2062 081c 8EE0     	 b .L173
 2063              	.L172:
 924:../../../platform/common/services/usb/udc/udc.c **** 		}
 925:../../../platform/common/services/usb/udc/udc.c **** 
 926:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_DEVICE == Udd_setup_recipient()) {
 2064              	 .loc 1 926 0
 2065 081e 484B     	 ldr r3,.L201
 2066 0820 1B78     	 ldrb r3,[r3]
 2067 0822 03F01F03 	 and r3,r3,#31
 2068 0826 002B     	 cmp r3,#0
 2069 0828 14D1     	 bne .L174
 927:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Get Device request
 928:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2070              	 .loc 1 928 0
 2071 082a 454B     	 ldr r3,.L201
 2072 082c 5B78     	 ldrb r3,[r3,#1]
 2073 082e 062B     	 cmp r3,#6
 2074 0830 08D0     	 beq .L176
 2075 0832 082B     	 cmp r3,#8
 2076 0834 0AD0     	 beq .L177
 2077 0836 002B     	 cmp r3,#0
 2078 0838 00D0     	 beq .L178
 929:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_STATUS:
 930:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_get_status();
 931:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_DESCRIPTOR:
 932:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_get_descriptor();
 933:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_CONFIGURATION:
 934:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_get_configuration();
 935:../../../platform/common/services/usb/udc/udc.c **** 			default:
 936:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2079              	 .loc 1 936 0
 2080 083a 0BE0     	 b .L174
 2081              	.L178:
 930:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_DESCRIPTOR:
 2082              	 .loc 1 930 0
 2083 083c FFF772FD 	 bl udc_req_std_dev_get_status
 2084 0840 0346     	 mov r3,r0
 2085 0842 7BE0     	 b .L173
 2086              	.L176:
 932:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_CONFIGURATION:
 2087              	 .loc 1 932 0
 2088 0844 FFF796FE 	 bl udc_req_std_dev_get_descriptor
 2089 0848 0346     	 mov r3,r0
 2090 084a 77E0     	 b .L173
 2091              	.L177:
 934:../../../platform/common/services/usb/udc/udc.c **** 			default:
 2092              	 .loc 1 934 0
 2093 084c FFF7EEFE 	 bl udc_req_std_dev_get_configuration
 2094 0850 0346     	 mov r3,r0
 2095 0852 73E0     	 b .L173
 2096              	.L174:
 937:../../../platform/common/services/usb/udc/udc.c **** 			}
 938:../../../platform/common/services/usb/udc/udc.c **** 		}
 939:../../../platform/common/services/usb/udc/udc.c **** 
 940:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_INTERFACE == Udd_setup_recipient()) {
 2097              	 .loc 1 940 0
 2098 0854 3A4B     	 ldr r3,.L201
 2099 0856 1B78     	 ldrb r3,[r3]
 2100 0858 03F01F03 	 and r3,r3,#31
 2101 085c 012B     	 cmp r3,#1
 2102 085e 08D1     	 bne .L179
 941:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Get Interface request
 942:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2103              	 .loc 1 942 0
 2104 0860 374B     	 ldr r3,.L201
 2105 0862 5B78     	 ldrb r3,[r3,#1]
 2106 0864 0A2B     	 cmp r3,#10
 2107 0866 00D0     	 beq .L181
 943:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_INTERFACE:
 944:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_iface_get_setting();
 945:../../../platform/common/services/usb/udc/udc.c **** 			default:
 946:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2108              	 .loc 1 946 0
 2109 0868 03E0     	 b .L179
 2110              	.L181:
 944:../../../platform/common/services/usb/udc/udc.c **** 			default:
 2111              	 .loc 1 944 0
 2112 086a FFF751FF 	 bl udc_req_std_iface_get_setting
 2113 086e 0346     	 mov r3,r0
 2114 0870 64E0     	 b .L173
 2115              	.L179:
 947:../../../platform/common/services/usb/udc/udc.c **** 			}
 948:../../../platform/common/services/usb/udc/udc.c **** 		}
 949:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 950:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_ENDPOINT == Udd_setup_recipient()) {
 2116              	 .loc 1 950 0
 2117 0872 334B     	 ldr r3,.L201
 2118 0874 1B78     	 ldrb r3,[r3]
 2119 0876 03F01F03 	 and r3,r3,#31
 2120 087a 022B     	 cmp r3,#2
 2121 087c 5DD1     	 bne .L185
 951:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Get Endpoint request
 952:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2122              	 .loc 1 952 0
 2123 087e 304B     	 ldr r3,.L201
 2124 0880 5B78     	 ldrb r3,[r3,#1]
 2125 0882 002B     	 cmp r3,#0
 2126 0884 00D0     	 beq .L184
 953:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_GET_STATUS:
 954:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_ep_get_status();
 955:../../../platform/common/services/usb/udc/udc.c **** 			default:
 956:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2127              	 .loc 1 956 0
 2128 0886 58E0     	 b .L185
 2129              	.L184:
 954:../../../platform/common/services/usb/udc/udc.c **** 			default:
 2130              	 .loc 1 954 0
 2131 0888 FFF762FD 	 bl udc_req_std_ep_get_status
 2132 088c 0346     	 mov r3,r0
 2133 088e 55E0     	 b .L173
 2134              	.L171:
 957:../../../platform/common/services/usb/udc/udc.c **** 			}
 958:../../../platform/common/services/usb/udc/udc.c **** 		}
 959:../../../platform/common/services/usb/udc/udc.c **** #endif
 960:../../../platform/common/services/usb/udc/udc.c **** 	} else {
 961:../../../platform/common/services/usb/udc/udc.c **** 		// SET Standard Requests
 962:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_DEVICE == Udd_setup_recipient()) {
 2135              	 .loc 1 962 0
 2136 0890 2B4B     	 ldr r3,.L201
 2137 0892 1B78     	 ldrb r3,[r3]
 2138 0894 03F01F03 	 and r3,r3,#31
 2139 0898 002B     	 cmp r3,#0
 2140 089a 2AD1     	 bne .L186
 963:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Set Device request
 964:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2141              	 .loc 1 964 0
 2142 089c 284B     	 ldr r3,.L201
 2143 089e 5B78     	 ldrb r3,[r3,#1]
 2144 08a0 013B     	 subs r3,r3,#1
 2145 08a2 082B     	 cmp r3,#8
 2146 08a4 24D8     	 bhi .L200
 2147 08a6 01A2     	 adr r2,.L189
 2148 08a8 52F823F0 	 ldr pc,[r2,r3,lsl#2]
 2149              	 .p2align 2
 2150              	.L189:
 2151 08ac D9080000 	 .word .L188+1
 2152 08b0 F1080000 	 .word .L200+1
 2153 08b4 E1080000 	 .word .L190+1
 2154 08b8 F1080000 	 .word .L200+1
 2155 08bc D1080000 	 .word .L191+1
 2156 08c0 F1080000 	 .word .L200+1
 2157 08c4 F1080000 	 .word .L200+1
 2158 08c8 F1080000 	 .word .L200+1
 2159 08cc E9080000 	 .word .L193+1
 2160              	 .p2align 1
 2161              	.L191:
 965:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_ADDRESS:
 966:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_set_address();
 2162              	 .loc 1 966 0
 2163 08d0 FFF7E6FD 	 bl udc_req_std_dev_set_address
 2164 08d4 0346     	 mov r3,r0
 2165 08d6 31E0     	 b .L173
 2166              	.L188:
 967:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_CLEAR_FEATURE:
 968:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_clear_feature();
 2167              	 .loc 1 968 0
 2168 08d8 FFF75CFD 	 bl udc_req_std_dev_clear_feature
 2169 08dc 0346     	 mov r3,r0
 2170 08de 2DE0     	 b .L173
 2171              	.L190:
 969:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_FEATURE:
 970:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_set_feature();
 2172              	 .loc 1 970 0
 2173 08e0 FFF792FD 	 bl udc_req_std_dev_set_feature
 2174 08e4 0346     	 mov r3,r0
 2175 08e6 29E0     	 b .L173
 2176              	.L193:
 971:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_CONFIGURATION:
 972:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_dev_set_configuration();
 2177              	 .loc 1 972 0
 2178 08e8 FFF7B6FE 	 bl udc_req_std_dev_set_configuration
 2179 08ec 0346     	 mov r3,r0
 2180 08ee 25E0     	 b .L173
 2181              	.L200:
 973:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_DESCRIPTOR:
 974:../../../platform/common/services/usb/udc/udc.c **** 				/* Not supported (defined as optional by the USB 2.0 spec) */
 975:../../../platform/common/services/usb/udc/udc.c **** 				break;
 976:../../../platform/common/services/usb/udc/udc.c **** 			default:
 977:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2182              	 .loc 1 977 0
 2183 08f0 00BF     	 nop
 2184              	.L186:
 978:../../../platform/common/services/usb/udc/udc.c **** 			}
 979:../../../platform/common/services/usb/udc/udc.c **** 		}
 980:../../../platform/common/services/usb/udc/udc.c **** 
 981:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_INTERFACE == Udd_setup_recipient()) {
 2185              	 .loc 1 981 0
 2186 08f2 134B     	 ldr r3,.L201
 2187 08f4 1B78     	 ldrb r3,[r3]
 2188 08f6 03F01F03 	 and r3,r3,#31
 2189 08fa 012B     	 cmp r3,#1
 2190 08fc 08D1     	 bne .L194
 982:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Set Interface request
 983:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2191              	 .loc 1 983 0
 2192 08fe 104B     	 ldr r3,.L201
 2193 0900 5B78     	 ldrb r3,[r3,#1]
 2194 0902 0B2B     	 cmp r3,#11
 2195 0904 00D0     	 beq .L196
 984:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_INTERFACE:
 985:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_iface_set_setting();
 986:../../../platform/common/services/usb/udc/udc.c **** 			default:
 987:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2196              	 .loc 1 987 0
 2197 0906 03E0     	 b .L194
 2198              	.L196:
 985:../../../platform/common/services/usb/udc/udc.c **** 			default:
 2199              	 .loc 1 985 0
 2200 0908 FFF74CFF 	 bl udc_req_std_iface_set_setting
 2201 090c 0346     	 mov r3,r0
 2202 090e 15E0     	 b .L173
 2203              	.L194:
 988:../../../platform/common/services/usb/udc/udc.c **** 			}
 989:../../../platform/common/services/usb/udc/udc.c **** 		}
 990:../../../platform/common/services/usb/udc/udc.c **** #if (0!=USB_DEVICE_MAX_EP)
 991:../../../platform/common/services/usb/udc/udc.c **** 		if (USB_REQ_RECIP_ENDPOINT == Udd_setup_recipient()) {
 2204              	 .loc 1 991 0
 2205 0910 0B4B     	 ldr r3,.L201
 2206 0912 1B78     	 ldrb r3,[r3]
 2207 0914 03F01F03 	 and r3,r3,#31
 2208 0918 022B     	 cmp r3,#2
 2209 091a 0ED1     	 bne .L185
 992:../../../platform/common/services/usb/udc/udc.c **** 			// Standard Set Endpoint request
 993:../../../platform/common/services/usb/udc/udc.c **** 			switch (udd_g_ctrlreq.req.bRequest) {
 2210              	 .loc 1 993 0
 2211 091c 084B     	 ldr r3,.L201
 2212 091e 5B78     	 ldrb r3,[r3,#1]
 2213 0920 012B     	 cmp r3,#1
 2214 0922 02D0     	 beq .L198
 2215 0924 032B     	 cmp r3,#3
 2216 0926 04D0     	 beq .L199
 994:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_CLEAR_FEATURE:
 995:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_ep_clear_feature();
 996:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_FEATURE:
 997:../../../platform/common/services/usb/udc/udc.c **** 				return udc_req_std_ep_set_feature();
 998:../../../platform/common/services/usb/udc/udc.c **** 			default:
 999:../../../platform/common/services/usb/udc/udc.c **** 				break;
 2217              	 .loc 1 999 0
 2218 0928 07E0     	 b .L185
 2219              	.L198:
 995:../../../platform/common/services/usb/udc/udc.c **** 			case USB_REQ_SET_FEATURE:
 2220              	 .loc 1 995 0
 2221 092a FFF751FD 	 bl udc_req_std_ep_clear_feature
 2222 092e 0346     	 mov r3,r0
 2223 0930 04E0     	 b .L173
 2224              	.L199:
 997:../../../platform/common/services/usb/udc/udc.c **** 			default:
 2225              	 .loc 1 997 0
 2226 0932 FFF77FFD 	 bl udc_req_std_ep_set_feature
 2227 0936 0346     	 mov r3,r0
 2228 0938 00E0     	 b .L173
 2229              	.L185:
1000:../../../platform/common/services/usb/udc/udc.c **** 			}
1001:../../../platform/common/services/usb/udc/udc.c **** 		}
1002:../../../platform/common/services/usb/udc/udc.c **** #endif
1003:../../../platform/common/services/usb/udc/udc.c **** 	}
1004:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 2230              	 .loc 1 1004 0
 2231 093a 0023     	 movs r3,#0
 2232              	.L173:
1005:../../../platform/common/services/usb/udc/udc.c **** }
 2233              	 .loc 1 1005 0
 2234 093c 1846     	 mov r0,r3
 2235 093e 80BD     	 pop {r7,pc}
 2236              	.L202:
 2237              	 .align 2
 2238              	.L201:
 2239 0940 00000000 	 .word udd_g_ctrlreq
 2240              	 .cfi_endproc
 2241              	.LFE150:
 2243              	 .align 1
 2244              	 .syntax unified
 2245              	 .thumb
 2246              	 .thumb_func
 2247              	 .fpu softvfp
 2249              	udc_req_iface:
 2250              	.LFB151:
1006:../../../platform/common/services/usb/udc/udc.c **** 
1007:../../../platform/common/services/usb/udc/udc.c **** /**
1008:../../../platform/common/services/usb/udc/udc.c ****  * \brief Send the SETUP interface request to UDI
1009:../../../platform/common/services/usb/udc/udc.c ****  *
1010:../../../platform/common/services/usb/udc/udc.c ****  * \return true if the request is supported
1011:../../../platform/common/services/usb/udc/udc.c ****  */
1012:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_iface(void)
1013:../../../platform/common/services/usb/udc/udc.c **** {
 2251              	 .loc 1 1013 0
 2252              	 .cfi_startproc
 2253              	 
 2254              	 
 2255 0944 80B5     	 push {r7,lr}
 2256              	.LCFI93:
 2257              	 .cfi_def_cfa_offset 8
 2258              	 .cfi_offset 7,-8
 2259              	 .cfi_offset 14,-4
 2260 0946 82B0     	 sub sp,sp,#8
 2261              	.LCFI94:
 2262              	 .cfi_def_cfa_offset 16
 2263 0948 00AF     	 add r7,sp,#0
 2264              	.LCFI95:
 2265              	 .cfi_def_cfa_register 7
1014:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
1015:../../../platform/common/services/usb/udc/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
1016:../../../platform/common/services/usb/udc/udc.c **** 
1017:../../../platform/common/services/usb/udc/udc.c **** 	if (0 == udc_num_configuration) {
 2266              	 .loc 1 1017 0
 2267 094a 204B     	 ldr r3,.L209
 2268 094c 1B78     	 ldrb r3,[r3]
 2269 094e 002B     	 cmp r3,#0
 2270 0950 01D1     	 bne .L204
1018:../../../platform/common/services/usb/udc/udc.c **** 		return false; // The device is not is configured state yet
 2271              	 .loc 1 1018 0
 2272 0952 0023     	 movs r3,#0
 2273 0954 36E0     	 b .L205
 2274              	.L204:
1019:../../../platform/common/services/usb/udc/udc.c **** 	}
1020:../../../platform/common/services/usb/udc/udc.c **** 	// Check interface number
1021:../../../platform/common/services/usb/udc/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2275              	 .loc 1 1021 0
 2276 0956 1E4B     	 ldr r3,.L209+4
 2277 0958 9B88     	 ldrh r3,[r3,#4]
 2278 095a FB71     	 strb r3,[r7,#7]
1022:../../../platform/common/services/usb/udc/udc.c **** 	if (iface_num >= udc_ptr_conf->desc->bNumInterfaces) {
 2279              	 .loc 1 1022 0
 2280 095c 1D4B     	 ldr r3,.L209+8
 2281 095e 1B68     	 ldr r3,[r3]
 2282 0960 1B68     	 ldr r3,[r3]
 2283 0962 1B79     	 ldrb r3,[r3,#4]
 2284 0964 FA79     	 ldrb r2,[r7,#7]
 2285 0966 9A42     	 cmp r2,r3
 2286 0968 01D3     	 bcc .L206
1023:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 2287              	 .loc 1 1023 0
 2288 096a 0023     	 movs r3,#0
 2289 096c 2AE0     	 b .L205
 2290              	.L206:
1024:../../../platform/common/services/usb/udc/udc.c **** 	}
1025:../../../platform/common/services/usb/udc/udc.c **** 
1026:../../../platform/common/services/usb/udc/udc.c **** 	//* To update udc_ptr_iface with the selected interface in request
1027:../../../platform/common/services/usb/udc/udc.c **** 	// Select first alternate setting of interface to update udc_ptr_iface
1028:../../../platform/common/services/usb/udc/udc.c **** 	// before calling udi_api->getsetting()
1029:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, 0)) {
 2291              	 .loc 1 1029 0
 2292 096e FB79     	 ldrb r3,[r7,#7]
 2293 0970 0021     	 movs r1,#0
 2294 0972 1846     	 mov r0,r3
 2295 0974 FFF78CFB 	 bl udc_update_iface_desc
 2296 0978 0346     	 mov r3,r0
 2297 097a 83F00103 	 eor r3,r3,#1
 2298 097e DBB2     	 uxtb r3,r3
 2299 0980 002B     	 cmp r3,#0
 2300 0982 01D0     	 beq .L207
1030:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 2301              	 .loc 1 1030 0
 2302 0984 0023     	 movs r3,#0
 2303 0986 1DE0     	 b .L205
 2304              	.L207:
1031:../../../platform/common/services/usb/udc/udc.c **** 	}
1032:../../../platform/common/services/usb/udc/udc.c **** 	// Select the interface with the current alternate setting
1033:../../../platform/common/services/usb/udc/udc.c **** 	udi_api = udc_ptr_conf->udi_apis[iface_num];
 2305              	 .loc 1 1033 0
 2306 0988 124B     	 ldr r3,.L209+8
 2307 098a 1B68     	 ldr r3,[r3]
 2308 098c 5A68     	 ldr r2,[r3,#4]
 2309 098e FB79     	 ldrb r3,[r7,#7]
 2310 0990 9B00     	 lsls r3,r3,#2
 2311 0992 1344     	 add r3,r3,r2
 2312 0994 1B68     	 ldr r3,[r3]
 2313 0996 3B60     	 str r3,[r7]
1034:../../../platform/common/services/usb/udc/udc.c **** 	if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 2314              	 .loc 1 1034 0
 2315 0998 3B68     	 ldr r3,[r7]
 2316 099a DB68     	 ldr r3,[r3,#12]
 2317 099c 9847     	 blx r3
 2318              	.LVL23:
 2319 099e 0346     	 mov r3,r0
 2320 09a0 1A46     	 mov r2,r3
 2321 09a2 FB79     	 ldrb r3,[r7,#7]
 2322 09a4 1146     	 mov r1,r2
 2323 09a6 1846     	 mov r0,r3
 2324 09a8 FFF772FB 	 bl udc_update_iface_desc
 2325 09ac 0346     	 mov r3,r0
 2326 09ae 83F00103 	 eor r3,r3,#1
 2327 09b2 DBB2     	 uxtb r3,r3
 2328 09b4 002B     	 cmp r3,#0
 2329 09b6 01D0     	 beq .L208
1035:../../../platform/common/services/usb/udc/udc.c **** 		return false;
 2330              	 .loc 1 1035 0
 2331 09b8 0023     	 movs r3,#0
 2332 09ba 03E0     	 b .L205
 2333              	.L208:
1036:../../../platform/common/services/usb/udc/udc.c **** 	}
1037:../../../platform/common/services/usb/udc/udc.c **** 
1038:../../../platform/common/services/usb/udc/udc.c **** 	// Send the SETUP request to the UDI corresponding to the interface number
1039:../../../platform/common/services/usb/udc/udc.c **** 	return udi_api->setup();
 2334              	 .loc 1 1039 0
 2335 09bc 3B68     	 ldr r3,[r7]
 2336 09be 9B68     	 ldr r3,[r3,#8]
 2337 09c0 9847     	 blx r3
 2338              	.LVL24:
 2339 09c2 0346     	 mov r3,r0
 2340              	.L205:
1040:../../../platform/common/services/usb/udc/udc.c **** }
 2341              	 .loc 1 1040 0
 2342 09c4 1846     	 mov r0,r3
 2343 09c6 0837     	 adds r7,r7,#8
 2344              	.LCFI96:
 2345              	 .cfi_def_cfa_offset 8
 2346 09c8 BD46     	 mov sp,r7
 2347              	.LCFI97:
 2348              	 .cfi_def_cfa_register 13
 2349              	 
 2350 09ca 80BD     	 pop {r7,pc}
 2351              	.L210:
 2352              	 .align 2
 2353              	.L209:
 2354 09cc 00000000 	 .word udc_num_configuration
 2355 09d0 00000000 	 .word udd_g_ctrlreq
 2356 09d4 00000000 	 .word udc_ptr_conf
 2357              	 .cfi_endproc
 2358              	.LFE151:
 2360              	 .align 1
 2361              	 .syntax unified
 2362              	 .thumb
 2363              	 .thumb_func
 2364              	 .fpu softvfp
 2366              	udc_req_ep:
 2367              	.LFB152:
1041:../../../platform/common/services/usb/udc/udc.c **** 
1042:../../../platform/common/services/usb/udc/udc.c **** /**
1043:../../../platform/common/services/usb/udc/udc.c ****  * \brief Send the SETUP interface request to UDI
1044:../../../platform/common/services/usb/udc/udc.c ****  *
1045:../../../platform/common/services/usb/udc/udc.c ****  * \return true if the request is supported
1046:../../../platform/common/services/usb/udc/udc.c ****  */
1047:../../../platform/common/services/usb/udc/udc.c **** static bool udc_req_ep(void)
1048:../../../platform/common/services/usb/udc/udc.c **** {
 2368              	 .loc 1 1048 0
 2369              	 .cfi_startproc
 2370              	 
 2371              	 
 2372 09d8 80B5     	 push {r7,lr}
 2373              	.LCFI98:
 2374              	 .cfi_def_cfa_offset 8
 2375              	 .cfi_offset 7,-8
 2376              	 .cfi_offset 14,-4
 2377 09da 82B0     	 sub sp,sp,#8
 2378              	.LCFI99:
 2379              	 .cfi_def_cfa_offset 16
 2380 09dc 00AF     	 add r7,sp,#0
 2381              	.LCFI100:
 2382              	 .cfi_def_cfa_register 7
1049:../../../platform/common/services/usb/udc/udc.c **** 	uint8_t iface_num;
1050:../../../platform/common/services/usb/udc/udc.c **** 	udi_api_t UDC_DESC_STORAGE *udi_api;
1051:../../../platform/common/services/usb/udc/udc.c **** 
1052:../../../platform/common/services/usb/udc/udc.c **** 	if (0 == udc_num_configuration) {
 2383              	 .loc 1 1052 0
 2384 09de 1E4B     	 ldr r3,.L218
 2385 09e0 1B78     	 ldrb r3,[r3]
 2386 09e2 002B     	 cmp r3,#0
 2387 09e4 01D1     	 bne .L212
1053:../../../platform/common/services/usb/udc/udc.c **** 		return false; // The device is not is configured state yet
 2388              	 .loc 1 1053 0
 2389 09e6 0023     	 movs r3,#0
 2390 09e8 32E0     	 b .L213
 2391              	.L212:
1054:../../../platform/common/services/usb/udc/udc.c **** 	}
1055:../../../platform/common/services/usb/udc/udc.c **** 	// Send this request on all enabled interfaces
1056:../../../platform/common/services/usb/udc/udc.c **** 	iface_num = udd_g_ctrlreq.req.wIndex & 0xFF;
 2392              	 .loc 1 1056 0
 2393 09ea 1C4B     	 ldr r3,.L218+4
 2394 09ec 9B88     	 ldrh r3,[r3,#4]
 2395 09ee FB71     	 strb r3,[r7,#7]
1057:../../../platform/common/services/usb/udc/udc.c **** 	for (iface_num = 0; iface_num < udc_ptr_conf->desc->bNumInterfaces;
 2396              	 .loc 1 1057 0
 2397 09f0 0023     	 movs r3,#0
 2398 09f2 FB71     	 strb r3,[r7,#7]
 2399 09f4 24E0     	 b .L214
 2400              	.L217:
1058:../../../platform/common/services/usb/udc/udc.c **** 			iface_num++) {
1059:../../../platform/common/services/usb/udc/udc.c **** 		// Select the interface with the current alternate setting
1060:../../../platform/common/services/usb/udc/udc.c **** 		udi_api = udc_ptr_conf->udi_apis[iface_num];
 2401              	 .loc 1 1060 0
 2402 09f6 1A4B     	 ldr r3,.L218+8
 2403 09f8 1B68     	 ldr r3,[r3]
 2404 09fa 5A68     	 ldr r2,[r3,#4]
 2405 09fc FB79     	 ldrb r3,[r7,#7]
 2406 09fe 9B00     	 lsls r3,r3,#2
 2407 0a00 1344     	 add r3,r3,r2
 2408 0a02 1B68     	 ldr r3,[r3]
 2409 0a04 3B60     	 str r3,[r7]
1061:../../../platform/common/services/usb/udc/udc.c **** 		if (!udc_update_iface_desc(iface_num, udi_api->getsetting())) {
 2410              	 .loc 1 1061 0
 2411 0a06 3B68     	 ldr r3,[r7]
 2412 0a08 DB68     	 ldr r3,[r3,#12]
 2413 0a0a 9847     	 blx r3
 2414              	.LVL25:
 2415 0a0c 0346     	 mov r3,r0
 2416 0a0e 1A46     	 mov r2,r3
 2417 0a10 FB79     	 ldrb r3,[r7,#7]
 2418 0a12 1146     	 mov r1,r2
 2419 0a14 1846     	 mov r0,r3
 2420 0a16 FFF73BFB 	 bl udc_update_iface_desc
 2421 0a1a 0346     	 mov r3,r0
 2422 0a1c 83F00103 	 eor r3,r3,#1
 2423 0a20 DBB2     	 uxtb r3,r3
 2424 0a22 002B     	 cmp r3,#0
 2425 0a24 01D0     	 beq .L215
1062:../../../platform/common/services/usb/udc/udc.c **** 			return false;
 2426              	 .loc 1 1062 0
 2427 0a26 0023     	 movs r3,#0
 2428 0a28 12E0     	 b .L213
 2429              	.L215:
1063:../../../platform/common/services/usb/udc/udc.c **** 		}
1064:../../../platform/common/services/usb/udc/udc.c **** 
1065:../../../platform/common/services/usb/udc/udc.c **** 		// Send the SETUP request to the UDI
1066:../../../platform/common/services/usb/udc/udc.c **** 		if (udi_api->setup()) {
 2430              	 .loc 1 1066 0
 2431 0a2a 3B68     	 ldr r3,[r7]
 2432 0a2c 9B68     	 ldr r3,[r3,#8]
 2433 0a2e 9847     	 blx r3
 2434              	.LVL26:
 2435 0a30 0346     	 mov r3,r0
 2436 0a32 002B     	 cmp r3,#0
 2437 0a34 01D0     	 beq .L216
1067:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 2438              	 .loc 1 1067 0
 2439 0a36 0123     	 movs r3,#1
 2440 0a38 0AE0     	 b .L213
 2441              	.L216:
1058:../../../platform/common/services/usb/udc/udc.c **** 		// Select the interface with the current alternate setting
 2442              	 .loc 1 1058 0
 2443 0a3a FB79     	 ldrb r3,[r7,#7]
 2444 0a3c 0133     	 adds r3,r3,#1
 2445 0a3e FB71     	 strb r3,[r7,#7]
 2446              	.L214:
1057:../../../platform/common/services/usb/udc/udc.c **** 			iface_num++) {
 2447              	 .loc 1 1057 0 discriminator 1
 2448 0a40 074B     	 ldr r3,.L218+8
 2449 0a42 1B68     	 ldr r3,[r3]
 2450 0a44 1B68     	 ldr r3,[r3]
 2451 0a46 1B79     	 ldrb r3,[r3,#4]
 2452 0a48 FA79     	 ldrb r2,[r7,#7]
 2453 0a4a 9A42     	 cmp r2,r3
 2454 0a4c D3D3     	 bcc .L217
1068:../../../platform/common/services/usb/udc/udc.c **** 		}
1069:../../../platform/common/services/usb/udc/udc.c **** 	}
1070:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 2455              	 .loc 1 1070 0
 2456 0a4e 0023     	 movs r3,#0
 2457              	.L213:
1071:../../../platform/common/services/usb/udc/udc.c **** }
 2458              	 .loc 1 1071 0
 2459 0a50 1846     	 mov r0,r3
 2460 0a52 0837     	 adds r7,r7,#8
 2461              	.LCFI101:
 2462              	 .cfi_def_cfa_offset 8
 2463 0a54 BD46     	 mov sp,r7
 2464              	.LCFI102:
 2465              	 .cfi_def_cfa_register 13
 2466              	 
 2467 0a56 80BD     	 pop {r7,pc}
 2468              	.L219:
 2469              	 .align 2
 2470              	.L218:
 2471 0a58 00000000 	 .word udc_num_configuration
 2472 0a5c 00000000 	 .word udd_g_ctrlreq
 2473 0a60 00000000 	 .word udc_ptr_conf
 2474              	 .cfi_endproc
 2475              	.LFE152:
 2477              	 .align 1
 2478              	 .global udc_process_setup
 2479              	 .syntax unified
 2480              	 .thumb
 2481              	 .thumb_func
 2482              	 .fpu softvfp
 2484              	udc_process_setup:
 2485              	.LFB153:
1072:../../../platform/common/services/usb/udc/udc.c **** 
1073:../../../platform/common/services/usb/udc/udc.c **** /**
1074:../../../platform/common/services/usb/udc/udc.c ****  * \brief Main routine to manage the USB SETUP request.
1075:../../../platform/common/services/usb/udc/udc.c ****  *
1076:../../../platform/common/services/usb/udc/udc.c ****  * This function parses a USB SETUP request and submits an appropriate
1077:../../../platform/common/services/usb/udc/udc.c ****  * response back to the host or, in the case of SETUP OUT requests
1078:../../../platform/common/services/usb/udc/udc.c ****  * with data, sets up a buffer for receiving the data payload.
1079:../../../platform/common/services/usb/udc/udc.c ****  *
1080:../../../platform/common/services/usb/udc/udc.c ****  * The main standard requests defined by the USB 2.0 standard are handled
1081:../../../platform/common/services/usb/udc/udc.c ****  * internally. The interface requests are sent to UDI, and the specific request
1082:../../../platform/common/services/usb/udc/udc.c ****  * sent to a specific application callback.
1083:../../../platform/common/services/usb/udc/udc.c ****  *
1084:../../../platform/common/services/usb/udc/udc.c ****  * \return true if the request is supported, else the request is stalled by UDD
1085:../../../platform/common/services/usb/udc/udc.c ****  */
1086:../../../platform/common/services/usb/udc/udc.c **** bool udc_process_setup(void)
1087:../../../platform/common/services/usb/udc/udc.c **** {
 2486              	 .loc 1 1087 0
 2487              	 .cfi_startproc
 2488              	 
 2489              	 
 2490 0a64 80B5     	 push {r7,lr}
 2491              	.LCFI103:
 2492              	 .cfi_def_cfa_offset 8
 2493              	 .cfi_offset 7,-8
 2494              	 .cfi_offset 14,-4
 2495 0a66 00AF     	 add r7,sp,#0
 2496              	.LCFI104:
 2497              	 .cfi_def_cfa_register 7
1088:../../../platform/common/services/usb/udc/udc.c **** 	// By default no data (receive/send) and no callbacks registered
1089:../../../platform/common/services/usb/udc/udc.c **** 	udd_g_ctrlreq.payload_size = 0;
 2498              	 .loc 1 1089 0
 2499 0a68 1E4B     	 ldr r3,.L226
 2500 0a6a 0022     	 movs r2,#0
 2501 0a6c 9A81     	 strh r2,[r3,#12]
1090:../../../platform/common/services/usb/udc/udc.c **** 	udd_g_ctrlreq.callback = NULL;
 2502              	 .loc 1 1090 0
 2503 0a6e 1D4B     	 ldr r3,.L226
 2504 0a70 0022     	 movs r2,#0
 2505 0a72 1A61     	 str r2,[r3,#16]
1091:../../../platform/common/services/usb/udc/udc.c **** 	udd_g_ctrlreq.over_under_run = NULL;
 2506              	 .loc 1 1091 0
 2507 0a74 1B4B     	 ldr r3,.L226
 2508 0a76 0022     	 movs r2,#0
 2509 0a78 5A61     	 str r2,[r3,#20]
1092:../../../platform/common/services/usb/udc/udc.c **** 
1093:../../../platform/common/services/usb/udc/udc.c **** 	if (Udd_setup_is_in()) {
 2510              	 .loc 1 1093 0
 2511 0a7a 1A4B     	 ldr r3,.L226
 2512 0a7c 1B78     	 ldrb r3,[r3]
 2513 0a7e 5BB2     	 sxtb r3,r3
 2514 0a80 002B     	 cmp r3,#0
 2515 0a82 05DA     	 bge .L221
1094:../../../platform/common/services/usb/udc/udc.c **** 		if (udd_g_ctrlreq.req.wLength == 0) {
 2516              	 .loc 1 1094 0
 2517 0a84 174B     	 ldr r3,.L226
 2518 0a86 DB88     	 ldrh r3,[r3,#6]
 2519 0a88 002B     	 cmp r3,#0
 2520 0a8a 01D1     	 bne .L221
1095:../../../platform/common/services/usb/udc/udc.c **** 			return false; // Error from USB host
 2521              	 .loc 1 1095 0
 2522 0a8c 0023     	 movs r3,#0
 2523 0a8e 27E0     	 b .L222
 2524              	.L221:
1096:../../../platform/common/services/usb/udc/udc.c **** 		}
1097:../../../platform/common/services/usb/udc/udc.c **** 	}
1098:../../../platform/common/services/usb/udc/udc.c **** 
1099:../../../platform/common/services/usb/udc/udc.c **** 	// If standard request then try to decode it in UDC
1100:../../../platform/common/services/usb/udc/udc.c **** 	if (Udd_setup_type() == USB_REQ_TYPE_STANDARD) {
 2525              	 .loc 1 1100 0
 2526 0a90 144B     	 ldr r3,.L226
 2527 0a92 1B78     	 ldrb r3,[r3]
 2528 0a94 03F06003 	 and r3,r3,#96
 2529 0a98 002B     	 cmp r3,#0
 2530 0a9a 06D1     	 bne .L223
1101:../../../platform/common/services/usb/udc/udc.c **** 		if (udc_reqstd()) {
 2531              	 .loc 1 1101 0
 2532 0a9c FFF7B2FE 	 bl udc_reqstd
 2533 0aa0 0346     	 mov r3,r0
 2534 0aa2 002B     	 cmp r3,#0
 2535 0aa4 01D0     	 beq .L223
1102:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 2536              	 .loc 1 1102 0
 2537 0aa6 0123     	 movs r3,#1
 2538 0aa8 1AE0     	 b .L222
 2539              	.L223:
1103:../../../platform/common/services/usb/udc/udc.c **** 		}
1104:../../../platform/common/services/usb/udc/udc.c **** 	}
1105:../../../platform/common/services/usb/udc/udc.c **** 
1106:../../../platform/common/services/usb/udc/udc.c **** 	// If interface request then try to decode it in UDI
1107:../../../platform/common/services/usb/udc/udc.c **** 	if (Udd_setup_recipient() == USB_REQ_RECIP_INTERFACE) {
 2540              	 .loc 1 1107 0
 2541 0aaa 0E4B     	 ldr r3,.L226
 2542 0aac 1B78     	 ldrb r3,[r3]
 2543 0aae 03F01F03 	 and r3,r3,#31
 2544 0ab2 012B     	 cmp r3,#1
 2545 0ab4 06D1     	 bne .L224
1108:../../../platform/common/services/usb/udc/udc.c **** 		if (udc_req_iface()) {
 2546              	 .loc 1 1108 0
 2547 0ab6 FFF745FF 	 bl udc_req_iface
 2548 0aba 0346     	 mov r3,r0
 2549 0abc 002B     	 cmp r3,#0
 2550 0abe 01D0     	 beq .L224
1109:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 2551              	 .loc 1 1109 0
 2552 0ac0 0123     	 movs r3,#1
 2553 0ac2 0DE0     	 b .L222
 2554              	.L224:
1110:../../../platform/common/services/usb/udc/udc.c **** 		}
1111:../../../platform/common/services/usb/udc/udc.c **** 	}
1112:../../../platform/common/services/usb/udc/udc.c **** 
1113:../../../platform/common/services/usb/udc/udc.c **** 	// If endpoint request then try to decode it in UDI
1114:../../../platform/common/services/usb/udc/udc.c **** 	if (Udd_setup_recipient() == USB_REQ_RECIP_ENDPOINT) {
 2555              	 .loc 1 1114 0
 2556 0ac4 074B     	 ldr r3,.L226
 2557 0ac6 1B78     	 ldrb r3,[r3]
 2558 0ac8 03F01F03 	 and r3,r3,#31
 2559 0acc 022B     	 cmp r3,#2
 2560 0ace 06D1     	 bne .L225
1115:../../../platform/common/services/usb/udc/udc.c **** 		if (udc_req_ep()) {
 2561              	 .loc 1 1115 0
 2562 0ad0 FFF782FF 	 bl udc_req_ep
 2563 0ad4 0346     	 mov r3,r0
 2564 0ad6 002B     	 cmp r3,#0
 2565 0ad8 01D0     	 beq .L225
1116:../../../platform/common/services/usb/udc/udc.c **** 			return true;
 2566              	 .loc 1 1116 0
 2567 0ada 0123     	 movs r3,#1
 2568 0adc 00E0     	 b .L222
 2569              	.L225:
1117:../../../platform/common/services/usb/udc/udc.c **** 		}
1118:../../../platform/common/services/usb/udc/udc.c **** 	}
1119:../../../platform/common/services/usb/udc/udc.c **** 
1120:../../../platform/common/services/usb/udc/udc.c **** 	// Here SETUP request unknown by UDC and UDIs
1121:../../../platform/common/services/usb/udc/udc.c **** #ifdef USB_DEVICE_SPECIFIC_REQUEST
1122:../../../platform/common/services/usb/udc/udc.c **** 	// Try to decode it in specific callback
1123:../../../platform/common/services/usb/udc/udc.c **** 	return USB_DEVICE_SPECIFIC_REQUEST(); // Ex: Vendor request,...
1124:../../../platform/common/services/usb/udc/udc.c **** #else
1125:../../../platform/common/services/usb/udc/udc.c **** 	return false;
 2570              	 .loc 1 1125 0
 2571 0ade 0023     	 movs r3,#0
 2572              	.L222:
1126:../../../platform/common/services/usb/udc/udc.c **** #endif
1127:../../../platform/common/services/usb/udc/udc.c **** }
 2573              	 .loc 1 1127 0
 2574 0ae0 1846     	 mov r0,r3
 2575 0ae2 80BD     	 pop {r7,pc}
 2576              	.L227:
 2577              	 .align 2
 2578              	.L226:
 2579 0ae4 00000000 	 .word udd_g_ctrlreq
 2580              	 .cfi_endproc
 2581              	.LFE153:
 2583              	 .section .bss.udc_ep_status.8256,"aw",%nobits
 2584              	 .align 1
 2587              	udc_ep_status.8256:
 2588 0000 0000     	 .space 2
 2589              	 .section .bss.udc_iface_setting.8314,"aw",%nobits
 2592              	udc_iface_setting.8314:
 2593 0000 00       	 .space 1
 2594              	 .text
 2595              	.Letext0:
 2596              	 .file 2 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\machine\\_default_types.h"
 2597              	 .file 3 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\_stdint.h"
 2598              	 .file 4 "../../../platform/thirdparty/CMSIS/include/core_cm4.h"
 2599              	 .file 5 "../../../platform/sam/utils/cmsis/sam4l/source/templates/system_sam4l.h"
 2600              	 .file 6 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\lock.h"
 2601              	 .file 7 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\_types.h"
 2602              	 .file 8 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\lib\\gcc\\arm-none-eabi\\6.3.1\\include\\stddef.h"
 2603              	 .file 9 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\sys\\reent.h"
 2604              	 .file 10 "c:\\program files (x86)\\atmel\\studio\\7.0\\toolchain\\arm\\arm-gnu-toolchain\\arm-none-eabi\\include\\stdlib.h"
 2605              	 .file 11 "../../../platform/common/utils/interrupt/interrupt_sam_nvic.h"
 2606              	 .file 12 "../../../platform/sam/utils/compiler.h"
 2607              	 .file 13 "../../../platform/common/services/usb/usb_protocol.h"
 2608              	 .file 14 "../../../platform/common/services/usb/udc/udi.h"
 2609              	 .file 15 "../../../platform/common/services/usb/udc/udc_desc.h"
 2610              	 .file 16 "../../../platform/common/services/usb/udc/udd.h"
 2611              	 .file 17 "../../../platform/common/services/usb/class/cdc/device/udi_cdc.h"
 2612              	 .file 18 "../../../platform/common/utils/stdio/stdio_usb/stdio_usb.h"
 2613              	 .file 19 "config/config.h"
DEFINED SYMBOLS
                            *ABS*:00000000 udc.c
    {standard input}:16     .bss.cpu_irq_critical_section_counter:00000000 $d
    {standard input}:19     .bss.cpu_irq_critical_section_counter:00000000 cpu_irq_critical_section_counter
    {standard input}:24     .bss.cpu_irq_prev_interrupt_state:00000000 cpu_irq_prev_interrupt_state
    {standard input}:25     .bss.cpu_irq_prev_interrupt_state:00000000 $d
                            *COM*:00000001 n
    {standard input}:28     .bss.tTS:00000000 $d
    {standard input}:31     .bss.tTS:00000000 tTS
    {standard input}:34     .bss.udc_device_status:00000000 $d
    {standard input}:37     .bss.udc_device_status:00000000 udc_device_status
    {standard input}:42     .bss.udc_num_configuration:00000000 udc_num_configuration
    {standard input}:43     .bss.udc_num_configuration:00000000 $d
    {standard input}:45     .bss.udc_ptr_conf:00000000 $d
    {standard input}:48     .bss.udc_ptr_conf:00000000 udc_ptr_conf
    {standard input}:51     .bss.udc_ptr_iface:00000000 $d
    {standard input}:54     .bss.udc_ptr_iface:00000000 udc_ptr_iface
    {standard input}:57     .data.udc_string_desc_languageid:00000000 $d
    {standard input}:60     .data.udc_string_desc_languageid:00000000 udc_string_desc_languageid
    {standard input}:65     .data.udc_string_manufacturer_name:00000000 $d
    {standard input}:68     .data.udc_string_manufacturer_name:00000000 udc_string_manufacturer_name
    {standard input}:71     .data.udc_string_product_name:00000000 $d
    {standard input}:74     .data.udc_string_product_name:00000000 udc_string_product_name
    {standard input}:77     .data.udc_string_desc:00000000 $d
    {standard input}:80     .data.udc_string_desc:00000000 udc_string_desc
    {standard input}:85     .text:00000000 $t
    {standard input}:92     .text:00000000 udc_get_interface_desc
    {standard input}:124    .text:00000010 $d
    {standard input}:128    .text:00000014 $t
    {standard input}:134    .text:00000014 udc_get_eof_conf
    {standard input}:174    .text:00000034 $d
    {standard input}:178    .text:00000038 $t
    {standard input}:184    .text:00000038 udc_next_desc_in_iface
    {standard input}:274    .text:00000090 udc_update_iface_desc
    {standard input}:390    .text:0000011c $d
    {standard input}:396    .text:00000128 $t
    {standard input}:402    .text:00000128 udc_iface_disable
    {standard input}:513    .text:000001b4 $d
    {standard input}:519    .text:000001c0 $t
    {standard input}:525    .text:000001c0 udc_iface_enable
    {standard input}:625    .text:00000244 $d
    {standard input}:631    .text:00000250 $t
    {standard input}:638    .text:00000250 udc_start
    {standard input}:662    .text:0000025c $d
    {standard input}:666    .text:00000260 $t
    {standard input}:673    .text:00000260 udc_stop
    {standard input}:710    .text:00000274 udc_reset
    {standard input}:699    .text:00000270 $d
    {standard input}:703    .text:00000274 $t
    {standard input}:777    .text:000002b8 $d
    {standard input}:783    .text:000002c4 $t
    {standard input}:790    .text:000002c4 udc_sof_notify
    {standard input}:868    .text:0000031c $d
    {standard input}:873    .text:00000324 $t
    {standard input}:879    .text:00000324 udc_req_std_dev_get_status
    {standard input}:917    .text:00000344 $d
    {standard input}:923    .text:00000350 $t
    {standard input}:929    .text:00000350 udc_req_std_ep_get_status
    {standard input}:981    .text:00000384 $d
    {standard input}:2587   .bss.udc_ep_status.8256:00000000 udc_ep_status.8256
    {standard input}:988    .text:00000394 $t
    {standard input}:994    .text:00000394 udc_req_std_dev_clear_feature
    {standard input}:1050   .text:000003c8 $d
    {standard input}:1055   .text:000003d0 $t
    {standard input}:1061   .text:000003d0 udc_req_std_ep_clear_feature
    {standard input}:1109   .text:00000400 $d
    {standard input}:1114   .text:00000408 $t
    {standard input}:1120   .text:00000408 udc_req_std_dev_set_feature
    {standard input}:1171   .text:00000430 $d
    {standard input}:1175   .text:00000434 $t
    {standard input}:1181   .text:00000434 udc_req_std_ep_set_feature
    {standard input}:1237   .text:00000470 $d
    {standard input}:1243   .text:0000047c $t
    {standard input}:1249   .text:0000047c udc_valid_address
    {standard input}:1279   .text:00000498 $d
    {standard input}:1284   .text:000004a0 $t
    {standard input}:1290   .text:000004a0 udc_req_std_dev_set_address
    {standard input}:1334   .text:000004c0 $d
    {standard input}:1339   .text:000004c8 $t
    {standard input}:1345   .text:000004c8 udc_req_std_dev_get_str_desc
    {standard input}:1472   .text:0000055c $d
    {standard input}:1481   .text:00000574 $t
    {standard input}:1487   .text:00000574 udc_req_std_dev_get_descriptor
    {standard input}:1624   .text:00000620 $d
    {standard input}:1630   .text:0000062c $t
    {standard input}:1636   .text:0000062c udc_req_std_dev_get_configuration
    {standard input}:1674   .text:0000064c $d
    {standard input}:1680   .text:00000658 $t
    {standard input}:1686   .text:00000658 udc_req_std_dev_set_configuration
    {standard input}:1814   .text:000006fc $d
    {standard input}:1822   .text:00000710 $t
    {standard input}:1828   .text:00000710 udc_req_std_iface_get_setting
    {standard input}:1933   .text:00000790 $d
    {standard input}:2592   .bss.udc_iface_setting.8314:00000000 udc_iface_setting.8314
    {standard input}:1941   .text:000007a4 $t
    {standard input}:1947   .text:000007a4 udc_req_std_iface_set_setting
    {standard input}:2024   .text:000007fc $d
    {standard input}:2029   .text:00000804 $t
    {standard input}:2035   .text:00000804 udc_reqstd
    {standard input}:2151   .text:000008ac $d
    {standard input}:2160   .text:000008d0 $t
    {standard input}:2239   .text:00000940 $d
    {standard input}:2243   .text:00000944 $t
    {standard input}:2249   .text:00000944 udc_req_iface
    {standard input}:2354   .text:000009cc $d
    {standard input}:2360   .text:000009d8 $t
    {standard input}:2366   .text:000009d8 udc_req_ep
    {standard input}:2471   .text:00000a58 $d
    {standard input}:2477   .text:00000a64 $t
    {standard input}:2484   .text:00000a64 udc_process_setup
    {standard input}:2579   .text:00000ae4 $d
    {standard input}:2584   .bss.udc_ep_status.8256:00000000 $d
    {standard input}:2593   .bss.udc_iface_setting.8314:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
udd_ep_free
udd_ep_alloc
udd_enable
udd_disable
udd_g_ctrlreq
udd_set_setup_payload
udd_ep_is_halted
udd_ep_clear_halt
udd_ep_abort
udd_ep_set_halt
udd_set_address
udc_config
udd_getaddress
